(this["webpackJsonpweeb-finance-app"]=this["webpackJsonpweeb-finance-app"]||[]).push([[0],{112:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},181:function(e){e.exports=JSON.parse('[{"inputs":[],"name":"WETH","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"}],"name":"getAmountsOut","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactETHForTokensSupportingFeeOnTransferTokens","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactTokensForETHSupportingFeeOnTransferTokens","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},182:function(e){e.exports=JSON.parse('[{"type":"function","name":"quote","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"sourceRouter"},{"type":"address","name":"sourceToken"},{"type":"bool","name":"isSourceLiquidityToken"},{"type":"uint256","name":"sourceTokenAmount"},{"type":"address","name":"targetRouter"},{"type":"address","name":"targetToken"},{"type":"bool","name":"isTargetLiquidityToken"}],"outputs":[{"type":"uint256","name":""}]},{"type":"function","name":"swap","constant":false,"payable":false,"inputs":[{"type":"address","name":"sourceRouter"},{"type":"address","name":"sourceToken"},{"type":"bool","name":"isSourceLiquidityToken"},{"type":"uint256","name":"sourceTokenAmount"},{"type":"address","name":"targetRouter"},{"type":"address","name":"targetToken"},{"type":"bool","name":"isTargetLiquidityToken"},{"type":"address","name":"to"},{"type":"uint256","name":"deadline"},{"type":"uint256","name":"amountOutMin"}],"outputs":[{"type":"uint256","name":""}]}]')},183:function(e){e.exports=JSON.parse('[{"type":"function","name":"allowance","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"owner"},{"type":"address","name":"spender"}],"outputs":[{"type":"uint256","name":""}]},{"type":"function","name":"approve","constant":false,"payable":false,"inputs":[{"type":"address","name":"spender"},{"type":"uint256","name":"amount"}],"outputs":[{"type":"bool","name":""}]},{"type":"function","name":"harvestPendingReward","constant":false,"payable":false,"inputs":[],"outputs":[{"type":"uint256","name":""}]},{"type":"function","name":"senderTokenSnapshot","constant":true,"stateMutability":"view","payable":false,"inputs":[],"outputs":[{"type":"tuple","components":[{"type":"tuple","name":"details","components":[{"type":"string","name":"name"},{"type":"string","name":"symbol"},{"type":"uint8","name":"decimals"}]},{"type":"uint256","name":"maximumSupply"},{"type":"uint256","name":"initialSupply"},{"type":"uint256","name":"totalSupply"},{"type":"uint256","name":"totalLockedSupply"},{"type":"uint256","name":"totalStaked"},{"type":"uint256","name":"supplyInContracts"},{"type":"uint256","name":"supplyInNonrewardables"},{"type":"address","name":"seigniory"},{"type":"tuple","name":"seigniorageFee","components":[{"type":"uint256","name":"rate"},{"type":"tuple","name":"collected","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]}]},{"type":"uint256","name":"totalRewarded"},{"type":"tuple","name":"totalTransacted","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"uint256","name":"reducedEmissionHolderLimit"},{"type":"uint256","name":"baseRewardPerBlock"},{"type":"uint256","name":"maximumRewardPerBlock"},{"type":"uint256","name":"currentRewardPerBlock"},{"type":"uint256","name":"transferBurnRate"},{"type":"uint256","name":"salesBaseBurnRate"},{"type":"uint256","name":"salesMaximumBurnRate"},{"type":"uint256","name":"currentSalesBurnRate"},{"type":"uint256","name":"rebatableBurnRate"},{"type":"uint256","name":"rebateMaximizingShare"},{"type":"uint256","name":"rebateShareStepsize"},{"type":"bool","name":"isInflationRegulated"},{"type":"uint32","name":"regulationInterval"},{"type":"uint32","name":"regulationTimestamp"},{"type":"uint256","name":"priceAverage"},{"type":"uint256","name":"rewardMultiplier"},{"type":"uint256","name":"burnMultiplier"},{"type":"bool","name":"isSenderSeignory"},{"type":"uint256","name":"senderBalance"},{"type":"uint256","name":"senderLockedBalance"},{"type":"uint256","name":"senderFreeBalance"},{"type":"bool","name":"isSenderNonburnable"},{"type":"uint256","name":"senderRebateRate"},{"type":"bool","name":"isSenderDirectHarvester"},{"type":"bool","name":"isSenderNonrewardable"},{"type":"uint256","name":"senderPendingReward"},{"type":"uint256","name":"pendingPoolReward"},{"type":"uint256","name":"rewardLastDistributedBlock"},{"type":"uint256","name":"currentBlock"},{"type":"tuple","name":"senderTotalRebated","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple","name":"senderTotalBurnt","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple","name":"senderTotalHarvested","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple","name":"totalRebated","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple","name":"totalBurnt","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple","name":"totalHarvested","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"uint256","name":"transfers"},{"type":"uint256","name":"holders"},{"type":"bool","name":"isDirectHarvestingEnabled"},{"type":"bool","name":"isDirectlyHarvestable"}],"name":""}]},{"type":"function","name":"transfer","constant":false,"payable":false,"inputs":[{"type":"address","name":"recipient"},{"type":"uint256","name":"amount"}],"outputs":[{"type":"bool","name":""}]}]')},184:function(e){e.exports=JSON.parse('[{"type":"function","name":"bet","constant":false,"payable":false,"inputs":[{"type":"uint256","name":"gameId"},{"type":"address","name":"router"},{"type":"address","name":"token"},{"type":"bool","name":"isLiquidityToken"},{"type":"uint256","name":"amount"},{"type":"uint256","name":"amountOutMin"},{"type":"uint8","name":"outcome"}],"outputs":[]},{"type":"function","name":"bet","constant":false,"payable":false,"inputs":[{"type":"uint256","name":"gameId"},{"type":"uint256","name":"amount"},{"type":"uint8","name":"outcome"}],"outputs":[]},{"type":"function","name":"claim","constant":false,"payable":false,"inputs":[{"type":"uint256","name":"gameId"}],"outputs":[{"type":"tuple","components":[{"type":"uint256","name":"winningBet"},{"type":"uint256","name":"prize"}],"name":""}]},{"type":"function","name":"compound","constant":false,"payable":false,"inputs":[{"type":"uint256","name":"gameId"},{"type":"uint8","name":"outcome"}],"outputs":[]},{"type":"function","name":"senderBetPools","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256","name":"gameId"}],"outputs":[{"type":"uint256[]","name":""}]},{"type":"function","name":"senderGameSnapshots","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint8","name":"isEnabled"}],"outputs":[{"type":"tuple[]","components":[{"type":"uint256","name":"gameId"},{"type":"string","name":"name"},{"type":"tuple","name":"tokenInfo","components":[{"type":"address","name":"router"},{"type":"address","name":"token"},{"type":"tuple","name":"details","components":[{"type":"string","name":"name"},{"type":"string","name":"symbol"},{"type":"uint8","name":"decimals"}]}]},{"type":"uint256","name":"minimumBet"},{"type":"bool","name":"isPercentage"},{"type":"uint256","name":"blockLength"},{"type":"uint8","name":"outcomeCount"},{"type":"address","name":"seigniory"},{"type":"tuple","name":"seigniorageFee","components":[{"type":"uint256","name":"rate"},{"type":"tuple","name":"collected","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]}]},{"type":"bool","name":"isSenderSeignory"},{"type":"bool","name":"isEnabled"},{"type":"tuple","name":"totalPosition","components":[{"type":"tuple","name":"placedBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple","name":"claimedBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple","name":"claimedPrizes","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"uint256","name":"lastBetPoolId"},{"type":"uint256","name":"previousBetPoolId"}]},{"type":"uint256","name":"unclaimedBalance"},{"type":"uint256","name":"currentPoolId"},{"type":"tuple","name":"currentBetPool","components":[{"type":"uint256","name":"poolId"},{"type":"uint8","name":"outcome"},{"type":"tuple[]","name":"allBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple[]","name":"senderBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple","name":"statement","components":[{"type":"tuple","name":"allAggregatedBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"allWinningBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"allLosingBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"senderAggregatedBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"senderWinningBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"senderLosingBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"uint256","name":"senderPrize"}]}]},{"type":"tuple","name":"lastBetPool","components":[{"type":"uint256","name":"poolId"},{"type":"uint8","name":"outcome"},{"type":"tuple[]","name":"allBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple[]","name":"senderBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple","name":"statement","components":[{"type":"tuple","name":"allAggregatedBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"allWinningBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"allLosingBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"senderAggregatedBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"senderWinningBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"senderLosingBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"uint256","name":"senderPrize"}]}]},{"type":"tuple","name":"senderRecentBet","components":[{"type":"uint256","name":"lastBetPoolId"},{"type":"uint256","name":"lastDistributedBlock"},{"type":"uint256","name":"previousBetPoolId"},{"type":"uint256","name":"previousDistributedBlock"}]},{"type":"tuple","name":"senderUnclaimedPrize","components":[{"type":"uint256","name":"winningBet"},{"type":"uint256","name":"prize"}]},{"type":"uint8","name":"senderUnclaimedPrizeState"},{"type":"tuple","name":"senderLastBetPool","components":[{"type":"uint256","name":"poolId"},{"type":"uint8","name":"outcome"},{"type":"tuple[]","name":"allBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple[]","name":"senderBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple","name":"statement","components":[{"type":"tuple","name":"allAggregatedBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"allWinningBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"allLosingBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"senderAggregatedBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"senderWinningBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"senderLosingBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"uint256","name":"senderPrize"}]}]},{"type":"uint256","name":"senderBetPoolCount"},{"type":"uint256","name":"currentBlock"}],"name":""}]},{"type":"function","name":"senderPoolSnapshots","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint256","name":"gameId"},{"type":"uint256","name":"offset"},{"type":"uint256","name":"count"}],"outputs":[{"type":"tuple[]","components":[{"type":"uint256","name":"poolId"},{"type":"uint8","name":"outcome"},{"type":"tuple[]","name":"allBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple[]","name":"senderBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"tuple","name":"statement","components":[{"type":"tuple","name":"allAggregatedBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"allWinningBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"allLosingBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"senderAggregatedBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"senderWinningBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"senderLosingBets","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"uint256","name":"senderPrize"}]}],"name":""}]}]')},185:function(e){e.exports=JSON.parse('[{"type":"function","name":"deposit","constant":false,"payable":false,"inputs":[{"type":"uint256","name":"poolId"},{"type":"address","name":"router"},{"type":"address","name":"token"},{"type":"bool","name":"isLiquidityToken"},{"type":"uint256","name":"amount"},{"type":"uint256","name":"amountOutMin"}],"outputs":[{"type":"tuple","components":[{"type":"uint256","name":"deposited"},{"type":"uint256","name":"credited"},{"type":"uint256","name":"creditLiquidationLevel"},{"type":"tuple","name":"liquidated","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"uint256","name":"updatedBlockId"},{"type":"uint256","name":"investorIndex"}],"name":""}]},{"type":"function","name":"deposit","constant":false,"payable":false,"inputs":[{"type":"uint256","name":"poolId"},{"type":"uint256","name":"amount"}],"outputs":[{"type":"tuple","components":[{"type":"uint256","name":"deposited"},{"type":"uint256","name":"credited"},{"type":"uint256","name":"creditLiquidationLevel"},{"type":"tuple","name":"liquidated","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"uint256","name":"updatedBlockId"},{"type":"uint256","name":"investorIndex"}],"name":""}]},{"type":"function","name":"liquidateAccount","constant":false,"payable":false,"inputs":[{"type":"uint256","name":"poolId"},{"type":"address","name":"investor"}],"outputs":[{"type":"tuple","name":"result","components":[{"type":"uint256","name":"poolId"},{"type":"uint256","name":"liquidated"},{"type":"uint256","name":"liquidatorFee"},{"type":"uint256","name":"credited"},{"type":"bool","name":"isSelf"}]}]},{"type":"function","name":"liquidateSenderUnchecked","constant":false,"payable":false,"inputs":[{"type":"uint256","name":"poolId"}],"outputs":[{"type":"tuple","name":"result","components":[{"type":"uint256","name":"poolId"},{"type":"uint256","name":"liquidated"},{"type":"uint256","name":"liquidatorFee"},{"type":"uint256","name":"credited"},{"type":"bool","name":"isSelf"}]}]},{"type":"function","name":"rebalance","constant":false,"payable":false,"inputs":[{"type":"uint256","name":"poolId"}],"outputs":[{"type":"tuple","components":[{"type":"uint256","name":"deposited"},{"type":"uint256","name":"credited"},{"type":"uint256","name":"creditLiquidationLevel"},{"type":"tuple","name":"liquidated","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"uint256","name":"updatedBlockId"},{"type":"uint256","name":"investorIndex"}],"name":""}]},{"type":"function","name":"senderFarmLiquidatablesSnapshot","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint8","name":"isEnabled"}],"outputs":[{"type":"tuple","components":[{"type":"tuple","name":"creditToken","components":[{"type":"address","name":"router"},{"type":"address","name":"token"},{"type":"tuple","name":"details","components":[{"type":"string","name":"name"},{"type":"string","name":"symbol"},{"type":"uint8","name":"decimals"}]}]},{"type":"tuple[]","name":"poolLiquidatables","components":[{"type":"tuple","name":"pool","components":[{"type":"uint256","name":"poolId"},{"type":"tuple","name":"depositToken","components":[{"type":"address","name":"router"},{"type":"address","name":"token"},{"type":"tuple","name":"details","components":[{"type":"string","name":"name"},{"type":"string","name":"symbol"},{"type":"uint8","name":"decimals"}]}]},{"type":"bool","name":"isLiquidityToken"},{"type":"address","name":"token0"},{"type":"tuple","name":"token0Details","components":[{"type":"string","name":"name"},{"type":"string","name":"symbol"},{"type":"uint8","name":"decimals"}]},{"type":"address","name":"token1"},{"type":"tuple","name":"token1Details","components":[{"type":"string","name":"name"},{"type":"string","name":"symbol"},{"type":"uint8","name":"decimals"}]},{"type":"tuple","name":"depositFee","components":[{"type":"uint256","name":"rate"},{"type":"tuple","name":"collected","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]}]},{"type":"uint256","name":"creditMultiplier"},{"type":"uint256","name":"creditLiquidationRate"},{"type":"tuple","name":"liquidatorFee","components":[{"type":"uint256","name":"rate"},{"type":"tuple","name":"collected","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]}]},{"type":"address","name":"seigniory"},{"type":"tuple","name":"seigniorageFee","components":[{"type":"uint256","name":"rate"},{"type":"tuple","name":"collected","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]}]},{"type":"bool","name":"isSenderSeignory"},{"type":"uint256","name":"investorCount"},{"type":"bool","name":"isEnabled"},{"type":"uint256","name":"senderBalance"},{"type":"tuple","name":"senderPosition","components":[{"type":"uint256","name":"deposited"},{"type":"uint256","name":"credited"},{"type":"uint256","name":"creditLiquidationLevel"},{"type":"tuple","name":"liquidated","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"uint256","name":"updatedBlockId"},{"type":"uint256","name":"investorIndex"}]},{"type":"uint256","name":"senderCurrentCredit"},{"type":"bool","name":"isSenderLiquidatable"},{"type":"tuple","name":"totalPosition","components":[{"type":"uint256","name":"deposited"},{"type":"uint256","name":"credited"},{"type":"tuple","name":"liquidated","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"uint256","name":"updatedBlockId"}]}]},{"type":"tuple[]","name":"investorLiquidatables","components":[{"type":"address","name":"investor"},{"type":"tuple","name":"position","components":[{"type":"uint256","name":"deposited"},{"type":"uint256","name":"credited"},{"type":"uint256","name":"creditLiquidationLevel"},{"type":"tuple","name":"liquidated","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"uint256","name":"updatedBlockId"},{"type":"uint256","name":"investorIndex"}]},{"type":"uint256","name":"liquidity"},{"type":"uint256","name":"liquidatorFee"},{"type":"bool","name":"isSelf"}]},{"type":"tuple","name":"totalLiquidity","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"totalLiquidatorFee","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]}]},{"type":"tuple","name":"totalLiquidity","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"tuple","name":"totalLiquidatorFee","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"}]},{"type":"uint256","name":"currentBlock"}],"name":""}]},{"type":"function","name":"senderFarmSnapshot","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"uint8","name":"isEnabled"}],"outputs":[{"type":"tuple","components":[{"type":"tuple","name":"creditToken","components":[{"type":"address","name":"router"},{"type":"address","name":"token"},{"type":"tuple","name":"details","components":[{"type":"string","name":"name"},{"type":"string","name":"symbol"},{"type":"uint8","name":"decimals"}]}]},{"type":"tuple[]","name":"pools","components":[{"type":"uint256","name":"poolId"},{"type":"tuple","name":"depositToken","components":[{"type":"address","name":"router"},{"type":"address","name":"token"},{"type":"tuple","name":"details","components":[{"type":"string","name":"name"},{"type":"string","name":"symbol"},{"type":"uint8","name":"decimals"}]}]},{"type":"bool","name":"isLiquidityToken"},{"type":"address","name":"token0"},{"type":"tuple","name":"token0Details","components":[{"type":"string","name":"name"},{"type":"string","name":"symbol"},{"type":"uint8","name":"decimals"}]},{"type":"address","name":"token1"},{"type":"tuple","name":"token1Details","components":[{"type":"string","name":"name"},{"type":"string","name":"symbol"},{"type":"uint8","name":"decimals"}]},{"type":"tuple","name":"depositFee","components":[{"type":"uint256","name":"rate"},{"type":"tuple","name":"collected","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]}]},{"type":"uint256","name":"creditMultiplier"},{"type":"uint256","name":"creditLiquidationRate"},{"type":"tuple","name":"liquidatorFee","components":[{"type":"uint256","name":"rate"},{"type":"tuple","name":"collected","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]}]},{"type":"address","name":"seigniory"},{"type":"tuple","name":"seigniorageFee","components":[{"type":"uint256","name":"rate"},{"type":"tuple","name":"collected","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]}]},{"type":"bool","name":"isSenderSeignory"},{"type":"uint256","name":"investorCount"},{"type":"bool","name":"isEnabled"},{"type":"uint256","name":"senderBalance"},{"type":"tuple","name":"senderPosition","components":[{"type":"uint256","name":"deposited"},{"type":"uint256","name":"credited"},{"type":"uint256","name":"creditLiquidationLevel"},{"type":"tuple","name":"liquidated","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"uint256","name":"updatedBlockId"},{"type":"uint256","name":"investorIndex"}]},{"type":"uint256","name":"senderCurrentCredit"},{"type":"bool","name":"isSenderLiquidatable"},{"type":"tuple","name":"totalPosition","components":[{"type":"uint256","name":"deposited"},{"type":"uint256","name":"credited"},{"type":"tuple","name":"liquidated","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"uint256","name":"updatedBlockId"}]}]},{"type":"tuple","name":"totalLiquidityProvided","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"uint256","name":"currentBlock"}],"name":""}]},{"type":"function","name":"withdraw","constant":false,"payable":false,"inputs":[{"type":"uint256","name":"poolId"},{"type":"uint256","name":"credit"}],"outputs":[{"type":"tuple","components":[{"type":"uint256","name":"deposited"},{"type":"uint256","name":"credited"},{"type":"uint256","name":"creditLiquidationLevel"},{"type":"tuple","name":"liquidated","components":[{"type":"uint256","name":"total"},{"type":"uint256","name":"count"},{"type":"uint256","name":"timestamp"}]},{"type":"uint256","name":"updatedBlockId"},{"type":"uint256","name":"investorIndex"}],"name":""}]}]')},330:function(e){e.exports=JSON.parse('[{"type":"function","name":"findAll","constant":true,"stateMutability":"view","payable":false,"inputs":[{"type":"address","name":"token"}],"outputs":[{"type":"tuple[]","components":[{"type":"tuple","name":"info","components":[{"type":"address","name":"router"},{"type":"address","name":"token"},{"type":"tuple","name":"details","components":[{"type":"string","name":"name"},{"type":"string","name":"symbol"},{"type":"uint8","name":"decimals"}]}]},{"type":"bool","name":"isLiquidityToken"},{"type":"address","name":"token0"},{"type":"tuple","name":"token0Details","components":[{"type":"string","name":"name"},{"type":"string","name":"symbol"},{"type":"uint8","name":"decimals"}]},{"type":"address","name":"token1"},{"type":"tuple","name":"token1Details","components":[{"type":"string","name":"name"},{"type":"string","name":"symbol"},{"type":"uint8","name":"decimals"}]},{"type":"tuple","name":"reserveInfo","components":[{"type":"uint112","name":"reserve0"},{"type":"uint112","name":"reserve1"},{"type":"uint32","name":"blockTimestampLast"}]},{"type":"uint256","name":"senderBalance"}],"name":""}]}]')},341:function(e,t,n){},355:function(e,t){},357:function(e,t){},359:function(e,t){},363:function(e,t){},364:function(e,t){},389:function(e,t){},391:function(e,t){},406:function(e,t){},408:function(e,t){},424:function(e,t){},442:function(e,t){},444:function(e,t){},462:function(e,t){},463:function(e,t){},51:function(e){e.exports=JSON.parse('{"projectName":"Weeb Finance","defaultChainId":31337,"percentageYieldInvestmentInStablecoin":1000,"slippageTolerance":300,"moralisApiKey":"6pvWGYimyVg6uEpvcs9MBrUbvEW6K96OZPBtvcQlk75cYjxIHclCpYbF5LFJqirV","chains":{"1":{"name":"Ethereum Mainnet","nativeCoin":{"symbol":"ETH","decimals":18},"rpcUri":"https://eth-mainnet.alchemyapi.io/v2/ghNw_FSe4fGg35lmhDpvHy8PzQYee5pJ","blockExplorerLink":"https://etherscan.io","swapLink":"https://app.uniswap.org/#/swap?inputCurrency={0}","contracts":{"nativeToken":{"address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","name":"Wrapped Ether","symbol":"WETH","decimals":18},"stableToken":{"address":"0xdAC17F958D2ee523a2206206994597C13D831ec7","name":"Tether","symbol":"USDT","decimals":6},"swapRouters":{"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D":{"name":"Uniswap V2","swapFee":30},"0xd9e1cE17f2641f24aE83637ab66a2cca9C378B9F":{"name":"SushiSwap","swapFee":25}},"defaultSwapRouter":"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D","token":{"address":"0xa567B4B986B91E0d84929663E1F30C5A8e3DCab3","name":"Weeb Token","symbol":"WEEB","decimals":18},"game":"0xb913Dc46c55A0F5fc2Ae394aE201d50a521B9312","farm":"0xCD0b9DBDd5F61588f8D102B5eD884A8093dbc065","liquidityToken":"0x0000000000000000000000000000000000000000","tokenFinder":"0xdAC17F958D2ee523a2206206994597C13D831ec7","iziSwap":""},"initialLiquidity":{"tokenReserve":0,"nativeTokenReserve":0}},"3":{"name":"Ethereum Ropsten","nativeCoin":{"symbol":"ETH","decimals":18},"rpcUri":"https://eth-ropsten.alchemyapi.io/v2/xtddkgxoLNQVdoSZnuhHQ7CS0g8A9Crt","blockExplorerLink":"https://ropsten.etherscan.io","swapLink":"https://app.uniswap.org/#/swap?inputCurrency={0}","contracts":{"nativeToken":{"address":"0xc778417E063141139Fce010982780140Aa0cD5Ab","name":"Wrapped Ether","symbol":"WETH","decimals":18},"stableToken":{"address":"0x110a13FC3efE6A245B50102D2d79B3E76125Ae83","name":"Tether","symbol":"USDT","decimals":6},"swapRouters":{"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D":{"name":"Uniswap V2","swapFee":30},"0xd9e1cE17f2641f24aE83637ab66a2cca9C378B9F":{"name":"SushiSwap","swapFee":25}},"defaultSwapRouter":"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D","token":{"address":"0x3434eba87CE2938D82c66975583c660885f0778b","name":"Weeb Token","symbol":"WEEB","decimals":18},"game":"0xF8268c0567FC789d38c9d1E61988257f75868E0E","farm":"0xbA8EA6573Ad4A1426Fc41A3307cC7EE97a9A9eda","liquidityToken":"0x94a4493E5401be838fD79985D5fA6FD04D33A5dC","tokenFinder":"0x94029Ee4baB4f83610e46F6EEb9E942834500dBC","iziSwap":""},"initialLiquidity":{"tokenReserve":"100000000000000000000000","nativeTokenReserve":"1000000000000000000"}},"31337":{"name":"WeebFi ForkNode","nativeCoin":{"symbol":"ETH","decimals":18},"rpcUri":"https://node.weebfi.com:2053","blockExplorerLink":"","swapLink":"","contracts":{"nativeToken":{"address":"0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2","name":"Wrapped Ether","symbol":"WETH","decimals":18},"stableToken":{"address":"0xdAC17F958D2ee523a2206206994597C13D831ec7","name":"Tether","symbol":"USDT","decimals":6},"swapRouters":{"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D":{"name":"Uniswap V2","swapFee":30},"0xd9e1cE17f2641f24aE83637ab66a2cca9C378B9F":{"name":"SushiSwap","swapFee":25}},"defaultSwapRouter":"0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D","token":{"address":"0x4bf010f1b9beDA5450a8dD702ED602A104ff65EE","name":"Weeb Token","symbol":"WEEB","decimals":18},"game":"0xe1Fd27F4390DcBE165f4D60DBF821e4B9Bb02dEd","farm":"0x870526b7973b56163a6997bB7C886F5E4EA53638","liquidityToken":"0x3Ef1CB8BDdaE48757c6ADeD87cDD017ffE7a5806","tokenFinder":"0xc582Bc0317dbb0908203541971a358c44b1F3766","iziSwap":"0xde2Bd2ffEA002b8E84ADeA96e5976aF664115E2c"},"initialLiquidity":{"tokenReserve":"100000000000000000000000","nativeTokenReserve":"1000000000000000000"}}}}')},531:function(e,t){},537:function(e,t){},538:function(e,t){},59:function(e,t,n){"use strict";var a=n(24),i=n(130),s=new a(0),o=new a(-1);function r(e){return new a(10).pow(new a(e))}function c(e){if("string"===typeof e){if(!e.match(/^-?[0-9.]+$/))throw new Error("while converting number to string, invalid number value '"+e+"', should be a number matching (^-?[0-9.]+).");return e}if("number"===typeof e)return String(e);if("object"===typeof e&&e.toString&&(e.toTwos||e.dividedToIntegerBy))return e.toPrecision?String(e.toPrecision()):e.toString(10);throw new Error("while converting number to string, invalid number value '"+e+"' type "+typeof e+".")}e.exports={numberToString:c,getValueOfUnit:r,fromWei:function(e,t,n){var a=i(e),c=a.lt(s),l=r(t),p=t,m=n||{};c&&(a=a.mul(o));for(var u=a.mod(l).toString(10);u.length<p;)u="0"+u;m.pad||(u=u.match(/^([0-9]*[1-9]|0)(0*)/)[1]);var d=a.div(l).toString(10);m.commify&&(d=d.replace(/\B(?=(\d{3})+(?!\d))/g,","));var b=d+("0"==u?"":"."+u);return c&&(b="-"+b),b},toWei:function(e,t){var n=c(e),i=r(t),s=t,l="-"===n.substring(0,1);if(l&&(n=n.substring(1)),"."===n)throw new Error("[ethjs-unit] while converting number "+e+" to wei, invalid value");var p=n.split(".");if(p.length>2)throw new Error("[ethjs-unit] while converting number "+e+" to wei,  too many decimal points");var m=p[0],u=p[1];if(m||(m="0"),u||(u="0"),u.length>s)throw new Error("[ethjs-unit] while converting number "+e+" to wei, too many decimal places");for(;u.length<s;)u+="0";m=new a(m),u=new a(u);var d=m.mul(i).add(u);return l&&(d=d.mul(o)),new a(d.toString(10),10)}}},772:function(e,t,n){"use strict";n.r(t);n(336);var a=n(1),i=n.n(a),s=n(129),o=n.n(s),r=(n(341),n(60)),c=n(3),l=n(9),p=n(10),m=n(18),u=n(14),d=n(13),b=n(2),h=n.n(b),f=n(16),j=n.n(f),x=n(186),g=n(5),v=n(51),y=function(){function e(){Object(l.a)(this,e)}return Object(p.a)(e,[{key:"getChain",value:function(){}},{key:"getContracts",value:function(){}},{key:"getSwapRouters",value:function(){}},{key:"getBlockExplorerLinks",value:function(){}}],[{key:"getProjectName",value:function(){return v.projectName}},{key:"getDefaultChainId",value:function(){return v.defaultChainId}},{key:"getPercentageYieldInvestmentInStablecoin",value:function(){return parseFloat(v.percentageYieldInvestmentInStablecoin)}},{key:"getSlippageTolerance",value:function(){return parseFloat(v.slippageTolerance)}},{key:"getMoralisApiKey",value:function(){return v.moralisApiKey}},{key:"getChain",value:function(e){return v.chains[e]}},{key:"getNativeCoin",value:function(t){return e.getChain(t).nativeCoin}},{key:"getContracts",value:function(e){return v.chains[e].contracts}},{key:"getNativeToken",value:function(t){return e.getContracts(t).nativeToken}},{key:"getStableToken",value:function(t){return e.getContracts(t).stableToken}},{key:"getSwapRouters",value:function(t){return e.getContracts(t).swapRouters}},{key:"getDefaultSwapRouter",value:function(t){return e.getContracts(t).defaultSwapRouter}},{key:"getSwapRouterName",value:function(t,n){var a;return null!==(a=e.getSwapRouters(t)[n].name)&&void 0!==a?a:"Unknown Router"}},{key:"getSwapRouterSwapFee",value:function(t,n){return parseFloat(e.getSwapRouters(t)[n].swapFee)}},{key:"getChains",value:function(){for(var e=new Map,t=0,n=Object.entries(v.chains);t<n.length;t++){var a=Object(g.a)(n[t],2),i=a[0],s=a[1];e[parseInt(i)]=s.name}return e}},{key:"isSupportedChain",value:function(t){return!!e.getChains()[t]}},{key:"getRpcUris",value:function(){for(var e=new Map,t=0,n=Object.entries(v.chains);t<n.length;t++){var a=Object(g.a)(n[t],2),i=a[0],s=a[1];e[parseInt(i)]=s.rpcUri}return e}},{key:"getRpcUri",value:function(t){return e.getRpcUris()[t]}},{key:"getBlockExplorerLinks",value:function(){for(var e=new Map,t=0,n=Object.entries(v.chains);t<n.length;t++){var a=Object(g.a)(n[t],2),i=a[0],s=a[1];e[parseInt(i)]=s.blockExplorerLink}return e}},{key:"getBlockExplorerLink",value:function(t){return e.getBlockExplorerLinks()[t]}},{key:"getInitialLiquidity",value:function(t){return e.getChain(t).initialLiquidity}}]),e}(),k=n(0),O=i.a.createContext(),T=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={self:Object(m.a)(a),balance:0,setBalance:function(e){a.setState({balance:e})}},a.disconnect=a.disconnect.bind(Object(m.a)(a)),a.isInjectedProviderInstalled=a.isInjectedProviderInstalled.bind(Object(m.a)(a)),a.getProvider=a.getProvider.bind(Object(m.a)(a)),a.initializeProvider=a.initializeProvider.bind(Object(m.a)(a)),a.initializeWalletConnectProvider=a.initializeWalletConnectProvider.bind(Object(m.a)(a)),a.handleChainChanged=a.handleChainChanged.bind(Object(m.a)(a)),a.handleAccountsChanged=a.handleAccountsChanged.bind(Object(m.a)(a)),a.handleChainChangedInternal=a.handleChainChangedInternal.bind(Object(m.a)(a)),a.handleDisconnect=a.handleDisconnect.bind(Object(m.a)(a)),a.addEthereumChain=a.addEthereumChain.bind(Object(m.a)(a)),a.switchOrAddEthereumChain=a.switchOrAddEthereumChain.bind(Object(m.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i.test(navigator.userAgent),this.setState({isMobileDevice:t}),!this.isInjectedProviderInstalled()){e.next=8;break}return e.next=5,this.initializeInjectedProvider();case 5:this.setState({isInjectedProviderInstalled:!0}),e.next=12;break;case 8:return this.setState({isInjectedProviderInstalled:!1}),this.handleChainChangedInternal(y.getDefaultChainId()),e.next=12,this.initializeWalletConnectProvider();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.state.signer&&this.state.signer.givenProvider&&this.unsubscribeProvider(this.state.signer.givenProvider)}},{key:"render",value:function(){return Object(k.jsx)(O.Provider,{value:this.state,children:this.props.children})}},{key:"disconnect",value:function(){this.handleDisconnect(410,"User requested disconnect."),this.setState({account:void 0,balance:void 0})}},{key:"isInjectedProviderInstalled",value:function(){return"undefined"!==typeof window.ethereum||"undefined"!==typeof window.web3}},{key:"getProvider",value:function(){if("undefined"!==typeof window.ethereum)return window.ethereum;if("undefined"!==typeof window.web3)return window.web3.currentProvider;throw"Provider not found."}},{key:"initializeProvider",value:function(){var e=Object(c.a)(h.a.mark((function e(t){var a,i,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.createWeb3(t),this.setState({provider:t,signer:a}),this.subscribeProvider(t),e.next=5,t.request({method:"eth_chainId"});case 5:return i=e.sent,this.handleChainChanged(i),e.next=9,t.request({method:"eth_accounts"});case 9:if(0!==(s=e.sent).length){e.next=22;break}return e.prev=11,e.next=14,t.request({method:"eth_requestAccounts"});case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(11),this.setState({error:e.t0}),console.error(e.t0);case 20:e.next=23;break;case 22:this.handleAccountsChanged(s);case 23:case"end":return e.stop()}}),e,this,[[11,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeInjectedProvider",value:function(){var e=Object(c.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("initializing Injected provider."),t=this.getProvider(),e.next=4,this.initializeProvider(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeWalletConnectProvider",value:function(){var e=Object(c.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("initializing WalletConnect provider."),(t=new x.a({rpc:y.getRpcUris(),qrcode:!0})).connector.on("display_uri",(function(e,t){var n=t.params[0];console.log("WalletConnect QR code: ".concat(n))})),e.prev=3,e.next=6,t.enable();case 6:return n=e.sent,console.log(n),console.log(t.walletMeta.name),e.next=11,this.initializeProvider(t);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log("".concat(e.t0.code,": ").concat(e.t0.message));case 16:case"end":return e.stop()}}),e,this,[[3,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"subscribeProvider",value:function(e){e.on?(e.on("chainChanged",this.handleChainChanged),e.on("accountsChanged",this.handleAccountsChanged),e.on("disconnect",this.handleDisconnect)):console.log("Provider doesn't support events.")}},{key:"unsubscribeProvider",value:function(e){e.on?(e.removeListener("chainChanged",this.handleChainChanged),e.removeListener("accountsChanged",this.handleAccountsChanged),e.removeListener("disconnect",this.handleDisconnect)):console.log("Provider doesn't support events.")}},{key:"updateReader",value:function(e){this.setState({reader:n.createWeb3(y.getRpcUri(e))})}},{key:"handleChainChangedInternal",value:function(e){this.setState({error:void 0,chainId:e}),y.isSupportedChain(e)?this.updateReader(e):this.setState({error:"Unsupported chain: ".concat(e)})}},{key:"handleChainChanged",value:function(e){var t=j.a.utils.hexToNumber(e);console.log("chainChanged: ".concat(t)),this.handleChainChangedInternal(t)}},{key:"handleAccountsChanged",value:function(e){console.log("accountsChanged: ".concat(e.length)),0===e.length?(this.setState({error:void 0,connected:!1,account:void 0}),console.log("Please connect to MetaMask.")):this.setState({error:void 0,connected:!0,account:e[0]})}},{key:"handleDisconnect",value:function(e,t){var n=this;console.log({source:"Disconnect handler.",code:e,reason:t}),this.state.signer&&this.state.signer.currentProvider?this.state.signer.currentProvider instanceof x.a?(this.setState({signer:void 0}),this.handleAccountsChanged([])):this.state.signer.currentProvider.connected&&this.state.signer.currentProvider.close?this.state.signer.currentProvider.close().then((function(){n.setState({signer:void 0}),n.handleAccountsChanged([])})).catch((function(e){console.log("Wallet close failed."),console.log(e)})):(this.setState({signer:void 0}),this.handleAccountsChanged([])):(this.setState({signer:void 0}),this.handleAccountsChanged([]))}},{key:"addEthereumChain",value:function(){var e=Object(c.a)(h.a.mark((function e(t,n,a,i,s,o,r,c){var l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.provider){e.next=3;break}return console.log("Provider not set."),e.abrupt("return");case 3:return j.a.utils.isHex(t)||(t=j.a.utils.numberToHex(t)),l={chainId:t,chainName:n,nativeCurrency:{name:a,symbol:i,decimals:s},rpcUrls:o,blockExplorerUrls:r,iconUrls:c},e.abrupt("return",this.state.provider.request({method:"wallet_addEthereumChain",params:[l]}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,a,i,s,o,r,c){return e.apply(this,arguments)}}()},{key:"switchOrAddEthereumChain",value:function(){var e=Object(c.a)(h.a.mark((function e(t,n,a,i,s,o,r,c){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.provider){e.next=3;break}return console.log("Provider not set."),e.abrupt("return");case 3:return j.a.utils.isHexStrict(t)||(t=j.a.utils.numberToHex(t)),console.log("Switching to chain: ".concat(t)),e.prev=5,e.next=8,this.state.provider.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]});case 8:e.next=27;break;case 10:if(e.prev=10,e.t0=e.catch(5),4902!==e.t0.code&&-32603!==e.t0.code){e.next=25;break}return console.log("Non-existent chain: ".concat(t,". Trying to add.")),e.prev=14,e.next=17,this.addEthereumChain(t,n,a,i,s,o,r,c);case 17:e.next=23;break;case 19:e.prev=19,e.t1=e.catch(14),this.setState({error:e.t1.message}),console.error(e.t1);case 23:e.next=27;break;case 25:this.setState({error:e.t0.message}),console.error(e.t0);case 27:case"end":return e.stop()}}),e,this,[[5,10],[14,19]])})));return function(t,n,a,i,s,o,r,c){return e.apply(this,arguments)}}()}],[{key:"createWeb3",value:function(e){var t=new j.a(e);return t.eth.extend({methods:[{name:"chainId",call:"eth_chainId",outputFormatter:t.utils.hexToNumber}]}),t}}]),n}(a.Component),w=n(59);function N(e){return"".concat(e.substring(0,6),"...").concat(e.substring(e.length-4))}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=new Intl.NumberFormat([],{maximumFractionDigits:t,minimumFractionDigits:n}).format(e);return a}function C(e){return S(e,0)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return console.assert("number"===typeof e,"The 'number' is not of numeric type."),B(100*e,t,n)}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return console.assert("number"===typeof e,"The 'number' is not of numeric type."),0===e?"".concat(e):e>=1e4?S(e,Math.min(0,t),0):e>=1e3?S(e,Math.min(1,t),0):e>=100?S(e,Math.min(2,t),0):S(e,t,n)}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return B(e,Math.min(t,n),Math.min(t,a))}var F=n(33),U=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={style:null},a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.size,n=e.isVerticallyCentered,a=e.isScrollable,i=e.fullscreen,s="text-dark";t&&(s+=" ".concat(t)),!0===n&&(s+=" modal-dialog-centered"),!0===a&&(s+=" modal-dialog-scrollable"),i&&(s+=" ".concat(i)),this.setState({style:s})}},{key:"render",value:function(){var e=this.props,t=e.isOpen,n=e.setIsOpen,a=e.disableBackgroundCancel,i=e.contentStyle,s=e.header,o=e.body,r=e.footer,l=e.title,p=e.hideTitle,m=e.info,u=e.hideCloseButton,d=e.description,b=e.submitButtonText,f=e.hideSubmitButton,j=e.isSubmitButtonDisabled,x=e.cancelButtonText,g=e.hideCancelButton,v=e.submitted,y=e.canceled,O=e.result;return Object(k.jsx)(F.a,{className:"fixed z-10 inset-0 overflow-y-auto",open:t,onClose:function(){a||n(!1)},children:Object(k.jsxs)("div",{className:"flex items-center justify-center min-h-screen text-[16px]",children:[Object(k.jsx)(F.a.Overlay,{className:"fixed inset-0 bg-black/50"}),Object(k.jsxs)("div",{className:"modal-content ".concat(i," bg-gradient-to-r to-indigo-200 from-purple-200"),children:[(s||!p||!u)&&Object(k.jsx)("div",{className:"modal-header grid grid-cols-1 gap-x-2 gap-y-3",children:s?{header:s}:Object(k.jsxs)("div",{className:"flex items-center justify-between",children:[!p&&Object(k.jsx)(F.a.Title,{className:"",children:l},"0"),Object(k.jsxs)("div",{className:"space-x-2",children:[m&&Object(k.jsx)("button",{type:"button",className:"btn text-[2em] leading-none shadow-none btn-close","aria-label":"Info",children:m},"1"),!u&&Object(k.jsx)("button",{type:"button",className:"btn text-[2em] leading-none shadow-none btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:O&&O(!1);case 3:case"end":return e.stop()}}),e)}))),children:Object(k.jsx)("i",{className:"bi bi-x"})},"2")]})]})}),d&&Object(k.jsx)(F.a.Description,{className:"mt-3",children:d}),Object(k.jsx)("div",{className:"modal-body mt-3",children:o}),(r||!f||!g)&&Object(k.jsx)("div",{className:"modal-footer mt-8",children:r?{footer:r}:Object(k.jsxs)("div",{className:"flex items-center justify-end space-x-2 text-violet-50 text-[80%]",children:[!f&&Object(k.jsx)("button",{type:"button",className:"btn btn-green w-28 h-10",onClick:Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:console.log("Operation succeeded."),O&&O(!0),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Operation failed.",e.t0),O&&O({error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),disabled:j,children:b},"0"),!g&&Object(k.jsx)("button",{type:"button",className:"btn btn-dark w-28 h-10","data-bs-dismiss":"modal","aria-label":"Cancel",onClick:Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:O&&O(!1);case 3:case"end":return e.stop()}}),e)}))),children:x},"1")]})})]})]})})}}]),n}(a.Component);function D(e){var t=e.title,n=e.titleClassName;return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("span",{className:"opacity-50 uppercase tracking-wider overflow-ellipsis break-normal text-[0.6875em] ".concat(null!==n&&void 0!==n?n:""),children:t})})}function L(e){var t=e.main,n=e.mainClassName,a=e.mainUnit,i=e.mainUnitClassName;return e.isUnitOnTop?Object(k.jsxs)(k.Fragment,{children:[a&&Object(k.jsx)("span",{className:"uppercase block mb-1 opacity-75 text-[0.75em] ".concat(null!==i&&void 0!==i?i:""),children:a}),t&&Object(k.jsx)("span",{className:"numeric text-[1.4em] ".concat(null!==n&&void 0!==n?n:""),children:t})]}):Object(k.jsxs)(k.Fragment,{children:[t&&Object(k.jsx)("span",{className:"numeric text-[1.4em] ".concat(null!==n&&void 0!==n?n:""),children:t}),a&&Object(k.jsx)("span",{className:"uppercase ml-1 opacity-75 text-[0.75em] ".concat(null!==i&&void 0!==i?i:""),children:a})]})}function W(e){var t=e.detail,n=e.detailClassName,a=e.detailUnit,i=e.detailUnitClassName;return Object(k.jsxs)(k.Fragment,{children:[t&&Object(k.jsx)("span",{className:"numeric opacity-75 text-[0.75em] ".concat(null!==n&&void 0!==n?n:""),children:t}),a&&Object(k.jsx)("span",{className:"uppercase ml-1 opacity-50 text-[0.625em] ".concat(null!==i&&void 0!==i?i:""),children:a})]})}function R(e){var t=e.info,n=e.infoClassName;return Object(k.jsx)(k.Fragment,{children:t&&Object(k.jsx)("div",{className:"numeric mt-2 text-[0.75em] ".concat(null!==n&&void 0!==n?n:""),children:t})})}function M(e){var t=e.containerClassName,n=e.lineHeight,a=e.title,i=e.titleClassName,s=e.main,o=e.detail,r=e.info;return Object(k.jsxs)("div",{className:"grid grid-cols-1 auto-rows-min text-center ".concat(null!==n&&void 0!==n?n:""," ").concat(null!==t&&void 0!==t?t:""),children:[Object(k.jsx)(D,{title:a,titleClassName:i}),s&&Object(k.jsx)(k.Fragment,{children:s}),o&&Object(k.jsx)(k.Fragment,{children:o}),r&&Object(k.jsx)(k.Fragment,{children:r})]})}function A(e){var t=e.containerClassName,n=e.lineHeight,a=e.title,i=e.titleClassName,s=e.mainRaw,o=e.main,r=e.mainClassName,c=e.mainUnit,l=e.mainUnitClassName,p=e.isMainUnitOnTop,m=e.detail,u=e.detailClassName,d=e.detailUnit,b=e.detailUnitClassName,h=e.info,f=e.infoClassName;return Object(k.jsx)(M,{containerClassName:t,lineHeight:n,title:a,titleClassName:i,main:s?Object(k.jsx)(k.Fragment,{children:s}):(o||c)&&Object(k.jsx)("div",{className:"mt-2",children:Object(k.jsx)(L,{main:o,mainClassName:r,mainUnit:c,mainUnitClassName:l,isUnitOnTop:p})}),detail:(m||d)&&Object(k.jsx)("div",{className:"mt-1",children:Object(k.jsx)(W,{detail:m,detailClassName:u,detailUnit:d,detailUnitClassName:b})}),info:Object(k.jsx)(R,{info:h,infoClassName:f})})}U.defaultProps={disableBackgroundCancel:!1,isVerticallyCentered:!0,isScrollable:!0,fullscreen:null,contentStyle:"card relative w-full max-w-md max-h-screen overflow-y-auto mx-auto bg-violet-50 text-gray-900",isOpen:!1,setIsOpen:function(e){},hideTitle:!1,hideCloseButton:!1,submitButtonText:"OK",hideSubmitButton:!1,isSubmitButtonDisabled:!1,cancelButtonText:"Cancel",hideCancelButton:!1,submitted:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),canceled:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),result:function(){var e=Object(c.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},D.defaultProps={},L.defaultProps={isUnitOnTop:!1},W.defaultProps={},R.defaultProps={infoClassName:"opacity-25"},M.defaultProps={},A.defaultProps={lineHeight:"leading-none",infoClassName:"opacity-25",isMainUnitOnTop:!1};var q=n(329),E=n.n(q);function z(e){var t=e.isOpen,n=e.setIsOpen,i=e.context,s=e.canceled,o=Object(a.useState)(),r=Object(g.a)(o,2),l=r[0],p=r[1];Object(a.useEffect)((function(){i.account?E.a.toDataURL(i.account,{color:{dark:"#312e81",light:"#0000"}}).then((function(e){p(e),console.log(e)})).catch((function(e){console.error(e)})):p(void 0)}),[i.account]);var m=y.getChain(i.chainId),u=y.getNativeCoin(i.chainId);return Object(k.jsx)(U,{isOpen:t,setIsOpen:n,disableBackgroundCancel:!1,body:Object(k.jsx)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-4 items-center justify-center text-indigo-900",children:i.account&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(A,{containerClassName:"col-span-2",title:"Connected Account",main:i.account,mainClassName:"numeric break-all"}),Object(k.jsx)("img",{className:"col-span-2 mx-auto",src:l}),Object(k.jsxs)("button",{type:"button",className:"btn btn-blue h-10 w-48 text-violet-50 text-[0.75em] justify-self-end",onClick:Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(i.account);case 3:console.log("The wallet address is copied."),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Failed to copy the wallet address: ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),children:[Object(k.jsx)("i",{className:"bi bi-clipboard mr-1"}),"Copy"]}),Object(k.jsx)("button",{type:"button",className:"btn btn-indigo h-10 w-48 text-violet-50 text-[0.75em] justify-self-start",onClick:function(){i.self.disconnect(),n(!1)},children:"Disconnect"}),Object(k.jsx)(A,{title:"Chain Id",main:i.chainId,mainClassName:"numeric",detail:m.name,detailClassName:"font-display"}),Object(k.jsx)(A,{title:"Balance",main:P(i.balance,u.decimals),mainUnit:u.symbol,detail:"\xa0"})]})}),title:"Wallet Info",hideSubmitButton:!0,cancelButtonText:"Close",canceled:s})}function H(e){var t=e.isOpen,n=e.setIsOpen,a=e.context,i=e.canceled;y.getChain(a.chainId),y.getNativeCoin(a.chainId);return Object(k.jsx)(U,{isOpen:t,setIsOpen:n,disableBackgroundCancel:!1,body:Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-x-4 gap-y-4 items-center justify-center text-indigo-900",children:[a.self.isInjectedProviderInstalled()?Object(k.jsx)("button",{type:"button",className:"btn btn-red h-16 w-full text-violet-50 text-[0.75em]",onClick:Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.self.initializeInjectedProvider(),n(!1);case 2:case"end":return e.stop()}}),e)}))),children:"Use Injected Provider"}):Object(k.jsxs)("div",{className:"h-16 w-full text-violet-900 text-center",children:[Object(k.jsx)("p",{children:Object(k.jsx)("b",{children:"No injected provider found."})}),Object(k.jsxs)("a",{href:"https://metamask.io/download/",target:"_blank",children:["Install MetaMask ",Object(k.jsx)("i",{className:"bi bi-box-arrow-up-right"})]})]}),Object(k.jsx)("button",{type:"button",className:"btn btn-blue h-16 w-full text-violet-50 text-[0.75em]",onClick:function(){a.self.initializeWalletConnectProvider(),n(!1)},children:"Use Wallet Connect Provider"})]}),title:"Connect to Wallet",hideSubmitButton:!0,cancelButtonText:"Close",canceled:i})}var G=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={balance:void 0,showWalletDialog:!1,showConnectDialog:!1},a.onTick=a.onTick.bind(Object(m.a)(a)),a.switchOrAddEthereumChain=a.switchOrAddEthereumChain.bind(Object(m.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){this.initialize()&&console.log("Initialized on component mount.")}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"componentDidUpdate",value:function(){this.initialize()&&console.log("Initialized on component update.")}},{key:"initialize",value:function(){if(this.isInitializing)return!1;this.isInitializing=!0;try{return!!this.context.chainId&&(y.isSupportedChain(this.context.chainId)?!(!this.context.account||!this.context.reader||this.timerId)&&(this.startTimer(),!0):(this.switchOrAddEthereumChain(),!1))}finally{this.isInitializing=!1}}},{key:"startTimer",value:function(){var e=this;this.timerId=setInterval(Object(c.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onTick();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),this.props.interval),console.log("Started timer: ".concat(this.timerId))}},{key:"stopTimer",value:function(){var e=this.timerId;e&&(clearInterval(e),this.timerId=void 0,console.log("Stopped timer: ".concat(e)))}},{key:"render",value:function(){var e=this;if(this.context.connected||this.context.error){if(this.context.error)return Object(k.jsx)(a.Fragment,{children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"rounded bg-gray-100/10 px-1 text-[0.875em]",children:Object(k.jsx)("span",{className:"text-red-500",children:-32002===this.context.error.code?"Approve the chain switch":this.context.error})})})},1);if(!this.context.chainId||!y.isSupportedChain(this.context.chainId))return Object(k.jsx)(a.Fragment,{children:Object(k.jsx)("span",{className:"text-red-500",children:"Unsupported chain."})},2);var t=y.getNativeCoin(this.context.chainId),n=y.getChain(this.context.chainId);return Object(k.jsxs)(a.Fragment,{children:[Object(k.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(k.jsx)("div",{className:"hidden rounded bg-gray-100/10 px-1 py-0.5 text-[0.875em] xl:block",children:Object(k.jsx)("span",{children:n.name})}),Object(k.jsx)("div",{className:"xs:block hidden rounded bg-gray-100/10 px-1 py-0.5 text-[0.875em]",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:"numeric",children:this.state.balance?P(this.state.balance,t.decimals):"-"}),Object(k.jsx)("span",{className:"numeric-unit text-[0.75em]",children:t.symbol})]})}),this.context.account&&Object(k.jsx)("div",{className:"cursor-pointer rounded bg-gray-100/[0.15] px-1 py-0.5 text-[0.875em]",children:Object(k.jsx)("span",{className:"numeric",onClick:Object(c.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({showWalletDialog:!0});case 1:case"end":return t.stop()}}),t)}))),children:N(this.context.account)})})]}),this.state.showWalletDialog&&Object(k.jsx)(z,{isOpen:this.state.showWalletDialog,setIsOpen:function(){e.setState({showWalletDialog:!1})},context:this.context,canceled:function(){e.setState({showWalletDialog:!1})}})]},3)}return Object(k.jsxs)(a.Fragment,{children:[Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"rounded bg-gray-100/10 px-1 text-[0.875em]",children:Object(k.jsx)("span",{className:"cursor-pointer",onClick:function(){e.setState({showConnectDialog:!0})},children:"Connect to Wallet"})})}),this.state.showConnectDialog&&Object(k.jsx)(H,{isOpen:this.state.showConnectDialog,setIsOpen:function(){e.setState({showConnectDialog:!1})},context:this.context,canceled:function(){e.setState({showConnectDialog:!1})}})]},0)}},{key:"onTick",value:function(){var e=Object(c.a)(h.a.mark((function e(){var t,n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.context.chainId&&y.isSupportedChain(this.context.chainId)&&this.context.account)){e.next=8;break}return e.next=3,this.context.reader.eth.getBalance(this.context.account);case 3:t=e.sent,n=y.getNativeCoin(this.context.chainId),a=parseFloat(Object(w.fromWei)(t,n.decimals)),this.context.setBalance(a),this.setState({balance:a});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"switchOrAddEthereumChain",value:function(){var e=Object(c.a)(h.a.mark((function e(){var t,n,a,i,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.getDefaultChainId(),n=y.getChain(t),a=n.name,void 0,i=n.nativeCoin.symbol,s=n.nativeCoin.decimals,o=[y.getRpcUri(t)],void 0,void 0,e.next=11,this.context.self.switchOrAddEthereumChain(t,a,undefined,i,s,o,undefined,undefined);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(a.Component);function V(){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(r.c,{className:"nav-link",to:"/",activeclassname:"active",children:"Home"}),Object(k.jsx)(r.c,{className:"nav-link",to:"/Games",activeclassname:"active",children:"Games"}),Object(k.jsx)(r.c,{className:"nav-link",to:"/Farms",activeclassname:"active",children:"Farms"}),Object(k.jsx)(r.c,{className:"nav-link",to:"/Liquidatables",activeclassname:"active",children:"Liquidation Hunt"})]})}function Y(){var e=Object(a.useState)(!0),t=Object(g.a)(e,2),n=t[0],i=t[1];return Object(k.jsxs)("nav",{children:[Object(k.jsxs)("div",{className:"flex h-[64px] items-center justify-between",children:[Object(k.jsxs)("div",{className:"flex items-center lg:space-x-16",children:[Object(k.jsx)(r.b,{className:"navbar-brand flex items-center gap-2",to:"/",children:Object(k.jsx)("div",{className:"bg-weeb-text h-[52px] max-h-[52px] w-[102px] max-w-[102px] bg-left-top bg-no-repeat self-end"})}),Object(k.jsx)("div",{className:"hidden lg:flex lg:space-x-4",children:Object(k.jsx)(V,{})})]}),Object(k.jsxs)("div",{className:"flex items-center justify-end space-x-4",children:[Object(k.jsx)(G,{}),Object(k.jsx)("button",{type:"button",className:"lg:hidden rounded-md ring-4 focus:outline-none ".concat(n?"text-gray-100/75 ring-gray-100/5 hover:bg-gray-100/10 hover:text-gray-100 hover:ring-gray-100/25":"bg-gray-100/10 text-gray-100 ring-gray-100/25"),onClick:function(){i(!n)},children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-12 fill-current p-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(k.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16m-7 6h7"})})})]})]}),Object(k.jsxs)("div",{className:"lg:hidden ".concat(n?"hidden":"mt-2 grid w-full grid-cols-2 gap-2 rounded-lg bg-gray-100/10"),children:[Object(k.jsx)("div",{className:"flex flex-col p-2 gap-1",children:Object(k.jsx)(V,{})}),Object(k.jsx)("div",{className:"flex flex-col items-end justify-end p-2",children:Object(k.jsxs)("a",{className:"nav-link",href:function(e){var t=e.indexOf("//");if(-1!=t){var n=e.substring(0,t+2),a=e.substring(t+2).split(".");if(a.length<2)return e;for(var i="",s=a.length-2;s<a.length;s++)n+=i,n+=a[s],i=".";return n}}(window.location.href),children:[Object(k.jsx)("i",{className:"bi bi-box-arrow-right mr-1"}),"Exit App"]})})]})]})}G.defaultProps={interval:1e3},G.contextType=O;var _=n(21),J=n(4);function K(e){var t=e.title,n=e.type;return Object(k.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[t&&Object(k.jsx)("span",{className:"mb-2",children:t}),"spinner"===n&&Object(k.jsxs)("svg",{className:"animate-spin mx-auto h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(k.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(k.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"cloud"===n&&Object(k.jsx)("div",{className:"animate-bounce mx-auto",children:Object(k.jsx)("i",{className:"bi bi-cloud-arrow-down text-[1.875em]"})}),Object(k.jsx)("div",{role:"status",children:t&&Object(k.jsx)("span",{className:"hidden",children:t})})]})}K.defaultProps={type:"spinner"};var Q=n(93),X=n(181),Z=n(330),$=n(182),ee=n(183),te=n(184),ne=n(185);function ae(e,t,n,a){return new e.eth.Contract(t,n,a)}function ie(e,t,n,a){return new e.eth.Contract(t,n,a)}var se=n(7),oe=n(112),re="115792089237316195423570985008687907853269984665640564039457584007913129639935";function ce(e,t){return new RegExp(t,"i").test(e)}function le(e){return new Promise((function(t){return setTimeout(t,e)}))}function pe(e){return new Promise((function(t,n){return e((function(e,a){e?n(e):t(a)}))}))}function me(e,t){return ue.apply(this,arguments)}function ue(){return ue=Object(c.a)(h.a.mark((function e(t,n){var a,i,s=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=s.length>2&&void 0!==s[2]?s[2]:500;case 1:return e.next=4,pe((function(e){return t.eth.getTransactionReceipt(n,e)}));case 4:if(null!=(i=e.sent)){e.next=10;break}return e.next=8,le(a);case 8:e.next=11;break;case 10:return e.abrupt("return",i);case 11:e.next=1;break;case 13:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}var de=function(){var e,t={init:function(e){e.chainId&&y.isSupportedChain(e.chainId)?(t.chainId=e.chainId,t.account=e.account,t.nativeCoin=y.getNativeCoin(e.chainId),t.contracts=y.getContracts(e.chainId),e.reader&&(t.reader=e.reader,t.readers=function(e,t,n){var a={from:null!==t&&void 0!==t?t:"0x0000000000000000000000000000000000000000"};return{pair:ae(e,Q,n.liquidityToken,a),router:ae(e,X,n.defaultSwapRouter,a),token:ae(e,ee,n.token.address,a),game:ae(e,te,n.game,a),farm:ae(e,ne,n.farm,a),tokenFinder:ae(e,Z,n.tokenFinder,a),iziSwap:ae(e,$,n.iziSwap,a)}}(e.reader,e.account,t.contracts)),e.signer&&(t.signer=e.signer,t.signers=function(e,t,n){var a={from:t};return{router:ie(e,X,n.defaultSwapRouter,a),token:ie(e,ee,n.token.address,a),game:ie(e,te,n.game,a),farm:ie(e,ne,n.farm,a),iziSwap:ie(e,$,n.iziSwap,a)}}(e.signer,e.account,t.contracts))):console.log("Can not initialize services due to unsupported chain.")},settings:{slippageToleranceKey:"slippageTolerance",getSlippageTolerance:function(){var e;return parseFloat(null!==(e=window.localStorage.getItem(t.settings.slippageToleranceKey))&&void 0!==e?e:y.getSlippageTolerance())},setSlippageTolerance:function(e){e&&window.localStorage.setItem(t.settings.slippageToleranceKey,e)},getTokenListUri:function(){var e=j.a.utils.toHex(31337==t.chainId?1:t.chainId);return"https://deep-index.moralis.io/api/v2/".concat(t.account,"/erc20?chain=").concat(e)}},convert:(e={formatAccount:function(e){return N(e)},formatDateTime:function(e){return function(e){var t=new Date(e).toISOString().split("T");return"".concat(t[0]," ").concat(t[1])}(e)},formatTimespan:function(e){return function(e){var t=parseInt(e/3600),n=e%3600,a=parseInt(n/60),i=parseInt(n%60),s=t<10?"0".concat(t):"".concat(t),o=a<10?"0".concat(a):"".concat(a),r=i<10?"0".concat(i):"".concat(i);return"".concat(s,":").concat(o,":").concat(r)}(e)},formatInteger:function(e){return C(e)},formatPercentage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return I(e,t,n)},formatNumberScaled:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return B(e,t,n)},fromWei:function(e,t){return parseFloat(Object(w.fromWei)(e,t))},fromWeiNativeCoin:function(e){return t.convert.fromWei(e,t.nativeCoin.decimals)},fromWeiNativeToken:function(e){return t.convert.fromWei(e,t.contracts.nativeToken.decimals)},fromWeiStableToken:function(e){return t.convert.fromWei(e,t.contracts.stableToken.decimals)},fromWeiMainToken:function(e){return t.convert.fromWei(e,t.contracts.token.decimals)},trimToDecimals:function(e,t){if("number"===typeof e)return parseFloat(e.toFixed(t));var n=e.indexOf(".");if(-1!=n){var a=e.length-(n+1)-t;a>0&&(e=e.substr(0,e.length-a))}return e},toWei:function(e,n){return Object(w.toWei)(t.convert.trimToDecimals(e,n),n)},toWeiNativeCoin:function(e){return t.convert.toWei(e,t.nativeCoin.decimals)},toWeiNativeToken:function(e){return t.convert.toWei(e,t.contracts.nativeToken.decimals)},toWeiStableToken:function(e){return t.convert.toWei(e,t.contracts.stableToken.decimals)},toWeiMainToken:function(e){return t.convert.toWei(e,t.contracts.token.decimals)},formatCurrency:function(e,t){return P(e,t)}},Object(se.a)(e,"formatCurrency",(function(e,t,n,a){return P(e,t,n,a)})),Object(se.a)(e,"formatNativeCoin",(function(e){return t.convert.formatCurrency(e,t.nativeCoin.decimals)})),Object(se.a)(e,"formatNativeCoin",(function(e,n,a){return t.convert.formatCurrency(e,t.nativeCoin.decimals,n,a)})),Object(se.a)(e,"formatNativeToken",(function(e){return t.convert.formatCurrency(e,t.contracts.nativeToken.decimals)})),Object(se.a)(e,"formatNativeToken",(function(e,n,a){return t.convert.formatCurrency(e,t.contracts.nativeToken.decimals,n,a)})),Object(se.a)(e,"formatStableToken",(function(e){return t.convert.formatCurrency(e,t.contracts.stableToken.decimals)})),Object(se.a)(e,"formatStableToken",(function(e,n,a){return t.convert.formatCurrency(e,t.contracts.stableToken.decimals,n,a)})),Object(se.a)(e,"formatMainToken",(function(e){return t.convert.formatCurrency(e,t.contracts.token.decimals)})),Object(se.a)(e,"formatMainToken",(function(e,n,a){return t.convert.formatCurrency(e,t.contracts.token.decimals,n,a)})),Object(se.a)(e,"formatDepositToken",(function(e,n){return t.convert.formatCurrency(e,n.depositToken.details.decimals)})),Object(se.a)(e,"formatDepositToken",(function(e,n,a,i){return t.convert.formatCurrency(e,n.depositToken.details.decimals,a,i)})),e),format:function(e){var n={fromWei:function(n){return t.convert.fromWei(n,e)},formatCurrency:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.convert.formatCurrency(n,e,a,i)},formatToken:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return n.formatCurrency(e,t,a)}};return n},block:{getBlock:function(e){return pe((function(n){return t.reader.eth.getBlock(e,n)}))},getAverageBlockTime:function(){var e=Object(c.a)(h.a.mark((function e(n){var a,i,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.block.getBlock("latest");case 2:return a=e.sent,i=Date.now()/1e3,e.next=6,t.block.getBlock(a.number-n);case 6:return s=e.sent,o=(a.timestamp-s.timestamp)/n,console.log("Block Time: ".concat(o," s; F: ").concat(a.timestamp," - I: ").concat(s.timestamp," = ").concat(a.timestamp-s.timestamp," s. Lag: ").concat(i-a.timestamp," s.")),e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pair:{getTokenReserves:function(){var e=Object(c.a)(h.a.mark((function e(n,a){var i,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=-1===j.a.utils.toBN(n).cmp(j.a.utils.toBN(t.contracts.nativeToken.address)),e.next=3,pe((function(e){return t.readers.pair.methods.getReserves().call(e)}));case 3:return s=e.sent,e.abrupt("return",i?{tokenReserve:t.convert.fromWei(s.reserve0,a),nativeTokenReserve:t.convert.fromWei(s.reserve1,t.contracts.nativeToken.decimals)}:{tokenReserve:t.convert.fromWei(s.reserve1,a),nativeTokenReserve:t.convert.fromWei(s.reserve0,t.contracts.nativeToken.decimals)});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getMainTokenReserves:function(){return t.pair.getTokenReserves(t.contracts.token.address,t.contracts.token.decimals)},getMainTokenInitialReserves:function(){var e=y.getInitialLiquidity(t.chainId);return{initialTokenReserve:t.convert.fromWeiMainToken(e.tokenReserve),initialNativeTokenReserve:t.convert.fromWeiNativeToken(e.nativeTokenReserve)}}},iziSwap:{quote:function(e,n,a,i,s,o,r){return pe((function(c){return t.readers.iziSwap.methods.quote(e,n,a,i,s,o,r).call(c)}))},swap:function(){var e=Object(c.a)(h.a.mark((function e(n,a,i,s,o,r,c,l,p,m){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.signers.iziSwap.methods.swap(n,a,i,s,o,r,c,l,p,m).send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,i,s,o,r,c,l,p){return e.apply(this,arguments)}}(),getTokenPriceInStableToken:function(){var e=Object(c.a)(h.a.mark((function e(n,a,i){var s,o,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=y.getDefaultSwapRouter(t.chainId),o=s,e.next=4,t.iziSwap.quote(s,n,i,t.convert.toWei(1,a),o,t.contracts.stableToken.address,!1);case 4:return r=e.sent,e.abrupt("return",t.convert.fromWeiStableToken(r));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),getTokenPriceInMainToken:function(){var e=Object(c.a)(h.a.mark((function e(n,a,i){var s,o,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=y.getDefaultSwapRouter(t.chainId),o=s,e.next=4,t.iziSwap.quote(s,n,i,t.convert.toWei(1,a),o,t.contracts.token.address,!1);case 4:return r=e.sent,e.abrupt("return",t.convert.fromWeiMainToken(r));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},router:{getTokenPriceInStableToken:function(){var e=Object(c.a)(h.a.mark((function e(n,a){var i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe((function(e){return t.readers.router.methods.getAmountsOut(t.convert.toWei(1,a),[n,t.contracts.nativeToken.address,t.contracts.stableToken.address]).call(e)}));case 2:return i=e.sent,e.abrupt("return",t.convert.fromWeiStableToken(i[i.length-1]));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getMainTokenPriceInStableToken:function(){return t.router.getTokenPriceInStableToken(t.contracts.token.address,t.contracts.token.decimals)},getNativeTokenPriceInStableToken:function(){var e=Object(c.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe((function(e){return t.readers.router.methods.getAmountsOut(t.convert.toWei(1,t.contracts.nativeToken.decimals),[t.contracts.nativeToken.address,t.contracts.stableToken.address]).call(e)}));case 2:return n=e.sent,e.abrupt("return",t.convert.fromWeiStableToken(n[n.length-1]));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getTokenPriceInMainToken:function(){var e=Object(c.a)(h.a.mark((function e(n,a){var i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe((function(e){return t.readers.router.methods.getAmountsOut(t.convert.toWei(1,a),[n,t.contracts.nativeToken.address,t.contracts.token.address]).call(e)}));case 2:return i=e.sent,e.abrupt("return",t.convert.fromWeiMainToken(i[i.length-1]));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getMainTokenAmountFromNativeCoin:function(){var e=Object(c.a)(h.a.mark((function e(n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe((function(e){return t.readers.router.methods.getAmountsOut(t.convert.toWeiNativeCoin(n),[t.contracts.nativeToken.address,t.contracts.token.address]).call(e)}));case 2:return a=e.sent,e.abrupt("return",t.convert.fromWeiMainToken(a[a.length-1]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getNativeCoinAmountFromMainToken:function(){var e=Object(c.a)(h.a.mark((function e(n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe((function(e){return t.readers.router.methods.getAmountsOut(t.convert.toWeiMainToken(n),[t.contracts.token.address,t.contracts.nativeToken.address]).call(e)}));case 2:return a=e.sent,e.abrupt("return",t.convert.fromWeiNativeCoin(a[a.length-1]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),swapNativeTokenForMainToken:function(){var e=Object(c.a)(h.a.mark((function e(n,a,i){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.signers.router.methods.swapExactETHForTokensSupportingFeeOnTransferTokens(t.convert.toWeiMainToken(a),[t.contracts.nativeToken.address,t.contracts.token.address],i||t.account,parseInt(Date.now()/1e3+3600)).send({value:t.convert.toWeiNativeCoin(n)},e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),swapMainTokenForNativeToken:function(){var e=Object(c.a)(h.a.mark((function e(n,a,i){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.signers.router.methods.swapExactTokensForETHSupportingFeeOnTransferTokens(t.convert.toWeiMainToken(n),t.convert.toWeiNativeCoin(a),[t.contracts.token.address,t.contracts.nativeToken.address],i||t.account,parseInt(Date.now()/1e3+3600)).send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},token:{balanceOf:function(){var e=Object(c.a)(h.a.mark((function e(n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ae(t.reader,oe,n,{from:t.account}),e.abrupt("return",pe((function(e){return a.methods.balanceOf(t.account).call(e)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),transfer:function(){var e=Object(c.a)(h.a.mark((function e(n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.signers.token.methods.transfer(n,a).send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getAllowance:function(e,n){return pe((function(a){return t.readers.token.methods.allowance(e,n).call(a)}))},getTokenSnapshot:function(){return pe((function(e){return t.readers.token.methods.senderTokenSnapshot().call(e)}))},harvestPendingReward:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.readers.token.methods.harvestPendingReward().send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),approveRouter:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.signers.token.methods.approve(t.readers.router.options.address,re).send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),approveGame:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.signers.token.methods.approve(t.readers.game.options.address,re).send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),isAllowed:function(){var e=Object(c.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!n.eq(j.a.utils.toBN(0))&&n.cmp(j.a.utils.toBN(t))>=0);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),isAllowanceSatisfied:function(){var e=Object(c.a)(h.a.mark((function e(n,a){var i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("minAmount: ".concat(a)),e.t0=j.a.utils,e.next=4,t.token.getAllowance(t.account,n);case 4:return e.t1=e.sent,i=e.t0.toBN.call(e.t0,e.t1),e.abrupt("return",t.token.isAllowed(a,i));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},game:{getAllowance:function(){return t.token.getAllowance(t.account,t.readers.game.options.address)},getSnapshots:function(e){return pe((function(n){return t.readers.game.methods.senderGameSnapshots(e).call(n)}))},getSenderBetPoolCount:function(e){return pe((function(n){return t.readers.game.methods.senderBetPoolCount(e).call(n)}))},getSenderPoolSnapshots:function(e,n,a){return pe((function(i){return t.readers.game.methods.senderPoolSnapshots(e,n,a).call(i)}))},getSenderBetPools:function(e){return pe((function(n){return t.readers.game.methods.senderBetPools(e).call(n)}))},betMainToken:function(){var e=Object(c.a)(h.a.mark((function e(n,a,i){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("bet main"),e.t0=me,e.t1=t.reader,e.next=5,pe((function(e){return t.signers.game.methods.bet(n,a,i).send(e)}));case 5:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),bet:function(){var e=Object(c.a)(h.a.mark((function e(n,a,i,s,o){var r,c,l,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.convert.toWei(i,a.info.details.decimals),e.t0=t.convert,e.next=4,t.iziSwap.quote(a.info.router,a.info.token,a.isLiquidityToken,r,o.router,o.token,!1);case 4:return e.t1=e.sent,e.t2=o.details.decimals,c=e.t0.fromWei.call(e.t0,e.t1,e.t2),l=c*t.settings.getSlippageTolerance()/1e4,p=c-l,e.t3=me,e.t4=t.reader,e.next=13,pe((function(e){return t.signers.game.methods.bet(n,a.info.router,a.info.token,a.isLiquidityToken,t.convert.toWei(c,o.details.decimals),t.convert.toWei(p,o.details.decimals),s).send(e)}));case 13:return e.t5=e.sent,e.abrupt("return",(0,e.t3)(e.t4,e.t5));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a,i,s){return e.apply(this,arguments)}}(),compound:function(){var e=Object(c.a)(h.a.mark((function e(n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.signers.game.methods.compound(n,a).send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),claim:function(){var e=Object(c.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.signers.game.methods.claim(n).send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),harvestPendingReward:function(e,n){return t.game.betMainToken(e,0,n)},isAllowanceSatisfied:function(){var e=Object(c.a)(h.a.mark((function e(n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=j.a.utils,e.next=3,t.game.getAllowance();case 3:return e.t1=e.sent,a=e.t0.toBN.call(e.t0,e.t1),e.abrupt("return",t.token.isAllowed(n,a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},farm:{getDepositTokenSymbol:function(e){return e.isLiquidityToken?"".concat(e.token0Details.symbol,"/").concat(e.token1Details.symbol):e.depositToken.details.symbol},conversionRateOf:function(e,n,a,i,s,o){return pe((function(r){return t.readers.farm.methods.conversionRateOf(e,n,a,i,s,o).call(r)}))},getAllowance:function(e){return pe((function(n){return e.methods.allowance(t.account,t.readers.farm.options.address).call(n)}))},approveFarm:function(){var e=Object(c.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return n.methods.approve(t.readers.farm.options.address,re).send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSnapshot:function(e){return pe((function(n){return t.readers.farm.methods.senderFarmSnapshot(e).call(n)}))},getLiquidatablesSnapshot:function(e){return pe((function(n){return t.readers.farm.methods.senderFarmLiquidatablesSnapshot(e).call(n)}))},REMOVE_deposit:function(){var e=Object(c.a)(h.a.mark((function e(n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.signers.farm.methods.deposit(n,a,t.settings.getSlippageTolerance()).send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),deposit:function(){var e=Object(c.a)(h.a.mark((function e(n,a,i,s){var o,r,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.convert.toWei(i,a.info.details.decimals),e.t0=t.convert,e.next=4,t.iziSwap.quote(a.info.router,a.info.token,a.isLiquidityToken,o,s.depositToken.router,s.depositToken.token,s.isLiquidityToken);case 4:return e.t1=e.sent,e.t2=s.depositToken.details.decimals,r=e.t0.fromWei.call(e.t0,e.t1,e.t2),c=r*t.settings.getSlippageTolerance()/1e4,l=r-c,e.t3=me,e.t4=t.reader,e.next=13,pe((function(e){return t.signers.farm.methods.deposit(n,a.info.router,a.info.token,a.isLiquidityToken,t.convert.toWei(r,s.depositToken.details.decimals),t.convert.toWei(l,s.depositToken.details.decimals)).send(e)}));case 13:return e.t5=e.sent,e.abrupt("return",(0,e.t3)(e.t4,e.t5));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a,i){return e.apply(this,arguments)}}(),withdraw:function(){var e=Object(c.a)(h.a.mark((function e(n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.signers.farm.methods.withdraw(n,a).send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rebalance:function(){var e=Object(c.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.signers.farm.methods.rebalance(n).send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),liquidate:function(){var e=Object(c.a)(h.a.mark((function e(n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.signers.farm.methods.liquidateSenderUnchecked(n,t.settings.getSlippageTolerance()).send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),liquidateAccount:function(){var e=Object(c.a)(h.a.mark((function e(n,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=me,e.t1=t.reader,e.next=4,pe((function(e){return t.signers.farm.methods.liquidateAccount(n,a,t.settings.getSlippageTolerance()).send(e)}));case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),isAllowanceSatisfied:function(){var e=Object(c.a)(h.a.mark((function e(n,a){var i,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ae(t.reader,n.isLiquidityToken?Q:oe,n.depositToken.token,{from:t.account}),e.t0=j.a.utils,e.next=4,t.farm.getAllowance(i);case 4:return e.t1=e.sent,s=e.t0.toBN.call(e.t0,e.t1),e.abrupt("return",t.token.isAllowed(a,s));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getTokenPriceInDepositToken:function(){var e=Object(c.a)(h.a.mark((function e(n,a){var i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.iziSwap.quote(n.info.router,n.info.token,n.isLiquidityToken,t.convert.toWei(1,n.info.details.decimals),a.depositToken.router,a.depositToken.token,a.isLiquidityToken);case 2:return i=e.sent,e.abrupt("return",t.convert.fromWei(i,a.depositToken.details.decimals));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},tokenFinder:{findAll:function(e){return pe((function(n){return t.readers.tokenFinder.methods.findAll(e).call(n)}))}}};return t}(),be=30.4167,he=365;function fe(e,t,n,a,i){return je(e,t,n+a,a)*i/a}function je(e,t,n,a){return ge(e,t)*a/n}function xe(e,t,n){return ge(e,t)*n}function ge(e,t){return 86400*e/t}var ve=n(782);function ye(e){var t=e.isTooltip,n=e.children,i=e.icon,s=Object(a.useState)(),o=Object(g.a)(s,2),r=o[0],c=o[1],l=Object(a.useState)(),p=Object(g.a)(l,2),m=p[0],u=p[1],d=Object(ve.a)(r,m),b=d.styles,h=d.attributes;return Object(k.jsxs)(F.b,{as:"span",children:[Object(k.jsx)(F.b.Button,{as:"i",ref:c,className:"bi ".concat(t?null!==i&&void 0!==i?i:"bi-question-circle":null!==i&&void 0!==i?i:"bi-three-dots"," cursor-pointer hover:animate-pulse")}),Object(k.jsx)(F.c,{children:Object(k.jsx)(F.b.Panel,Object(J.a)(Object(J.a)({ref:u,style:b.popper},h.popper),{},{className:"z-10 card popover rounded-lg shadow w-full max-w-md",children:n}))})]})}var ke=Object.freeze({All:255,Token:1,Games:2,Farms:4,Liquidatables:8}),Oe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={isDetailed:!(e.showCompact&&e.showHeader),isInteractionDisabled:!1},a.toggleDetailedVisibility=a.toggleDetailedVisibility.bind(Object(m.a)(a)),a.execute=a.execute.bind(Object(m.a)(a)),a}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=Date.now()/1e3,n=this.props.priceInStableToken/this.props.priceInNativeToken,a=y.getSwapRouterName(de.chainId,y.getDefaultSwapRouter(de.chainId)),i="".concat(y.getBlockExplorerLink(de.chainId),"/token/").concat(this.props.token.contractAddress),s=de.convert.fromWeiMainToken(this.props.token.senderBalance),o=de.convert.fromWeiMainToken(this.props.token.senderLockedBalance),r=de.convert.fromWeiMainToken(this.props.token.senderFreeBalance),l=de.convert.fromWeiMainToken(this.props.token.senderPendingReward),p=de.convert.fromWeiMainToken(this.props.token.maximumSupply),m=de.convert.fromWeiMainToken(this.props.token.initialSupply),u=de.convert.fromWeiMainToken(this.props.token.totalSupply),d=0===u?0:s/u,b=de.convert.fromWeiMainToken(this.props.token.totalLockedSupply),f=de.convert.fromWeiMainToken(this.props.token.totalStaked),j=0===f?0:s/f,x=de.convert.fromWeiMainToken(this.props.token.supplyInContracts),g=de.convert.fromWeiMainToken(this.props.token.supplyInNonrewardables),v=de.convert.fromWeiMainToken(this.props.token.totalRewarded),O=de.convert.fromWeiMainToken(this.props.token.totalTransacted.total),T=parseFloat(this.props.token.seigniorageFee.rate)/1e4,w=de.convert.fromWeiMainToken(this.props.token.seigniorageFee.collected.total),N="".concat(y.getBlockExplorerLink(de.chainId),"/address/").concat(this.props.token.seigniory),S=parseInt(this.props.token.reducedEmissionHolderLimit),C=0==S||parseInt(this.props.token.holders)>S,I=de.convert.fromWeiMainToken(this.props.token.baseRewardPerBlock),B=de.convert.fromWeiMainToken(this.props.token.maximumRewardPerBlock),P=de.convert.fromWeiMainToken(this.props.token.currentRewardPerBlock),F=parseFloat(this.props.token.transferBurnRate)/1e4,U=parseFloat(this.props.token.salesBaseBurnRate)/1e4,D=parseFloat(this.props.token.salesMaximumBurnRate)/1e4,L=parseFloat(this.props.token.currentSalesBurnRate)/1e4,W=parseFloat(this.props.token.rebatableBurnRate)/1e4,R=parseFloat(this.props.token.rebateMaximizingShare)/1e4,M=parseFloat(this.props.token.rebateShareStepsize)/1e4,q=parseInt(this.props.token.regulationInterval),E=parseInt(this.props.token.regulationTimestamp),z=de.convert.fromWeiMainToken(this.props.token.priceAverage),H=parseFloat(this.props.token.rewardMultiplier)/1e4,G=parseFloat(this.props.token.burnMultiplier)/1e4,V=parseFloat(this.props.token.senderRebateRate)/1e4,Y=F-F*W*V,_=L-L*W*V,J=de.convert.fromWeiMainToken(this.props.token.senderTotalRebated.total),K=de.convert.fromWeiMainToken(this.props.token.senderTotalBurnt.total),Q=xe(B,this.props.blockTime,1),X=7*Q,Z=Q*be,$=Q*he,ee=xe(P,this.props.blockTime,1),te=7*ee,ne=ee*be,ae=ee*he,ie=je(B,this.props.blockTime,f,s),se=7*ie,oe=ie*be,re=ie*he,ce=je(P,this.props.blockTime,f,s),le=7*ce,pe=ce*be,me=ce*he,ue=de.convert.fromWeiMainToken(this.props.token.pendingPoolReward),ge=parseInt(this.props.token.rewardLastDistributedBlock),ve=ge>0?parseInt(this.props.token.currentBlock)-ge:0,ke=(this.props.blockTime,de.convert.fromWeiMainToken(this.props.token.senderTotalHarvested.total)),Oe=de.convert.fromWeiMainToken(this.props.token.totalRebated.total),Te=de.convert.fromWeiMainToken(this.props.token.totalBurnt.total),we=de.convert.fromWeiMainToken(this.props.token.totalHarvested.total),Ne=y.getPercentageYieldInvestmentInStablecoin()/this.props.priceInStableToken,Se=fe(P,this.props.blockTime,f,Ne,1),Ce=fe(P,this.props.blockTime,f,Ne,7),Ie=fe(P,this.props.blockTime,f,Ne,be),Be=fe(P,this.props.blockTime,f,Ne,he),Pe=Object(k.jsx)("span",{className:"tooltip text-[80%]",children:"Yield generated by holding your tokens in your wallet which is not claimed yet."}),Fe=Object(k.jsx)("span",{className:"tooltip text-[80%]",children:"Limiting the maximum supply is not possible due to the dynamic temporary passive (not tradable) supply (DTPS) generation by the farming pools."}),Ue=Object(k.jsx)("span",{className:"tooltip text-[80%]",children:"Temporary addition to circulating supply. Passive supply which can generate yield but can not be sold."}),De=Object(k.jsx)("span",{className:"tooltip text-[80%]",children:"The number of holders required for maximum reward per block emission. The idea is to decelerate the early inflation."}),Le=Object(k.jsx)("span",{className:"tooltip text-[80%]",children:"Rebates earned from burns by holding higher balance share."}),We=Object(k.jsx)("span",{className:"tooltip text-[80%]",children:"Fee paid to the seignory (token owner) from burns."}),Re=Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"Locked Balance",main:de.convert.formatMainToken(o),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(o*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{title:"Free Balance",main:de.convert.formatMainToken(r),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(r*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,mainClassName:"glow"}),Object(k.jsx)(A,{title:"Balance Share",main:de.convert.formatPercentage(d),mainUnit:"%",mainClassName:"neon"}),Object(k.jsx)(A,{title:"Stake Share",main:de.convert.formatPercentage(j),mainUnit:"%",mainClassName:"neon"})]}),Me=Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"Rebatable Burn Rate (RBR)",main:de.convert.formatPercentage(W),mainUnit:"%",detail:de.convert.formatPercentage(F*W),detailUnit:"% from TBR"}),Object(k.jsx)(A,{title:"Rebate Maximizing Share",main:de.convert.formatPercentage(R),mainUnit:"%"}),Object(k.jsx)(A,{title:"Rebate Share Stepsize",main:de.convert.formatPercentage(M),mainUnit:"%"}),Object(k.jsx)(A,{title:"Your Rebate Rate of RBR",main:de.convert.formatPercentage(V),mainUnit:"%",detail:de.convert.formatPercentage(F*W*V),detailUnit:"% of TBR"})]}),Ae=Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"Rebatable Burn Rate (RBR)",main:de.convert.formatPercentage(W),mainUnit:"%",detail:de.convert.formatPercentage(L*W),detailUnit:"% from CSBR"}),Object(k.jsx)(A,{title:"Rebate Maximizing Share",main:de.convert.formatPercentage(R),mainUnit:"%"}),Object(k.jsx)(A,{title:"Rebate Share Stepsize",main:de.convert.formatPercentage(M),mainUnit:"%"}),Object(k.jsx)(A,{title:"Your Rebate Rate of RBR",main:de.convert.formatPercentage(V),mainUnit:"%",detail:de.convert.formatPercentage(L*W*V),detailUnit:"% of CSBR"})]}),qe=(de.convert.formatMainToken(Q),this.props.token.details.symbol,de.convert.formatStableToken(Q*this.props.priceInStableToken),de.contracts.stableToken.symbol,de.convert.formatMainToken(X),this.props.token.details.symbol,de.convert.formatStableToken(X*this.props.priceInStableToken),de.contracts.stableToken.symbol,de.convert.formatMainToken(Z),this.props.token.details.symbol,de.convert.formatStableToken(Z*this.props.priceInStableToken),de.contracts.stableToken.symbol,de.convert.formatMainToken($),this.props.token.details.symbol,de.convert.formatStableToken($*this.props.priceInStableToken),de.contracts.stableToken.symbol,"col-span-12 ".concat(this.props.borderBottom),de.convert.formatMainToken(ie),this.props.token.details.symbol,de.convert.formatStableToken(ie*this.props.priceInStableToken),de.contracts.stableToken.symbol,de.convert.formatMainToken(se),this.props.token.details.symbol,de.convert.formatStableToken(se*this.props.priceInStableToken),de.contracts.stableToken.symbol,de.convert.formatMainToken(oe),this.props.token.details.symbol,de.convert.formatStableToken(oe*this.props.priceInStableToken),de.contracts.stableToken.symbol,de.convert.formatMainToken(re),this.props.token.details.symbol,de.convert.formatStableToken(re*this.props.priceInStableToken),de.contracts.stableToken.symbol,Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mr-1",children:"Reward Maximizing Holders"}),Object(k.jsx)(ye,{isTooltip:!0,children:De})]}),main:de.convert.formatInteger(this.props.token.reducedEmissionHolderLimit)}),Object(k.jsx)(A,{title:"Current Holders",main:de.convert.formatInteger(this.props.token.holders),detail:Object(k.jsx)("span",{className:"font-display",children:C?"Regular Reward Emission":"Reduced Reward Emission"}),detailClassName:"uppercase text-red-500"}),Object(k.jsx)("span",{className:"group-title light-box opacity-75 col-span-2",children:"Pool's Current Reward"}),Object(k.jsx)(A,{title:"Per Day",main:de.convert.formatMainToken(ee),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(ee*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{title:"Per Week",main:de.convert.formatMainToken(te),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(te*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{title:"Per Month",main:de.convert.formatMainToken(ne),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(ne*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{title:"Per Year",main:de.convert.formatMainToken(ae),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(ae*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)("span",{className:"group-title light-box opacity-75 col-span-2",children:"Your Current Reward"}),Object(k.jsx)(A,{title:"Per Day",main:de.convert.formatMainToken(ce),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(ce*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{title:"Per Week",main:de.convert.formatMainToken(le),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(le*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{title:"Per Month",main:de.convert.formatMainToken(pe),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(pe*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{title:"Per Year",main:de.convert.formatMainToken(me),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(me*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol})]})),Ee=0===parseInt(this.props.token.senderTotalHarvested.timestamp)?"-":de.convert.formatTimespan(t-parseInt(this.props.token.senderTotalHarvested.timestamp));return Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-2",children:[Object(k.jsxs)("div",{className:"card bg-weeb-card1/60 bg-diagonal-lines",children:[this.props.showHeader&&Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-x-2 gap-y-0.5",children:[Object(k.jsxs)("div",{className:"flex items-center justify-between",children:[Object(k.jsxs)("span",{className:"card-header-title-text opacity-75 cursor-pointer",onClick:this.toggleDetailedVisibility,children:[Object(k.jsx)("i",{className:"bi ".concat(this.state.isDetailed?"bi-caret-down-fill":"bi-caret-right-fill"," mr-1")}),this.props.token.details.name]}),Object(k.jsxs)("div",{className:"card-header-item-text truncate opacity-25 2xs:ml-4",children:[Object(k.jsx)("i",{className:"bi bi-clipboard mr-1 cursor-pointer",onClick:Object(c.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,navigator.clipboard.writeText(e.props.token.contractAddress);case 3:console.error("The token contract address copied."),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Failed to copy the token contract address: ",t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))}),Object(k.jsx)("a",{href:i,rel:"noreferrer",target:"_blank",className:"numeric hover:select-all",children:this.props.token.contractAddress})]})]}),Object(k.jsxs)("div",{className:"flex items-center justify-between card-header-item-text",children:[Object(k.jsx)("span",{className:"opacity-25",children:a}),Object(k.jsxs)("span",{className:"numeric opacity-25",children:[Object(k.jsx)("i",{className:"bi bi-box mr-1"}),de.convert.formatInteger(this.props.token.currentBlock)]})]}),Object(k.jsx)("div",{className:"mt-0.5 mb-3 ".concat(this.props.borderBottom," border-2")})]})}),Object(k.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4",children:[Object(k.jsx)(A,{title:"Price",main:de.convert.formatStableToken(this.props.priceInStableToken),mainUnit:de.contracts.stableToken.symbol,detail:de.convert.formatNativeToken(1/this.props.priceInNativeToken),detailUnit:"".concat(this.props.token.details.symbol,"/").concat(de.contracts.nativeToken.symbol)}),Object(k.jsx)(A,{title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mr-1",children:"Balance"}),Object(k.jsx)(ye,{children:Re})]}),main:de.convert.formatMainToken(s),mainUnit:this.props.token.details.symbol,detail:de.convert.formatMainToken(s*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mr-1",children:"Pending Reward"}),Object(k.jsx)(ye,{isTooltip:!0,children:Object(k.jsx)("span",{children:Pe})})]}),main:de.convert.formatMainToken(l,4,4),mainUnit:this.props.token.details.symbol,detail:this.props.token.isSenderNonrewardable?"Nonrewardable":de.convert.formatStableToken(l*this.props.priceInStableToken,2,2),detailUnit:this.props.token.isSenderNonrewardable?null:de.contracts.stableToken.symbol,mainClassName:"neon",detailClassName:"".concat(this.props.token.isSenderNonrewardable?"uppercase text-red-400":"")}),Object(k.jsx)(A,{containerClassName:"auto-rows-auto",title:Object(k.jsxs)(k.Fragment,{children:["Last Harvest",this.props.token.isDirectHarvestingEnabled?Object(k.jsx)("i",{className:"bi bi-lightning-charge-fill text-green-500"}):null,this.props.token.isSenderDirectHarvester?Object(k.jsx)("i",{className:"bi bi-lightning-charge-fill text-red-500"}):null]}),main:this.props.showHarvestButton&&Ee,info:!this.props.showHarvestButton&&Ee,detail:Object(k.jsx)(k.Fragment,{children:this.props.showHarvestButton&&Object(k.jsx)("div",{className:"sm:container font-display mt-1",children:Object(k.jsx)("button",{autoFocus:!0,type:"button",className:"w-full h-9 btn btn-green",disabled:this.state.isInteractionDisabled||0===l,onClick:Object(c.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.execute((function(){return e.props.harvestPendingReward()}));case 2:case"end":return t.stop()}}),t)}))),children:"Harvest the Reward"})})}),mainClassName:this.props.showHarvestButton?"text-[0.875em]":"",infoClassName:this.props.showHarvestButton?"":"text-[1.4em] self-end"})]})]}),this.state.isDetailed&&this.props.showHeader&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"card bg-weeb-card1/40 bg-diagonal-lines",children:Object(k.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)("span",{className:"group-title light-box opacity-75 col-span-2 sm:col-span-4",children:"Supply Details"}),Object(k.jsx)(A,{title:"Circulating Supply",main:de.convert.formatMainToken(u),mainUnit:this.props.token.details.symbol}),Object(k.jsx)(A,{title:"Market Cap.",main:de.convert.formatStableToken(u*this.props.priceInStableToken),mainUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{title:"Initial Supply",main:de.convert.formatMainToken(m),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(m*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),p>0?Object(k.jsx)(A,{title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mr-1",children:"Maximum Supply"}),Object(k.jsx)(ye,{isTooltip:!0,children:Object(k.jsx)("span",{children:Fe})})]}),main:de.convert.formatMainToken(p),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(p*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}):Object(k.jsx)(A,{title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mr-1",children:"Maximum Supply"}),Object(k.jsx)(ye,{isTooltip:!0,children:Object(k.jsx)("span",{children:Fe})})]}),main:"Dynamic",mainClassName:"font-display"}),Object(k.jsx)("div",{className:"col-span-2 sm:col-span-4 ".concat(this.props.borderBottom)}),Object(k.jsx)(A,{title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mr-1",children:"Total Locked Supply"}),Object(k.jsx)(ye,{isTooltip:!0,children:Object(k.jsx)("span",{children:Ue})})]}),main:de.convert.formatMainToken(b),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(b*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{title:"Total Staked",main:de.convert.formatMainToken(f),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(f*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{title:"Supply in Contracts",main:de.convert.formatMainToken(x),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(x*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{title:"Supply in Nonrewardables",main:de.convert.formatMainToken(g),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(g*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol})]})}),Object(k.jsx)("div",{className:"card bg-weeb-card1/40 bg-diagonal-lines",children:Object(k.jsxs)("div",{className:"grid grid-cols-6 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)("span",{className:"group-title light-box opacity-75 col-span-6",children:"Token Emission"}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:"Reward Per Block [Min, Max]",main:"[".concat(de.convert.formatMainToken(I),", ").concat(0===B?"-":de.convert.formatMainToken(B),"]"),mainUnit:this.props.token.details.symbol}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:"Reward Multiplier",main:de.convert.formatNumberScaled(1+H)}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"sm:hidden",children:"Avg. "}),Object(k.jsx)("span",{className:"hidden sm:inline",children:"Average "}),"Block Time"]}),main:this.props.blockTime,mainUnit:"s"}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mr-1 hidden sm:inline",children:"Current Reward Per Block"}),Object(k.jsx)("span",{className:"mr-1 sm:hidden",children:"Current Reward/Block"}),Object(k.jsx)(ye,{children:qe})]}),main:de.convert.formatMainToken(P),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(P*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,mainClassName:"neon"}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:"Pending Pool Reward",main:de.convert.formatMainToken(ue,4,4),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(ue*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"bi bi-calendar2-check mr-1"}),de.convert.formatInteger(ge)," / ",de.convert.formatInteger(ve)]}),infoClassName:"opacity-25 light-box"}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:"Your Total Harvested",main:de.convert.formatMainToken(ke),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(ke*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.token.senderTotalHarvested.count,this.props.token.senderTotalHarvested.timestamp,t)}),Object(k.jsx)("div",{className:"col-span-6 ".concat(this.props.borderBottom)}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:"Transfer Burn Rate (TBR)",main:de.convert.formatPercentage(F),mainUnit:"%"}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mr-1",children:"Your Transfer Burn Rate"}),Object(k.jsx)(ye,{children:Me})]}),main:this.props.token.isSenderNonburnable?Object(k.jsx)("s",{children:de.convert.formatPercentage(Y)}):de.convert.formatPercentage(Y),mainUnit:"%",info:this.props.token.isSenderNonburnable?Object(k.jsx)("span",{className:"font-display",children:"You're Burn Free"}):null,infoClassName:"opacity-75 font-semibold uppercase text-red-500"}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:"Sales Burn Rates [Min, Max]",main:"[".concat(de.convert.formatPercentage(U),", ").concat(0===D?"-":de.convert.formatPercentage(D),"]"),mainUnit:"%"}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:"Sales Burn Multiplier",main:de.convert.formatNumberScaled(1+G)}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:"Current Sales Burn Rate (CSBR)",main:de.convert.formatPercentage(L),mainUnit:"%"}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mr-1",children:"Your Sales Burn Rate"}),Object(k.jsx)(ye,{children:Ae})]}),main:this.props.token.isSenderNonburnable?Object(k.jsx)("s",{children:de.convert.formatPercentage(_)}):de.convert.formatPercentage(_),mainUnit:"%",info:this.props.token.isSenderNonburnable?Object(k.jsx)("span",{className:"font-display",children:"You're Burn Free"}):null,infoClassName:"opacity-75 font-semibold uppercase text-red-500"}),Object(k.jsx)("div",{className:"col-span-6 ".concat(this.props.borderBottom)}),Object(k.jsx)(A,{containerClassName:"col-span-3",title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mr-1",children:"Your Total Rebated"}),Object(k.jsx)(ye,{isTooltip:!0,children:Object(k.jsx)("span",{children:Le})})]}),main:de.convert.formatMainToken(J),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(J*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.token.senderTotalRebated.count,this.props.token.senderTotalRebated.timestamp,t)}),Object(k.jsx)(A,{containerClassName:"col-span-3",title:"Your Total Burnt",main:de.convert.formatMainToken(K),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(K*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.token.senderTotalBurnt.count,this.props.token.senderTotalBurnt.timestamp,t)}),Object(k.jsx)("span",{className:"group-title light-box opacity-75 col-span-6",children:"Inflation Regulator"}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:"Time From Last Regulation",main:de.convert.formatTimespan(t-E),mainClassName:t-E>q?"text-red-500":null}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:"Regulation Interval",main:de.convert.formatTimespan(q)}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-2",title:"Interval Average Price",main:de.convert.formatStableToken(z*n),mainUnit:de.contracts.stableToken.symbol,detail:0==z?"-":de.convert.formatNativeToken(1/z),detailUnit:"".concat(this.props.token.details.symbol,"/").concat(de.contracts.nativeToken.symbol)})]})}),Object(k.jsx)("div",{className:"card bg-weeb-card1/40 bg-diagonal-lines",children:Object(k.jsxs)("div",{className:"grid grid-cols-4 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)("span",{className:"group-title light-box opacity-75 col-span-4",children:"Current Percentage Yield"}),Object(k.jsx)(A,{title:"Daily",main:de.convert.formatPercentage(Se,4),mainUnit:"%"}),Object(k.jsx)(A,{title:"Weekly",main:de.convert.formatPercentage(Ce,3),mainUnit:"%"}),Object(k.jsx)(A,{title:"Monthly",main:de.convert.formatPercentage(Ie),mainUnit:"%"}),Object(k.jsx)(A,{title:"Annual",main:de.convert.formatPercentage(Be),mainUnit:"%"})]})}),Object(k.jsx)("div",{className:"card bg-weeb-card1/40 bg-diagonal-lines",children:Object(k.jsxs)("div",{className:"grid grid-cols-6 sm:grid-cols-5 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)("span",{className:"group-title light-box opacity-75 col-span-6 sm:col-span-5",children:"Liquidity & Others"}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-1",title:"Total Liquidity",main:de.convert.formatMainToken(this.props.token.tokenReserve),mainUnit:this.props.token.details.symbol,detail:de.convert.formatNativeToken(this.props.token.nativeTokenReserve),detailClassName:"text-[1.4em] before:content-['+'] before:block before:text-[0.75em]",detailUnit:de.contracts.nativeToken.symbol,detailUnitClassName:"text-[0.75em]"}),Object(k.jsx)(A,{containerClassName:"col-span-3 sm:col-span-1",title:"Initial Liquidity",main:de.convert.formatMainToken(this.props.token.initialTokenReserve),mainUnit:this.props.token.details.symbol,detail:de.convert.formatNativeToken(this.props.token.initialNativeTokenReserve),detailClassName:"text-[1.4em] before:content-['+'] before:block before:text-[0.75em]",detailUnit:de.contracts.nativeToken.symbol,detailUnitClassName:"text-[0.75em]"}),Object(k.jsx)("div",{className:"col-span-6 sm:hidden ".concat(this.props.borderBottom)}),Object(k.jsx)(A,{containerClassName:"col-span-2 sm:col-span-1",title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mr-1",children:"Seigniorage Fee"}),Object(k.jsx)(ye,{isTooltip:!0,children:Object(k.jsx)("span",{children:We})})]}),main:de.convert.formatPercentage(T),mainUnit:"%",detail:Object(k.jsx)("a",{href:N,rel:"noreferrer",target:"_blank",className:"numeric",children:de.convert.formatAccount(this.props.token.seigniory)}),info:this.props.token.isSenderSeignory?Object(k.jsx)("span",{className:"font-display",children:"You're Seignory"}):null,infoClassName:"opacity-75 light-box font-semibold uppercase text-red-500"}),Object(k.jsx)(A,{containerClassName:"col-span-2 sm:col-span-1",title:"Transfers",main:de.convert.formatInteger(this.props.token.transfers)}),Object(k.jsx)(A,{containerClassName:"col-span-2 sm:col-span-1",title:"Holders",main:de.convert.formatInteger(this.props.token.holders)})]})}),Object(k.jsx)("div",{className:"card bg-weeb-card1/40 bg-diagonal-lines",children:Object(k.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-6 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)("span",{className:"group-title light-box opacity-75 col-span-2 md:col-span-3 xl:col-span-6",children:"Statistics"}),Object(k.jsx)(A,{title:Object(k.jsxs)(k.Fragment,{children:["Total Transacted",Object(k.jsx)("span",{className:"hidden sm:inline",children:" Volume"})]}),main:de.convert.formatMainToken(O),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(O*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.token.totalTransacted.count,this.props.token.totalTransacted.timestamp,t)}),Object(k.jsx)(A,{title:"Seigniorage Collected",main:de.convert.formatMainToken(w),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(w*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.token.seigniorageFee.collected.count,this.props.token.seigniorageFee.collected.timestamp,t)}),Object(k.jsx)(A,{title:"Total Rebated",main:de.convert.formatMainToken(Oe),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(Oe*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.token.totalRebated.count,this.props.token.totalRebated.timestamp,t)}),Object(k.jsx)("div",{className:"hidden md:block md:col-span-3 xl:hidden ".concat(this.props.borderBottom)}),Object(k.jsx)(A,{title:"Total Burnt",main:de.convert.formatMainToken(Te),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(Te*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.token.totalBurnt.count,this.props.token.totalBurnt.timestamp,t)}),Object(k.jsx)(A,{title:"Total Rewarded",main:de.convert.formatMainToken(v),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(v*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{title:"Total Harvested",main:de.convert.formatMainToken(we),mainUnit:this.props.token.details.symbol,detail:de.convert.formatStableToken(we*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.token.totalHarvested.count,this.props.token.totalHarvested.timestamp,t)})]})})]})]})}},{key:"getActivity",value:function(e,t,n){return Object(k.jsxs)("div",{className:"flex justify-evenly space-x-1",children:[Object(k.jsxs)("span",{className:"light-box w-full",children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e)]}),Object(k.jsxs)("span",{className:"light-box w-full",children:[Object(k.jsx)("i",{className:"bi bi-clock mr-1"}),t>0?de.convert.formatTimespan(n-t):"-"]})]})}},{key:"getActivity2",value:function(e,t){return Object(k.jsxs)("div",{className:"flex justify-evenly space-x-1",children:[Object(k.jsxs)("span",{className:"light-box w-full",children:[Object(k.jsx)("i",{className:"bi bi-calendar2-check mr-1"}),de.convert.formatInteger(e)]}),Object(k.jsxs)("span",{className:"light-box w-full",children:[Object(k.jsx)("i",{className:"bi bi-clock mr-1"}),t>0?de.convert.formatTimespan(t):"-"]})]})}},{key:"getSimulatedRewardPerBlockValues",value:function(e,t){for(var n=[],a=0;a<=t;)n.push({holder:a,rewardPerBlock:e*a/t}),a+=100;return n}},{key:"toggleDetailedVisibility",value:function(){this.setState({isDetailed:!this.state.isDetailed})}},{key:"execute",value:function(){var e=Object(c.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isInteractionDisabled:!0}),e.prev=1,e.next=4,t();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:return e.prev=9,this.setState({isInteractionDisabled:!1}),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[1,6,9,12]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(a.Component);function Te(e,t,n){return e*n/(e+t)}function we(e){var t=e.isDisabled,n=e.min,i=e.max,s=e.decimals,o=e.percentages,r=e.valueClassName,c=e.rangeClassName,l=e.buttonClassName,p=e.setValue,m=e.setPercentage,u=Object(a.useState)(0),d=Object(g.a)(u,2),b=d[0],h=d[1];function f(e){return e?parseFloat(parseFloat(e).toFixed(s)):0}function j(){return isNaN(s)?0:Math.pow(10,-s)}function x(e){var t=parseFloat(i),a=parseFloat(n);e>t&&(e=t),e<a&&(e=a),h(e),p(e);var s=t-a;m(0!==s?e/s:0)}function v(e){x(null!=e.target.value?f(e.target.value):0)}return Object(a.useEffect)((function(){var e=parseFloat(b),t=parseFloat(i);e>t&&x(t)}),[i]),Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-1",children:[Object(k.jsx)("input",{disabled:t,type:"number",className:"text-[2em] numeric text-right h-fit ".concat(r),min:f(n),max:f(i),step:f(j()),value:f(b),onInput:v}),Object(k.jsx)("input",{disabled:t,type:"range",list:"tickmarks",className:"border-0 focus:border-0 ring-0 focus:ring-0 ".concat(c),min:f(n),max:f(i),step:f(j()),value:f(b),onInput:v}),Object(k.jsx)("div",{className:"flex items-center justify-center space-x-2 lg:justify-evenly",children:function(){for(var e=[],t=function(t){var a=o[t];e.push(Object(k.jsx)("button",{type:"button",className:"".concat(l," ").concat(t<2?"hidden lg:inline":""),onClick:function(){return function(e){var t=parseFloat(i),a=parseFloat(n);x(a+(t-a)*e/100)}(a)},children:Object(k.jsx)(L,{sizeCount:1,main:a,mainUnit:"%",mainClassName:"!text-[0.875em]",mainUnitClassName:"!text-[0.6875em] ml-0.5"})},t))},a=0;a<o.length;++a)t(a);return e}()})]})}function Ne(e){var t=e.delay,n=e.type,i=e.id,s=e.className,o=e.defaultValue,r=e.placeholder,c=e.list,l=e.min,p=e.max,m=e.step,u=e.onInput,d=Object(a.useState)(),b=Object(g.a)(d,2),h=b[0],f=b[1];return Object(a.useEffect)((function(){f(o)}),[o]),Object(a.useEffect)((function(){var e=setTimeout((function(){return u(h)}),t);return function(){return clearTimeout(e)}}),[h]),Object(k.jsx)("input",{type:n,autoComplete:"off",id:i,className:s,value:h?"number"===n&&isNaN(h)?"":h:"",placeholder:r,list:c,min:l,max:p,step:m,onChange:function(e){return f(e.target.value)}})}function Se(e){var t=e.isDarkTheme,n=e.nativeCoinBalance,i=e.token,s=e.nativeTokenPriceInStableToken,o=e.swap,r=Object.freeze({Buy:0,Sell:1}),l=Object(a.useState)(!1),p=Object(g.a)(l,2),m=p[0],u=p[1],d=Object(a.useState)(!1),b=Object(g.a)(d,2),f=b[0],x=b[1],v=Object(a.useState)(r.Buy),O=Object(g.a)(v,2),T=O[0],w=O[1],N=Object(a.useState)(0),S=Object(g.a)(N,2),C=S[0],I=S[1],B=Object(a.useState)(0),P=Object(g.a)(B,2),U=P[0],D=P[1],W=Object(a.useState)(),R=Object(g.a)(W,2),M=R[0],q=R[1],E=Object(a.useState)(0),z=Object(g.a)(E,2),H=z[0],G=z[1],V=Object(a.useState)(0),Y=Object(g.a)(V,2),_=Y[0],J=Y[1],K=Object(a.useState)(0),Q=Object(g.a)(K,2),X=Q[0],Z=Q[1],$=Object(a.useState)(0),ee=Object(g.a)($,2),te=ee[0],ne=ee[1],ae=de.convert.fromWeiMainToken(i.senderFreeBalance);return Object(a.useEffect)((function(){Object(c.a)(h.a.mark((function e(){var t,n,a,o,c,l,p,m;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C>0&&(t=i.nativeTokenReserve/i.tokenReserve,n=y.getSwapRouterSwapFee(de.chainId,y.getDefaultSwapRouter(de.chainId))/1e4,console.log({tokenReserve:i.tokenReserve,nativeTokenReserve:i.nativeTokenReserve}),console.log("initial price: ".concat(s*t)),T===r.Buy?(a=Te(C*(1-n),i.nativeTokenReserve,i.tokenReserve),G(a),o=a-a*de.settings.getSlippageTolerance()/1e4,J(o),c=(C*(1-n)+i.nativeTokenReserve)/(i.tokenReserve-a),Z((c-t)/t),c=(C*(1-n)+i.nativeTokenReserve)/(i.tokenReserve-o),ne((c-t)/t),console.log("mainTokenOut: ".concat(a,"; price: ").concat(s*c))):(l=Te(C*(1-n),i.tokenReserve,i.nativeTokenReserve),G(l),p=l-l*de.settings.getSlippageTolerance()/1e4,J(p),m=(i.nativeTokenReserve-l)/(i.tokenReserve+C*(1-n)),Z((m-t)/t),m=(i.nativeTokenReserve-p)/(i.tokenReserve+C*(1-n)),ne((m-t)/t),console.log("nativeTokenOut: ".concat(l,"; price: ").concat(s*m))));case 1:case"end":return e.stop()}}),e)})))()}),[C,i.tokenReserve,i.nativeTokenReserve]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-3",children:[Object(k.jsx)("div",{className:"flex items-center justify-between group-title light-box opacity-75 h-9 px-2",children:Object(k.jsx)(F.d.Group,{children:Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsxs)(F.d,{checked:T===r.Buy,onChange:function(){T===r.Buy?w(r.Sell):w(r.Buy)},className:"".concat(t?"bg-violet-900/80":"bg-violet-300"," relative inline-flex items-center h-5 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-violet-300/50"),children:[Object(k.jsx)("span",{className:"sr-only",children:"Swap mode"}),Object(k.jsx)("span",{className:"".concat(T===r.Buy?"translate-x-6":"translate-x-1"," inline-block w-4 h-4 transform ").concat(t?"bg-violet-300":"bg-slate-800"," rounded-full transition-transform")})]}),Object(k.jsxs)(F.d.Label,{className:"leading-6 ml-1.5",children:[T===r.Buy?"Buy":"Sell"," ",de.contracts.token.symbol]})]})})}),Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-0.5",children:[Object(k.jsxs)("div",{className:"flex items-center justify-between leading-6",children:[Object(k.jsxs)("span",{className:"input-label",children:["Amount:",Object(k.jsxs)("span",{className:"ml-1",children:["(",Object(k.jsx)(L,{main:de.convert.formatPercentage(U),mainUnit:"%",mainClassName:"text-[1em]",mainUnitClassName:"ml-0.5"}),")"]})]}),Object(k.jsxs)("span",{className:"input-label",children:["Balance:",Object(k.jsx)(L,{main:T===r.Buy?n?de.convert.formatNativeCoin(n):"-":ae?de.convert.formatMainToken(ae):"-",mainUnit:T===r.Buy?de.nativeCoin.symbol:de.contracts.token.symbol,mainClassName:"text-[1em] ml-1",mainUnitClassName:"ml-0.5"})]})]}),Object(k.jsx)("div",{className:"".concat(t?"accent-violet-300":""),children:Object(k.jsx)(we,{min:0,max:T===r.Buy?n||0:ae||0,decimals:Math.min(T===r.Buy?de.nativeCoin.decimals:de.contracts.token.decimals,4),setValue:I,setPercentage:D,valueClassName:"".concat(t?"bg-violet-900/80":""),rangeClassName:"".concat(t?"bg-violet-900/80":""),buttonClassName:"btn btn-violet text-indigo-50 numeric w-11 h-7 ".concat(t?"bg-violet-900/80":"bg-violet-900/20"," hover:text-violet-900 focus:hover:text-violet-200")})})]}),Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-1",children:[Object(k.jsx)("label",{htmlFor:"recipient",className:"flex leading-6",children:Object(k.jsx)("span",{className:"input-label",children:"Recipient:"})}),Object(k.jsx)(Ne,{delay:400,type:"search",id:"recipient",className:"numeric !text-[1em] text-right ".concat(t?"bg-violet-900/80":""),placeholder:"Enter recipient address".concat(de.account?" or leave blank if it's you":""),onInput:function(e){return q(e)}})]}),Object(k.jsxs)("div",{className:"flex items-start justify-between",children:[Object(k.jsxs)("div",{className:"lg:col-span-2 justify-self-start",children:[Object(k.jsx)("span",{className:"cursor-pointer text-[1.125em] leading-none shadow-none",onClick:function(){u(!m)},children:m?Object(k.jsx)("i",{className:"bi bi-gear-fill"}):Object(k.jsx)("i",{className:"bi bi-gear"})}),Object(k.jsxs)("span",{className:"ml-2",children:[Object(k.jsx)("input",{type:"number",className:"w-20 numeric !text-[1em] text-right transition origin-left ".concat(m?"scale-x-100":"scale-x-0"," ").concat(t?"bg-violet-900/80":""),defaultValue:de.settings.getSlippageTolerance()/100,placeholder:"Enter slippage tolerance",min:0,step:.01,onChange:function(e){de.settings.setSlippageTolerance(100*parseFloat(e.target.value))}}),Object(k.jsx)("span",{className:"ml-1 numeric transition ".concat(m?null:"hidden"),children:"%"})]})]}),Object(k.jsx)("button",{type:"button",className:"lg:col-span-2 w-28 h-9 text-[0.75em] btn btn-green justify-self-end ".concat(t?"text-violet-50":""),disabled:f||0===C||!(!M||j.a.utils.isAddress(M.toLowerCase())),onClick:Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie((function(){return o(C,_,M,T===r.Buy)}));case 2:case"end":return e.stop()}}),e)}))),children:T===r.Buy?"Buy":"Sell"})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-y-4 gap-x-2 items-center text-[80%]",children:[Object(k.jsx)(A,{title:"To be Received (Min, Max)",main:T===r.Buy?de.convert.formatNativeCoin(_):de.convert.formatMainToken(_),mainUnit:T===r.Buy?de.contracts.token.symbol:de.nativeCoin.symbol,detail:T===r.Buy?de.convert.formatNativeCoin(H):de.convert.formatMainToken(H),detailUnit:T===r.Buy?de.contracts.token.symbol:de.nativeCoin.symbol,detailClassName:"opacity-100 text-[1.4em]",detailUnitClassName:"!opacity-75 !text-[0.75em]"}),Object(k.jsx)(A,{title:"Price Impact (Min, Max)",detail:de.convert.formatPercentage(X,4,2),detailUnit:"%",main:de.convert.formatPercentage(te,4,2),mainUnit:"%",detailClassName:"opacity-100 text-[1.4em]",detailUnitClassName:"!opacity-75 !text-[0.75em]"})]})]})});function ie(e){return se.apply(this,arguments)}function se(){return(se=Object(c.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,t();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:return e.prev=9,x(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,6,9,12]])})))).apply(this,arguments)}}function Ce(e){var t=e.balance,n=Object(a.useState)(!1),i=Object(g.a)(n,2),s=i[0],o=i[1],r=Object(a.useState)(0),l=Object(g.a)(r,2),p=l[0],m=l[1],u=Object(a.useState)(0),d=Object(g.a)(u,2),b=d[0],f=d[1],x=Object(a.useState)(),v=Object(g.a)(x,2),y=v[0],O=v[1];return Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-3 items-center",children:[Object(k.jsx)("div",{className:"flex items-center justify-center group-title light-box opacity-75 h-9 px-2",children:Object(k.jsxs)("span",{children:["Transfer ",de.contracts.token.symbol]})}),Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-0.5",children:[Object(k.jsxs)("div",{className:"flex items-center justify-between leading-6",children:[Object(k.jsxs)("span",{className:"input-label",children:["Amount:",Object(k.jsxs)("span",{className:"ml-1",children:["(",Object(k.jsx)(L,{main:de.convert.formatPercentage(b),mainUnit:"%",mainClassName:"text-[1em]",mainUnitClassName:"ml-0.5"}),")"]})]}),Object(k.jsxs)("span",{className:"input-label",children:["Balance:",Object(k.jsx)(L,{main:t?de.convert.formatMainToken(t):"-",mainUnit:de.contracts.token.symbol,mainClassName:"text-[1em] ml-1",mainUnitClassName:"ml-0.5"})]})]}),Object(k.jsx)("div",{children:Object(k.jsx)(we,{min:0,max:t||0,decimals:Math.min(de.contracts.token.decimals,4),setValue:m,setPercentage:f,buttonClassName:"btn btn-violet text-indigo-50 numeric w-11 h-7 bg-violet-900/20 hover:text-violet-900 focus:hover:text-violet-200"})})]}),Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-1",children:[Object(k.jsx)("label",{htmlFor:"recipient",className:"flex leading-6",children:Object(k.jsx)("span",{className:"input-label",children:"Recipient:"})}),Object(k.jsx)(Ne,{delay:400,type:"search",id:"recipient",className:"numeric !text-[1em] text-right",placeholder:"Enter recipient address",onInput:function(e){return O(e)}})]}),Object(k.jsx)("div",{className:"flex items-start justify-end",children:Object(k.jsx)("button",{type:"button",className:"w-28 h-9 text-[0.75em] btn btn-green",disabled:s||!(y&&j.a.utils.isAddress(y.toLowerCase()))||0===p,onClick:Object(c.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p===t?re:de.convert.toWeiMainToken(p),e.next=3,T((function(){return de.token.transfer(y,n)}));case 3:case"end":return e.stop()}}),e)}))),children:"Send"})})]});function T(e){return w.apply(this,arguments)}function w(){return(w=Object(c.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,t();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:return e.prev=9,o(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,6,9,12]])})))).apply(this,arguments)}}function Ie(e){var t=e.tokenReserve,n=e.nativeTokenReserve,i=e.tokenPriceInStableToken,s=e.nativeTokenPriceInStableToken,o=Object.freeze({None:0,Inflow:1,Outflow:2}),r=Object(a.useState)(0),c=Object(g.a)(r,2),l=c[0],p=c[1],m=Object(a.useState)(o.None),u=Object(g.a)(m,2),d=u[0],b=u[1],h=Object(a.useState)(),f=Object(g.a)(h,2),j=f[0],x=f[1];return Object(a.useEffect)((function(){var e=l/i;if(l>i){var a=function(e,t){return(Math.sqrt(e)-1)*t}(e,n);x(a),b(o.Inflow)}else if(l<i){var s=function(e,t){return(1/Math.sqrt(e)-1)*t}(e,t);x(s),b(o.Outflow)}else x(void 0),b(o.None)}),[t,n,i,s,l]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:"text-[0.5em] text-violet-100/50 light-box block mb-4 min-h-[5.5em] xs:min-h-[4em]",children:"Calculates the amount of inflow or outflow required to bring the price to the desired level."}),Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-1",children:[Object(k.jsx)("label",{htmlFor:"price",className:"flex leading-6",children:Object(k.jsx)("span",{className:"input-label",children:"Target price"})}),Object(k.jsx)(Ne,{delay:400,type:"number",id:"price",className:"numeric !text-[1em] text-right",defaultValue:de.convert.formatStableToken(2*i,4,0),placeholder:"".concat(de.contracts.token.symbol," price in ").concat(de.contracts.stableToken.symbol),min:0,step:1,onInput:function(e){return p(parseFloat(e))}})]})]}),Object(k.jsxs)("div",{className:"text-[80%]",children:[d===o.Inflow&&Object(k.jsx)(A,{title:"Required Inflow",main:de.convert.formatNativeToken(j),mainUnit:de.contracts.nativeToken.symbol,detail:de.convert.formatStableToken(j*s),detailUnit:de.contracts.stableToken.symbol,mainUnitClassName:"neon"}),d===o.Outflow&&Object(k.jsx)(A,{title:"Required Outflow",main:de.convert.formatMainToken(j),mainUnit:de.contracts.token.symbol,detail:de.convert.formatStableToken(j*i),detailUnit:de.contracts.stableToken.symbol,mainUnitClassName:"glow"}),d===o.None&&Object(k.jsx)("p",{children:"No change"})]})]})})}function Be(e){var t=e.tokenReserve,n=e.nativeTokenReserve,i=e.tokenPriceInStableToken,s=e.nativeTokenPriceInStableToken,o=Object.freeze({Inflow:0,Outflow:1}),r=Object(a.useState)(o.Inflow),c=Object(g.a)(r,2),l=c[0],p=c[1],m=Object(a.useState)(1),u=Object(g.a)(m,2),d=u[0],b=u[1],h=Object(a.useState)(0),f=Object(g.a)(h,2),j=f[0],x=f[1];return Object(a.useEffect)((function(){var e,a,s,r,c=l===o.Inflow?(s=d,r=n,Math.pow(s/r+1,2)):(e=d,a=t,Math.pow(1/(e/a+1),2));x(i*c)}),[t,n,i,s,l,d]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:"text-[0.5em] text-violet-100/50 light-box block mb-4 min-h-[5.5em] xs:min-h-[4em]",children:"Calculates the level to which the given inflow or outflow amount brings the price."}),Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-1",children:[Object(k.jsx)(F.d.Group,{children:Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsxs)(F.d,{checked:l===o.Inflow,onChange:function(){l===o.Inflow?p(o.Outflow):p(o.Inflow)},className:"bg-violet-300 relative inline-flex items-center w-10 h-[1em] rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-violet-300/50",children:[Object(k.jsx)("span",{className:"sr-only",children:"Flow mode"}),Object(k.jsx)("span",{className:"".concat(l===o.Inflow?"translate-x-6":"translate-x-1"," inline-block w-[0.75em] h-[0.75em] transform bg-slate-800 rounded-full transition-transform")})]}),Object(k.jsx)(F.d.Label,{className:"input-label leading-6 ml-1.5",children:l===o.Inflow?"Inflow ".concat(de.contracts.nativeToken.symbol):"Outflow ".concat(de.contracts.token.symbol)})]})}),Object(k.jsx)(Ne,{delay:400,type:"number",id:"assetAmount",className:"numeric !text-[1em] text-right",defaultValue:d,placeholder:"Asset amount",min:0,step:1,onInput:function(e){return b(parseFloat(e))}})]})]}),Object(k.jsx)("div",{className:"text-[80%]",children:Object(k.jsx)(A,{title:"Target Price",main:isNaN(j)?"-":de.convert.formatStableToken(j),mainUnit:de.contracts.stableToken.symbol,detail:isNaN(j)?"-":de.convert.formatNativeToken(j/s),detailUnit:de.contracts.nativeToken.symbol,mainUnitClassName:"glow"})})]})})}function Pe(e){var t=e.senderBalance,n=e.totalStaked,i=e.currentRewardPerBlock,s=e.maxRewardPerBlock,o=e.isMaximizedEmission,r=e.blockTime,c=e.tokenPriceInStableToken,l=Object(a.useState)(),p=Object(g.a)(l,2),m=p[0],u=p[1],d=Object(a.useState)([0,0,0,0]),b=Object(g.a)(d,2),h=b[0],f=b[1],j=Object(a.useState)([0,0,0,0]),x=Object(g.a)(j,2),v=x[0],y=x[1];return Object(a.useEffect)((function(){m||u(parseFloat(t))}),[t]),Object(a.useEffect)((function(){var e=je(i,r,n,m),t=7*e,a=e*be,o=e*he,c=je(s,r,n,m),l=7*c,p=c*be,u=c*he;f([e,t,a,o]),y([c,l,p,u])}),[n,i,r,m]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:"text-[0.5em] text-violet-100/50 light-box block mb-4 min-h-[5.5em] xs:min-h-[4em]",children:"Calculates potential reward levels (daily, weekly, monthly, yearly) for the given balance."}),Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-1",children:[Object(k.jsxs)("div",{className:"flex items-center justify-between leading-6",children:[Object(k.jsx)("label",{htmlFor:"balance",className:"flex leading-6",children:Object(k.jsx)("span",{className:"input-label",children:"Target balance"})}),Object(k.jsx)("span",{className:"cursor-pointer text-[1.125em] leading-none shadow-none",onClick:function(){u(parseFloat(t))},children:Object(k.jsx)("i",{className:"bi bi-arrow-clockwise"})})]}),Object(k.jsx)(Ne,{delay:400,type:"number",id:"balance",className:"numeric !text-[1em] text-right",defaultValue:m,placeholder:"Balance in WEEB",min:0,step:1,onInput:function(e){return u(parseFloat(e))}})]})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)("span",{className:"group-title opacity-75 col-span-2 sm:col-span-4 light-box",children:"Current Target Reward"}),Object(k.jsx)(A,{sizeCount:1,title:"Per Day",main:isNaN(h[0])?"":de.convert.formatMainToken(h[0]),mainUnit:de.contracts.token.symbol,detail:isNaN(h[0])?"":de.convert.formatStableToken(h[0]*c),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{sizeCount:1,title:"Per Week",main:isNaN(h[1])?"":de.convert.formatMainToken(h[1]),mainUnit:de.contracts.token.symbol,detail:isNaN(h[1])?"":de.convert.formatStableToken(h[1]*c),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{sizeCount:1,title:"Per Month",main:isNaN(h[2])?"":de.convert.formatMainToken(h[2]),mainUnit:de.contracts.token.symbol,detail:isNaN(h[2])?"":de.convert.formatStableToken(h[2]*c),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{sizeCount:1,title:"Per Year",main:isNaN(h[3])?"":de.convert.formatMainToken(h[3]),mainUnit:de.contracts.token.symbol,detail:isNaN(h[3])?"":de.convert.formatStableToken(h[3]*c),detailUnit:de.contracts.stableToken.symbol}),!o&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"group-title opacity-75 col-span-2 sm:col-span-4 light-box",children:"Maximum Target Reward"}),Object(k.jsx)(A,{sizeCount:1,title:"Per Day",main:isNaN(v[0])?"":de.convert.formatMainToken(v[0]),mainUnit:de.contracts.token.symbol,detail:isNaN(v[0])?"":de.convert.formatStableToken(v[0]*c),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{sizeCount:1,title:"Per Week",main:isNaN(v[1])?"":de.convert.formatMainToken(v[1]),mainUnit:de.contracts.token.symbol,detail:isNaN(v[1])?"":de.convert.formatStableToken(v[1]*c),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{sizeCount:1,title:"Per Month",main:isNaN(v[2])?"":de.convert.formatMainToken(v[2]),mainUnit:de.contracts.token.symbol,detail:isNaN(v[2])?"":de.convert.formatStableToken(v[2]*c),detailUnit:de.contracts.stableToken.symbol}),Object(k.jsx)(A,{sizeCount:1,title:"Per Year",main:isNaN(v[3])?"":de.convert.formatMainToken(v[3]),mainUnit:de.contracts.token.symbol,detail:isNaN(v[3])?"":de.convert.formatStableToken(v[3]*c),detailUnit:de.contracts.stableToken.symbol})]})]})]})})}function Fe(e){var t=e.token,n=e.priceInNativeToken,a=e.priceInStableToken,i=e.blockTime,s=a/n,o=p(t.senderBalance),r=p(t.totalStaked),c=p(t.maximumRewardPerBlock),l=p(t.currentRewardPerBlock);return Object(k.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-x-2 xs:gap-x-5 gap-y-5 text-center",children:[Object(k.jsx)("div",{className:"card bg-weeb-card1/30 bg-diagonal-lines",children:Object(k.jsx)(Ie,{tokenReserve:t.tokenReserve,nativeTokenReserve:t.nativeTokenReserve,tokenPriceInStableToken:a,nativeTokenPriceInStableToken:s})}),Object(k.jsx)("div",{className:"card bg-weeb-card1/30 bg-diagonal-lines",children:Object(k.jsx)(Be,{tokenReserve:t.tokenReserve,nativeTokenReserve:t.nativeTokenReserve,tokenPriceInStableToken:a,nativeTokenPriceInStableToken:s})}),Object(k.jsx)("div",{className:"card bg-weeb-card1/30 bg-diagonal-lines col-span-2",children:Object(k.jsx)(Pe,{senderBalance:o,totalStaked:r,currentRewardPerBlock:l,maxRewardPerBlock:c,isMaximizedEmission:t.isInflationRegulated,blockTime:i,tokenPriceInStableToken:a})})]});function p(e){return parseFloat(Object(w.fromWei)(e,t.details.decimals))}}Oe.defaultProps={card:"card-t1",borderBottom:"border-bottom-t1",showCompact:!1,showHeader:!0,showHarvestButton:!0,harvestPendingReward:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},we.defaultProps={percentages:[1,2,5,10,25,50,75,100],buttonClassName:"btn btn-indigo text-violet-50 numeric w-11 h-7"},Ne.defaultProps={delay:400,type:"search",placeholder:"Search here...",onInput:function(){}},Ie.defaultProps={},Be.defaultProps={},Pe.defaultProps={};var Ue=n(23);function De(e,t){if(255===t)return"Unknown";if(t>e)throw'Outcome "'.concat(t,'" is greater than outcome count: ').concat(e);if(2===e){if(0===t)return"Heads";if(1===t)return"Tails"}return"".concat(t+1)}function Le(e,t){if(255===t)return"Unknown";if(t>e)throw'Outcome "'.concat(t,'" is greater than outcome count: ').concat(e);if(2===e){if(0===t)return Object(k.jsx)("img",{src:"./images/heads-200px.png",width:"140",height:"140"});if(1===t)return Object(k.jsx)("img",{src:"./images/tails-200px.png",width:"140",height:"140"})}else if(6===e)return Object(k.jsx)("i",{className:"bi bi-dice-".concat(t+1," text-[2.5rem] sm:text-[3.5rem]")});return"".concat(t)}function We(e){return 2===e?"Flip":6===e?"Roll":"Randomize"}var Re=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={isInteractionDisabled:!1,showLastBetPool:!1,showSenderLastBetPool:!1,isPoolTotalsVisibile:!1,showYourBetHistory:!1,senderBetPools:[],isLoading:!1},a.format=de.format(a.props.game.tokenInfo.details.decimals),a.toggleLastBetPoolVisibility=a.toggleLastBetPoolVisibility.bind(Object(m.a)(a)),a.toggleSenderLastBetPoolVisibility=a.toggleSenderLastBetPoolVisibility.bind(Object(m.a)(a)),a.togglePoolTotalsVisibility=a.togglePoolTotalsVisibility.bind(Object(m.a)(a)),a.toggleYourBetHistoryVisibility=a.toggleYourBetHistoryVisibility.bind(Object(m.a)(a)),a.loadSenderBetPools=a.loadSenderBetPools.bind(Object(m.a)(a)),a.execute=a.execute.bind(Object(m.a)(a)),a}return Object(p.a)(n,[{key:"render",value:function(){var e=this,t=Date.now()/1e3,n="".concat(y.getBlockExplorerLink(de.chainId),"/token/").concat(this.props.game.tokenInfo.token),a=y.getSwapRouterName(de.chainId,y.getDefaultSwapRouter(de.chainId)),i=this.props.game.isPercentage?parseFloat(this.props.game.minimumBet)/1e4:this.format.fromWei(this.props.game.minimumBet),s=this.format.fromWei(this.props.game.unclaimedBalance),o=parseFloat(this.props.game.seigniorageFee.rate)/1e4,r=this.format.fromWei(this.props.game.seigniorageFee.collected.total),l="".concat(y.getBlockExplorerLink(de.chainId),"/address/").concat(this.props.game.seigniory),p=j.a.utils.toBN(0),m=j.a.utils.toBN(this.props.game.senderUnclaimedPrize.winningBet).add(j.a.utils.toBN(this.props.game.senderUnclaimedPrize.prize)),u=1===m.cmp(p),d=this.format.fromWei(m),b=this.format.fromWei(this.props.game.currentBetPool.statement.senderPrize),f=this.format.fromWei(this.props.game.currentBetPool.statement.allAggregatedBets.total),x=parseInt(this.props.game.currentPoolId)+parseInt(this.props.game.blockLength)-parseInt(this.props.game.currentBlock),g=x*this.props.blockTime,v=this.format.fromWei(this.props.game.totalPosition.placedBets.total),O=this.format.fromWei(this.props.game.totalPosition.claimedBets.total),T=this.format.fromWei(this.props.game.totalPosition.claimedPrizes.total),w=this.format.fromWei(this.props.game.currentBetPool.statement.senderAggregatedBets.total),N=this.format.fromWei(this.props.game.currentBetPool.statement.senderLosingBets.total),S=this.format.fromWei(this.props.game.currentBetPool.statement.senderPrize),C=this.isWinner(this.props.game.currentBetPool)>0?S-N:w,I=Object(k.jsx)("span",{className:"tooltip",children:"Fee paid to the seignory (game owner) from claimed prize."}),B=Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"Bet Token",main:Object(k.jsx)("a",{href:n,rel:"noreferrer",target:"_blank",className:"font-display",children:this.props.game.tokenInfo.details.symbol}),detailUnit:a}),Object(k.jsx)(A,{title:"Minimum Bet",main:this.props.game.isPercentage?de.convert.formatPercentage(i):this.format.formatToken(i),mainUnit:this.props.game.isPercentage?"%":this.props.game.tokenInfo.details.symbol,detail:this.props.game.isPercentage?"":de.convert.formatStableToken(i*this.props.priceInStableToken),detailUnit:this.props.game.isPercentage?"Of Pending Reward":de.contracts.stableToken.symbol,mainClassName:"glow"}),Object(k.jsx)(A,{title:"Outcome Count",main:de.convert.formatInteger(this.props.game.outcomeCount)}),Object(k.jsx)(A,{title:"Unclaimed Balance",main:this.format.formatToken(s),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(s*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,mainClassName:"glow"}),Object(k.jsx)(A,{title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mr-1",children:"Seigniorage Fee"}),Object(k.jsx)(ye,{isTooltip:!0,children:I})]}),main:de.convert.formatPercentage(o),mainUnit:"%",detail:Object(k.jsx)("a",{href:l,rel:"noreferrer",target:"_blank",className:"numeric",children:de.convert.formatAccount(this.props.game.seigniory)}),info:this.props.game.isSenderSeignory?Object(k.jsx)("span",{className:"font-display",children:"You're Seignory"}):null,infoClassName:"opacity-75 light-box font-semibold uppercase text-red-500"}),Object(k.jsx)(A,{title:"Seigniorage Collected",main:this.format.formatToken(r),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(r*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.game.seigniorageFee.collected.count,this.props.game.seigniorageFee.collected.timestamp,t)})]}),P=this.isSenderUnderWin(this.props.game.currentBetPool.statement);return Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-3",children:[Object(k.jsxs)("div",{className:"card bg-indigo-900/25 bg-diagonal-lines",children:[Object(k.jsxs)("div",{className:"grid grid-cols-12 gap-x-2 gap-y-0.5",children:[Object(k.jsx)("div",{className:"col-span-5",children:Object(k.jsxs)("span",{className:"card-header-title-text opacity-75",children:[Object(k.jsx)("span",{className:"mr-1",children:this.props.game.name}),Object(k.jsx)(ye,{children:B})]})}),Object(k.jsxs)("div",{className:"col-span-7 flex items-center justify-end card-header-item-text",children:[Object(k.jsx)("span",{className:"uppercase opacity-50",children:"Time to Draw"}),Object(k.jsx)("span",{className:"numeric opacity-75 ml-1 glow",children:de.convert.formatTimespan(g)}),Object(k.jsx)("span",{className:"2xs:hidden xs:block numeric opacity-75 ml-2",children:x}),Object(k.jsx)("span",{className:"2xs:hidden xs:block uppercase opacity-50 ml-1",children:"blocks"})]}),Object(k.jsxs)("div",{className:"col-span-8 flex items-center justify-start card-header-item-text",children:[Object(k.jsx)("span",{className:"2xs:hidden xs:block opacity-25",children:"Draws every"}),Object(k.jsx)("span",{className:"2xs:hidden xs:block numeric opacity-50 ml-1",children:this.props.game.blockLength}),Object(k.jsx)("span",{className:"2xs:hidden xs:block opacity-25 ml-1 mr-2",children:"blocks."}),Object(k.jsx)("span",{className:"uppercase opacity-50",children:"Pool Id"}),Object(k.jsx)("span",{className:"numeric opacity-25 ml-1",children:de.convert.formatInteger(this.props.game.currentBetPool.poolId)})]}),Object(k.jsx)("div",{className:"col-span-4 flex items-center justify-end card-header-item-text",children:Object(k.jsxs)("span",{className:"numeric opacity-25",children:[Object(k.jsx)("i",{className:"bi bi-box mr-1"}),de.convert.formatInteger(this.props.game.currentBlock)]})}),Object(k.jsx)("div",{className:"col-span-12 mt-0.5 mb-3 border-bottom-t2 border-2"})]}),Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-3",children:[Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-x-2",children:[Object(k.jsx)(A,{title:"Your Unclaimed Prize",main:this.format.formatToken(d),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(d*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,mainClassName:"glow"}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-3 leading-none auto-rows-auto text-[0.75em]",children:[Object(k.jsx)("button",{type:"button",className:"w-full h-9 justify-self-end self-end btn btn-green",disabled:this.state.isInteractionDisabled||!u,onClick:Object(c.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.execute((function(){return e.props.claim()}));case 2:case"end":return t.stop()}}),t)}))),children:"Claim the Prize"}),Object(k.jsx)("button",{type:"button",className:"w-full h-9 justify-self-start self-end btn btn-blue",disabled:this.state.isInteractionDisabled||!u,onClick:Object(c.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.execute((function(){return e.props.compound()}));case 2:case"end":return t.stop()}}),t)}))),children:"Bet the Prize"}),Object(k.jsx)("button",{type:"button",className:"w-full h-9 justify-self-center self-start col-span-2 btn btn-red",disabled:this.state.isInteractionDisabled||0===this.props.balance,onClick:Object(c.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.execute((function(){return e.props.bet()}));case 2:case"end":return t.stop()}}),t)}))),children:"Place a Bet"})]})]}),Object(k.jsx)("div",{className:"border-bottom-t2"}),Object(k.jsxs)("div",{className:"grid grid-cols-2 xl:grid-cols-4 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"Winning Outcome",main:De(parseInt(this.props.game.outcomeCount),parseInt(this.props.game.currentBetPool.outcome)),detailUnit:255===parseInt(this.props.game.currentBetPool.outcome)?Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("span",{className:"animate-pulse",children:"Place a Bet"})}):Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("span",{className:"animate-pulse",children:"Bet to Change"})}),titleClassName:"light-box",mainClassName:"font-display neon"}),Object(k.jsx)(A,{title:"Pot",main:this.format.formatToken(f),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(f*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Potential Prize",main:this.format.formatToken(b),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(b*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:P?"Under Win":null,titleClassName:"light-box",mainClassName:"neon",infoClassName:"glow ".concat(P?" blinker":null,"}")}),Object(k.jsx)(A,{title:"PnL",main:this.format.formatToken(C),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(C*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,titleClassName:"light-box",mainClassName:"glow"}),Object(k.jsx)("div",{className:"col-span-2 xl:col-span-4",children:this.getBetInfo(this.props.game.currentBetPool,this.props.game.outcomeCount)})]}),Object(k.jsx)("div",{className:"border-bottom-t2"}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 text-[0.75em]",children:[Object(k.jsxs)("button",{type:"button",className:"w-full h-9 btn btn-dark",disabled:0===parseInt(this.props.game.lastBetPool.poolId),onClick:this.toggleLastBetPoolVisibility,children:["Last Bet Pool",this.state.showLastBetPool&&Object(k.jsx)("i",{className:"bi bi-caret-down-fill ml-1"})]}),Object(k.jsxs)("button",{type:"button",className:"w-full h-9 btn btn-dark",disabled:0===parseInt(this.props.game.senderLastBetPool.poolId),onClick:this.toggleSenderLastBetPoolVisibility,children:["Your Last Bet Pool",this.state.showSenderLastBetPool&&Object(k.jsx)("i",{className:"bi bi-caret-down-fill ml-1"})]})]}),Object(k.jsx)("div",{className:"border-bottom-t2"}),Object(k.jsxs)("div",{className:"flex items-center justify-between",children:[Object(k.jsxs)("span",{className:"card-header-item-text uppercase opacity-75 cursor-pointer",onClick:this.togglePoolTotalsVisibility,children:[Object(k.jsx)("i",{className:"bi ".concat(this.state.isPoolTotalsVisibile?"bi-caret-down-fill":"bi-caret-right-fill"," mr-1")}),"Pool Totals"]}),Object(k.jsxs)("span",{className:"card-header-item-text opacity-25 ".concat(0===parseInt(this.props.game.senderBetPoolCount)?"disabled":"cursor-pointer"),onClick:function(){parseInt(e.props.game.senderBetPoolCount)>0&&e.toggleYourBetHistoryVisibility()},children:[Object(k.jsx)("i",{className:"bi bi-calendar3 mr-1"}),"Your Bet History (",Object(k.jsx)("span",{className:"numeric",children:de.convert.formatInteger(this.props.game.senderBetPoolCount)}),")"]})]}),this.state.isPoolTotalsVisibile&&Object(k.jsxs)("div",{className:"grid grid-cols-3 gap-x-2 text-[80%]",children:[Object(k.jsx)(A,{title:"Placed Bets",main:this.format.formatToken(v),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(v*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.game.totalPosition.placedBets.count,this.props.game.totalPosition.placedBets.timestamp,t)}),Object(k.jsx)(A,{title:"Claimed Bets",main:this.format.formatToken(O),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(O*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.game.totalPosition.claimedBets.count,this.props.game.totalPosition.claimedBets.timestamp,t)}),Object(k.jsx)(A,{title:"Claimed Prizes",main:this.format.formatToken(T),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(T*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.game.totalPosition.claimedPrizes.count,this.props.game.totalPosition.claimedPrizes.timestamp,t)})]})]})]}),this.state.showLastBetPool&&this.getBetPool("Last Bet Pool",this.props.game.lastBetPool,this.props.game.outcomeCount),this.state.showSenderLastBetPool&&this.getBetPool("Your Last Bet Pool",this.props.game.senderLastBetPool,this.props.game.outcomeCount),this.state.showYourBetHistory&&this.getSenderBetPools()]})}},{key:"getSenderBetPools",value:function(){for(var e=[],t=0;t<this.state.senderBetPools.length;++t)e.push(Object(k.jsx)("div",{children:this.getBetPool("Your Bet Pool #".concat(t+1),this.state.senderBetPools[t])},t));return Object(k.jsxs)(k.Fragment,{children:[e,Object(k.jsx)("div",{className:"flex items-center justify-center text-[0.75em]",children:Object(k.jsx)("button",{type:"button",className:"w-48 h-9 btn btn-dark",disabled:this.state.isLoading||this.state.senderBetPools.length===parseInt(this.props.game.senderBetPoolCount),onClick:this.loadSenderBetPools,children:"Load more"})}),this.state.isLoading&&Object(k.jsx)(K,{type:"cloud",title:"Loading ".concat(de.convert.formatInteger(this.props.game.senderBetPoolCount)," pools.")})]})}},{key:"getBetPool",value:function(e,t,n){var a=parseInt(this.props.game.currentBlock)-parseInt(t.poolId),i=this.format.fromWei(t.statement.allAggregatedBets.total),s=this.format.fromWei(t.statement.senderPrize),o=this.isSenderUnderWin(t.statement),r=this.format.fromWei(t.statement.senderAggregatedBets.total),c=this.format.fromWei(t.statement.senderLosingBets.total),l=this.format.fromWei(t.statement.senderPrize),p=this.isWinner(t)>0?l-c:r;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"card bg-white/5 bg-diagonal-lines",children:[Object(k.jsxs)("div",{className:"grid grid-cols-12 gap-x-2 gap-y-0.5",children:[Object(k.jsx)("div",{className:"col-span-5",children:Object(k.jsx)("span",{className:"card-header-title-text opacity-75",children:e})}),Object(k.jsxs)("div",{className:"col-span-7 flex items-center justify-end card-header-item-text",children:[Object(k.jsx)("span",{className:"uppercase opacity-50",children:"Time from Draw"}),Object(k.jsx)("span",{className:"numeric opacity-75 ml-1 glow",children:t.poolId>0?de.convert.formatTimespan(a*this.props.blockTime):"-"}),Object(k.jsx)("span",{className:"2xs:hidden xs:block numeric opacity-75 ml-2",children:t.poolId>0?de.convert.formatInteger(a):"-"}),Object(k.jsx)("span",{className:"2xs:hidden xs:block uppercase opacity-50 ml-1",children:"blocks"})]}),Object(k.jsxs)("div",{className:"col-span-7 flex items-center justify-start card-header-item-text",children:[Object(k.jsx)("span",{className:"uppercase opacity-50",children:"Pool Id"}),Object(k.jsx)("span",{className:"numeric opacity-25 ml-1",children:t.poolId>0?de.convert.formatInteger(t.poolId):"-"})]}),Object(k.jsx)("div",{className:"col-span-5 flex items-center justify-end card-header-item-text",children:Object(k.jsxs)("span",{className:"opacity-25",children:["You ",this.isWinnerText(t)]})}),Object(k.jsx)("div",{className:"col-span-12 mt-0.5 mb-3 border-bottom-t2 border-2"})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"Outcome",main:De(parseInt(this.props.game.outcomeCount),parseInt(t.outcome)),titleClassName:"light-box",mainClassName:"font-display neon"}),Object(k.jsx)(A,{title:"Pot",main:this.format.formatToken(i),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(i*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Your Prize",main:this.format.formatToken(s),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(s*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:o?"Under Win":null,titleClassName:"light-box",mainClassName:"neon",infoClassName:"glow ".concat(o?" blinker":null,"}")}),Object(k.jsx)(A,{title:"PnL",main:this.format.formatToken(p),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(p*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,titleClassName:"light-box",mainClassName:"glow"}),Object(k.jsx)("div",{className:"col-span-2 sm:col-span-4",children:this.getBetInfo(t,n)})]})]})})}},{key:"isSenderUnderWin",value:function(e){var t=this.format.fromWei(e.senderPrize),n=this.format.fromWei(e.senderLosingBets.total);return t>0&&t<n}},{key:"getPopoverWinningStatementAllBetsDetail",value:function(e){var t=this.format.fromWei(e.allAggregatedBets.total),n=this.format.fromWei(e.allWinningBets.total),a=this.format.fromWei(e.allLosingBets.total);return Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"All Bets",main:this.format.formatToken(t),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(t*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e.allAggregatedBets.count)]})}),Object(k.jsx)(A,{title:"Winning Bets",main:this.format.formatToken(n),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(n*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e.allWinningBets.count)]})}),Object(k.jsx)(A,{title:"Losing Bets",main:this.format.formatToken(a),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(a*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e.allLosingBets.count)]}),mainClassName:"glow"}),Object(k.jsx)(A,{title:"Payout",main:"\xd7".concat(de.convert.formatNumberScaled(0===n?0:a/n,2)),mainClassName:"neon"})]})}},{key:"getPopoverWinningStatementSenderBetsDetail",value:function(e){var t=this.format.fromWei(e.allWinningBets.total),n=this.format.fromWei(e.senderAggregatedBets.total),a=this.format.fromWei(e.senderWinningBets.total),i=this.format.fromWei(e.senderLosingBets.total);return Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"All Bets",main:this.format.formatToken(n),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(n*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e.senderAggregatedBets.count)]})}),Object(k.jsx)(A,{title:"Winning Bets",main:this.format.formatToken(a),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(a*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e.senderWinningBets.count)]}),mainClassName:"neon"}),Object(k.jsx)(A,{title:"Losing Bets",main:this.format.formatToken(i),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(i*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e.senderLosingBets.count)]}),mainClassName:"glow"}),Object(k.jsx)(A,{title:"Winning Share",main:de.convert.formatPercentage(0===t?0:parseFloat(a)/parseFloat(t)),mainUnit:"%",mainClassName:"neon"})]})}},{key:"getPopoverBetPoolWinningStatementDetail",value:function(e){var t=this.format.fromWei(e.allAggregatedBets.total),n=this.format.fromWei(e.allWinningBets.total),a=this.format.fromWei(e.allLosingBets.total),i=this.format.fromWei(e.senderAggregatedBets.total),s=this.format.fromWei(e.senderWinningBets.total),o=this.format.fromWei(e.senderLosingBets.total),r=this.format.fromWei(e.senderPrize)-o;return Object(k.jsxs)("div",{className:"grid grid-cols-4 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)("span",{className:"group-title opacity-75 col-span-4 glass-box",children:"Total Position"}),Object(k.jsx)(A,{title:"All Bets",main:this.format.formatToken(t),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(t*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e.allAggregatedBets.count)]})}),Object(k.jsx)(A,{title:"Winning Bets",main:this.format.formatToken(n),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(n*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e.allWinningBets.count)]})}),Object(k.jsx)(A,{title:"Losing Bets",main:this.format.formatToken(a),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(a*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e.allLosingBets.count)]}),mainClassName:"glow"}),Object(k.jsx)(A,{title:"Payout",main:"\xd7".concat(de.convert.formatNumberScaled(0===n?0:a/n,2)),mainClassName:"neon"}),Object(k.jsx)("span",{className:"group-title opacity-75 col-span-4 glass-box",children:"Your Position"}),Object(k.jsx)(A,{title:"All Bets",main:this.format.formatToken(i),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(i*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e.senderAggregatedBets.count)]})}),Object(k.jsx)(A,{title:"Winning Bets",main:this.format.formatToken(s),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(s*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e.senderWinningBets.count)]}),mainClassName:"neon"}),Object(k.jsx)(A,{title:"Losing Bets",main:this.format.formatToken(o),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(o*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,info:Object(k.jsxs)("span",{children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e.senderLosingBets.count)]}),mainClassName:"glow"}),Object(k.jsx)(A,{title:"PnL",main:this.format.formatToken(r),mainUnit:this.props.game.tokenInfo.details.symbol,detail:de.convert.formatStableToken(r*this.props.priceInStableToken),detailUnit:de.contracts.stableToken.symbol,mainClassName:"glow"}),Object(k.jsx)(A,{containerClassName:"col-span-4",title:"Winning Share",main:de.convert.formatPercentage(0===n?0:parseFloat(s)/parseFloat(n)),mainUnit:"%",mainClassName:"neon"})]})}},{key:"getActivity",value:function(e,t,n){return Object(k.jsxs)("div",{className:"flex justify-evenly space-x-1",children:[Object(k.jsxs)("span",{className:"light-box w-full",children:[Object(k.jsx)("i",{className:"hidden xs:inline-block bi bi-app-indicator mr-1"}),de.convert.formatInteger(e)]}),Object(k.jsxs)("span",{className:"light-box w-full",children:[Object(k.jsx)("i",{className:"hidden xs:inline-block bi bi-clock mr-1"}),t>0?de.convert.formatTimespan(n-t):"-"]})]})}},{key:"getPayoutOf",value:function(e,t){for(var n=j.a.utils.toBN(0),a=n,i=n,s=e.allBets,o=0;o<s.length;++o){var r=s[o];o===t?a=a.add(j.a.utils.toBN(r.total)):i=i.add(j.a.utils.toBN(r.total))}return 0===a.cmp(n)?null:this.format.fromWei(i)/this.format.fromWei(a)}},{key:"getOutcomeNames",value:function(){for(var e=[],t=0;t<this.props.game.outcomeCount;++t)e.push(Object(k.jsx)("th",{className:"text-[1em] font-normal light-box px-2",children:De(parseInt(this.props.game.outcomeCount),t)},t));return e}},{key:"getBetCounts",value:function(e){for(var t=[],n=0;n<this.props.game.outcomeCount;++n){var a;t.push(Object(k.jsx)("td",{className:"text-[1em] lighter-box px-2",children:null!==(a=e[n])&&void 0!==a&&a.count?de.convert.formatInteger(e[n].count):0},n))}return t}},{key:"getBetAmounts",value:function(e){for(var t=[],n=0;n<this.props.game.outcomeCount;++n){var a;t.push(Object(k.jsx)("td",{children:Object(k.jsx)("span",{className:"text-[1em] px-2 py-1",children:null!==(a=e[n])&&void 0!==a&&a.total?this.format.formatToken(this.format.fromWei(e[n].total)):0})},n))}return t}},{key:"getBetsSum",value:function(e){for(var t=0,n=0;n<this.props.game.outcomeCount;++n){var a;t+=null!==(a=e[n])&&void 0!==a&&a.total?this.format.fromWei(e[n].total):0}return t}},{key:"getPayouts",value:function(e){for(var t=[],n=0;n<this.props.game.outcomeCount;++n)t.push(this.getPayoutOf(e,n));for(var a=Math.max.apply(Math,t),i=[],s=0;s<t.length;++s)i.push(Object(k.jsx)("td",{children:Object(k.jsxs)("span",{className:"text-[1em] px-2 py-1 ".concat(t[s]===a?" glow":""),children:["\xd7",t[s]?de.convert.formatNumberScaled(t[s],2):""]})},s));return i}},{key:"getAllBets",value:function(e){return Object(k.jsxs)("table",{className:"mx-auto table-fixed border-separate leading-none w-full",children:[Object(k.jsx)("thead",{className:"group-title uppercase tracking-wider",children:Object(k.jsx)("tr",{children:this.getOutcomeNames()})}),Object(k.jsxs)("tbody",{className:"numeric",children:[Object(k.jsx)("tr",{className:"opacity-75",children:this.getBetCounts(e.allBets)}),Object(k.jsx)("tr",{children:this.getBetAmounts(e.allBets)}),Object(k.jsx)("tr",{children:this.getPayouts(e)})]})]})}},{key:"getSenderBets",value:function(e){return Object(k.jsxs)("table",{className:"mx-auto table-fixed border-separate leading-none w-full",children:[Object(k.jsx)("thead",{className:"group-title uppercase tracking-wider",children:Object(k.jsx)("tr",{children:this.getOutcomeNames()})}),Object(k.jsxs)("tbody",{className:"numeric",children:[Object(k.jsx)("tr",{className:"opacity-75",children:this.getBetCounts(e.senderBets)}),Object(k.jsx)("tr",{children:this.getBetAmounts(e.senderBets)}),Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:this.props.game.outcomeCount})})]})]})}},{key:"getBetInfo",value:function(e,t){return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"grid ".concat(t>2?"grid-cols-1 sm:grid-cols-2":"grid-cols-2"," gap-x-2 gap-y-2 text-center"),children:[Object(k.jsxs)("div",{className:"flex flex-col items-center",children:[Object(k.jsxs)("span",{className:"group-title light-box w-full uppercase tracking-wider",children:[Object(k.jsx)("span",{className:"mr-1",children:"Total Bets"}),Object(k.jsx)(ye,{children:this.getPopoverWinningStatementAllBetsDetail(e.statement)})]}),Object(k.jsx)("div",{className:"overflow-x-auto overflow-y-hidden section",children:this.getAllBets(e)})]}),Object(k.jsxs)("div",{className:"flex flex-col items-center",children:[Object(k.jsxs)("span",{className:"group-title light-box w-full uppercase tracking-wider",children:[Object(k.jsx)("span",{className:"mr-1",children:"Your Bets"}),Object(k.jsx)(ye,{children:this.getPopoverWinningStatementSenderBetsDetail(e.statement)})]}),Object(k.jsx)("div",{className:"overflow-x-auto overflow-y-hidden section",children:this.getSenderBets(e)})]})]})})}},{key:"isWinner",value:function(e){return e.senderBets.length>0?e.senderBets[e.outcome].count>0?1===j.a.utils.toBN(e.statement.allLosingBets.count).cmp(j.a.utils.toBN(0))?1:-1:1===j.a.utils.toBN(e.statement.allWinningBets.count).cmp(j.a.utils.toBN(0))?2:-1:0}},{key:"isWinnerText",value:function(e){switch(this.isWinner(e)){case-1:return"had no opponent";case 0:return"didn't bet";case 1:return"won";case 2:return"lost"}}},{key:"togglePoolTotalsVisibility",value:function(){this.setState({isPoolTotalsVisibile:!this.state.isPoolTotalsVisibile})}},{key:"toggleLastBetPoolVisibility",value:function(){this.setState({showLastBetPool:!this.state.showLastBetPool})}},{key:"toggleSenderLastBetPoolVisibility",value:function(){this.setState({showSenderLastBetPool:!this.state.showSenderLastBetPool})}},{key:"execute",value:function(){var e=Object(c.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isInteractionDisabled:!0}),e.prev=1,e.next=4,t();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("".concat(e.t0.code,": ").concat(e.t0.message));case 9:return e.prev=9,this.setState({isInteractionDisabled:!1}),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[1,6,9,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"toggleYourBetHistoryVisibility",value:function(){var e=Object(c.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.showYourBetHistory,this.setState({showYourBetHistory:!t}),t){e.next=5;break}return e.next=5,this.loadSenderBetPools();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadSenderBetPools",value:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),e.prev=1,e.next=4,this.loadSenderBetPoolsInternal();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0);case 9:return e.prev=9,this.setState({isLoading:!1}),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[1,6,9,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadSenderBetPoolsInternal",value:function(){var e=Object(c.a)(h.a.mark((function e(){var t,n,a,i,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3,t=parseInt(this.props.game.senderBetPoolCount),!((n=t-this.state.senderBetPools.length)>0)){e.next=13;break}return a=this.state.senderBetPools.length,i=n>3?3:n,e.t0=Ue.a,e.next=9,this.props.senderPoolSnapshots(a,i);case 9:e.t1=e.sent,(s=(0,e.t0)(e.t1)).length>0&&parseInt(s[s.length-1].poolId)===parseInt(this.props.game.currentPoolId)&&(s=s.slice(0,s.length-1)),this.setState({senderBetPools:[].concat(Object(Ue.a)(this.state.senderBetPools),Object(Ue.a)(s))});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(a.Component);function Me(e,t){var n,a=y.getSwapRouters(e),i=t.depositToken.router;return null==i||null==a?null:null!==(n=a[i].name)&&void 0!==n?n:null}Re.defaultProps={bet:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),claim:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};var Ae=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={isInteractionDisabled:!1,isPoolTotalsVisibile:!1},a.onTick=a.onTick.bind(Object(m.a)(a)),a.formatDepositToken=de.format(a.props.pool.depositToken.details.decimals),a.formatCreditToken=de.format(a.props.creditToken.details.decimals),a.togglePoolTotalsVisibility=a.togglePoolTotalsVisibility.bind(Object(m.a)(a)),a.execute=a.execute.bind(Object(m.a)(a)),a.popoverFarmPoolRef=i.a.createRef(),a.tooltipSeigniorageFeeRef=i.a.createRef(),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:if(!e.sent){e.next=4;break}console.log("Initialized on component mount.");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:if(!e.sent){e.next=4;break}console.log("Initialized on component update.");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initialize",value:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isInitializing){e.next=2;break}return e.abrupt("return",!1);case 2:if(this.isInitializing=!0,e.prev=3,this.timerId){e.next=7;break}return this.startTimer(1e3*this.props.blockTime),e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:return e.prev=8,this.isInitializing=!1,e.finish(8);case 11:case"end":return e.stop()}}),e,this,[[3,,8,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"startTimer",value:function(e){var t=this;this.timerId=setInterval(Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.onTick();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),e),console.log("Started timer: ".concat(this.timerId,"; Interval: ").concat(e," ms"))}},{key:"stopTimer",value:function(){var e=this.timerId;e&&(clearInterval(e),this.timerId=void 0,console.log("Stopped timer: ".concat(e)))}},{key:"onTick",value:function(){var e=Object(c.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.iziSwap.getTokenPriceInStableToken(this.props.pool.depositToken.token,this.props.pool.depositToken.details.decimals,this.props.pool.isLiquidityToken);case 3:return t=e.sent,e.next=6,de.iziSwap.getTokenPriceInStableToken(this.props.creditToken.token,this.props.creditToken.details.decimals,!1);case 6:n=e.sent,this.setState({depositTokenPriceInStableToken:t,creditTokenPriceInStableToken:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Date.now()/1e3,n=parseFloat(this.props.pool.creditMultiplier)/1e4,a=parseFloat(this.props.pool.depositFee.rate)/1e4,i=parseFloat(this.props.pool.creditLiquidationRate)/1e4,s=parseFloat(this.props.pool.liquidatorFee.rate)/1e4,o=this.formatDepositToken.fromWei(this.props.pool.senderBalance),r=this.formatDepositToken.fromWei(this.props.pool.senderPosition.deposited),l=this.formatCreditToken.fromWei(this.props.pool.senderPosition.credited),p=this.formatDepositToken.fromWei(this.props.pool.senderPosition.liquidated.total),m=this.formatCreditToken.fromWei(this.props.pool.senderPosition.creditLiquidationLevel),u=this.formatCreditToken.fromWei(this.props.pool.senderCurrentCredit),d=u>l||u<m,b=this.formatDepositToken.fromWei(this.props.pool.totalPosition.deposited),f=this.formatCreditToken.fromWei(this.props.pool.totalPosition.credited),j=this.formatDepositToken.fromWei(this.props.pool.totalPosition.liquidated.total),x=parseFloat(this.props.pool.seigniorageFee.rate)/1e4,g=de.convert.fromWeiNativeToken(this.props.pool.seigniorageFee.collected.total),v="".concat(y.getBlockExplorerLink(de.chainId),"/address/").concat(this.props.pool.seigniory),O=parseInt(this.props.pool.senderPosition.updatedBlockId),T=O>0?(parseInt(this.props.currentBlock)-O)*this.props.blockTime:0,w=(O=parseInt(this.props.pool.totalPosition.updatedBlockId))>0?(parseInt(this.props.currentBlock)-O)*this.props.blockTime:0,N=Object(k.jsx)("span",{className:"tooltip text-[80%]",children:"Fee paid to the seignory (token owner) from burns."}),S=Object(k.jsxs)("div",{className:"grid grid-cols-3 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"Investor Count",main:de.convert.formatInteger(this.props.pool.investorCount)}),Object(k.jsx)(A,{title:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("span",{className:"mr-1",children:"Seigniorage Fee"}),Object(k.jsx)(ye,{isTooltip:!0,children:N})]}),main:de.convert.formatPercentage(x),mainUnit:"%",detail:Object(k.jsx)("a",{href:v,rel:"noreferrer",target:"_blank",className:"numeric",children:de.convert.formatAccount(this.props.pool.seigniory)}),info:this.props.pool.isSenderSeignory?Object(k.jsx)("span",{className:"font-display",children:"You're Seignory"}):null,infoClassName:"opacity-75 light-box font-semibold uppercase text-red-500"}),Object(k.jsx)(A,{title:"Seigniorage Collected",main:de.convert.formatNativeToken(g),mainUnit:de.contracts.nativeToken.symbol,detail:de.convert.formatStableToken(g*this.props.nativeTokenPriceInStableToken),detailUnit:de.contracts.stableToken.symbol,infoText:this.getActivity(this.props.pool.seigniorageFee.collected.count,this.props.pool.seigniorageFee.collected.timestamp,t)})]});return Object(k.jsxs)("div",{className:"card bg-[#1e0f3c80] bg-diagonal-lines",children:[Object(k.jsxs)("div",{className:"grid grid-cols-12 gap-x-2 gap-y-0.5",children:[Object(k.jsxs)("div",{className:"col-span-5",children:[Object(k.jsxs)("span",{className:"block opacity-75 text-uppercase fs-6 m-0",children:[Object(k.jsx)("span",{className:"mr-1",children:de.farm.getDepositTokenSymbol(this.props.pool)}),Object(k.jsx)(ye,{children:S})]}),Object(k.jsx)("span",{className:"opacity-25 text-[0.75em]",children:Me(de.chainId,this.props.pool)})]}),Object(k.jsx)("div",{className:"col-span-7 flex items-center justify-end text-[0.75em]",children:this.props.pool.isLiquidityToken?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"avatar",children:Object(k.jsx)("span",{className:"card-title opacity-25 text-uppercase m-0",style:{fontSize:"x-small"},children:this.props.pool.token0Details.symbol})}),Object(k.jsx)("div",{className:"avatar",children:Object(k.jsx)("span",{className:"card-title opacity-25 text-uppercase m-0",style:{fontSize:"x-small"},children:this.props.pool.token1Details.symbol})})]}):Object(k.jsx)("div",{className:"avatar",children:Object(k.jsx)("span",{className:"card-title opacity-25 text-uppercase m-0",style:{fontSize:"x-small"},children:this.props.pool.depositToken.details.symbol})})}),Object(k.jsx)("div",{className:"col-span-12 mt-0.5 mb-3 border-bottom-t4 border-2"})]}),Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-x-2 gap-y-4",children:[Object(k.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"Credit Multiplier",main:"\xd7".concat(de.convert.formatNumberScaled(1+n,2)),titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Deposit Fee",main:de.convert.formatPercentage(a),mainUnit:"%",titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Credit Liq. Rate",main:de.convert.formatPercentage(i),mainUnit:"%",titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Liquidator Fee",main:de.convert.formatPercentage(s),mainUnit:"%",titleClassName:"light-box"})]}),Object(k.jsx)("div",{className:"text-[80%] -mb-2",children:Object(k.jsxs)("div",{className:"flex items-center justify-between group-title opacity-75 light-box px-2",children:[Object(k.jsx)("span",{children:"Your Position"}),Object(k.jsxs)("span",{className:"numeric opacity-25",children:[Object(k.jsx)("i",{className:"bi bi-clock mr-1"}),de.convert.formatTimespan(T)]})]})}),Object(k.jsxs)("div",{className:"grid grid-cols-3 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"Balance",main:this.formatDepositToken.formatCurrency(o),mainUnit:de.farm.getDepositTokenSymbol(this.props.pool),detail:this.state.depositTokenPriceInStableToken?de.convert.formatStableToken(this.state.depositTokenPriceInStableToken*o):"-",detailUnit:de.contracts.stableToken.symbol,isMainUnitOnTop:!0,mainUnitClassName:"!opacity-25 mb-3",titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Deposited",main:this.formatDepositToken.formatCurrency(r),mainUnit:de.farm.getDepositTokenSymbol(this.props.pool),detail:this.state.depositTokenPriceInStableToken?de.convert.formatStableToken(this.state.depositTokenPriceInStableToken*r):"-",detailUnit:de.contracts.stableToken.symbol,isMainUnitOnTop:!0,mainUnitClassName:"!opacity-25 mb-3",titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Credited",main:this.formatCreditToken.formatCurrency(l),mainUnit:this.props.creditToken.details.symbol,detail:this.state.creditTokenPriceInStableToken?de.convert.formatStableToken(this.state.creditTokenPriceInStableToken*l):"-",detailUnit:de.contracts.stableToken.symbol,isMainUnitOnTop:!0,mainUnitClassName:"!opacity-25 mb-3",titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Current Level",main:this.formatCreditToken.formatCurrency(u),mainUnit:this.props.creditToken.details.symbol,isMainUnitOnTop:!0,mainClassName:"".concat(u>l?"animate-pulse neon":u<m?"animate-pulse glow":""),mainUnitClassName:"!opacity-25 mb-3",titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Liquidation Level",main:this.formatCreditToken.formatCurrency(m),mainUnit:this.props.creditToken.details.symbol,isMainUnitOnTop:!0,mainUnitClassName:"!opacity-25 mb-3",titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Liquidated",main:this.formatDepositToken.formatCurrency(p),mainUnit:de.farm.getDepositTokenSymbol(this.props.pool),detail:this.state.depositTokenPriceInStableToken?de.convert.formatStableToken(this.state.depositTokenPriceInStableToken*p):"-",detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.pool.senderPosition.liquidated.count,this.props.pool.senderPosition.liquidated.timestamp,t),isMainUnitOnTop:!0,mainUnitClassName:"!opacity-25 mb-3",titleClassName:"light-box"})]}),Object(k.jsxs)("div",{className:"grid grid-cols-4 gap-x-2 gap-y-4 leading-none auto-rows-auto text-[0.75em]",children:[Object(k.jsx)("button",{type:"button",className:"h-9 btn btn-blue",disabled:this.state.isInteractionDisabled||0===o,onClick:Object(c.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.execute((function(){return e.props.deposit(e.state.depositTokenPriceInStableToken)}));case 2:case"end":return t.stop()}}),t)}))),children:"Deposit"}),Object(k.jsx)("button",{type:"button",className:"h-9 btn btn-slate",disabled:this.state.isInteractionDisabled||0===r,onClick:Object(c.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.execute((function(){return e.props.withdraw(e.state.creditTokenPriceInStableToken)}));case 2:case"end":return t.stop()}}),t)}))),children:"Withdraw"}),Object(k.jsx)("button",{type:"button",className:"h-9 btn btn-green",disabled:this.state.isInteractionDisabled||0===r||!d,onClick:Object(c.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.execute((function(){return de.farm.rebalance(e.props.pool.poolId)}));case 2:case"end":return t.stop()}}),t)}))),children:Object(k.jsx)("span",{className:"".concat(d?"animate-pulse":""),children:"Rebalance"})}),Object(k.jsx)("button",{type:"button",className:"h-9 btn btn-red",disabled:this.state.isInteractionDisabled||0===r,onClick:Object(c.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.execute((function(){return de.farm.liquidate(e.props.pool.poolId)}));case 2:case"end":return t.stop()}}),t)}))),children:"Liquidate"}),Object(k.jsx)("div",{className:"col-span-4 border-bottom-t4"})]}),Object(k.jsxs)("div",{className:"flex items-center justify-between -mt-2",children:[Object(k.jsxs)("span",{className:"text-[0.75em] uppercase opacity-75 cursor-pointer",onClick:this.togglePoolTotalsVisibility,children:[Object(k.jsx)("i",{className:"bi ".concat(this.state.isPoolTotalsVisibile?"bi-caret-down-fill":"bi-caret-right-fill"," mr-1")}),"Pool Totals"]}),Object(k.jsxs)("span",{className:"numeric text-[0.75em] opacity-25",children:[Object(k.jsx)("i",{className:"bi bi-clock mr-1"}),de.convert.formatTimespan(w)]})]}),this.state.isPoolTotalsVisibile&&Object(k.jsxs)("div",{className:"grid grid-cols-3 gap-x-2 text-[80%]",children:[Object(k.jsx)(A,{title:"Deposited",main:this.formatDepositToken.formatCurrency(b),mainUnit:de.farm.getDepositTokenSymbol(this.props.pool),detail:this.state.depositTokenPriceInStableToken?de.convert.formatStableToken(this.state.depositTokenPriceInStableToken*b):"-",detailUnit:de.contracts.stableToken.symbol,isMainUnitOnTop:!0,mainUnitClassName:"!opacity-25 mb-3",titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Credited",main:this.formatCreditToken.formatCurrency(f),mainUnit:this.props.creditToken.details.symbol,detail:this.state.creditTokenPriceInStableToken?de.convert.formatStableToken(this.state.creditTokenPriceInStableToken*f):"-",detailUnit:de.contracts.stableToken.symbol,isMainUnitOnTop:!0,mainUnitClassName:"!opacity-25 mb-3",titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Liquidated",main:this.formatDepositToken.formatCurrency(j),mainUnit:de.farm.getDepositTokenSymbol(this.props.pool),detail:this.state.depositTokenPriceInStableToken?de.convert.formatStableToken(this.state.depositTokenPriceInStableToken*j):"-",detailUnit:de.contracts.stableToken.symbol,info:this.getActivity(this.props.pool.totalPosition.liquidated.count,this.props.pool.totalPosition.liquidated.timestamp,t),isMainUnitOnTop:!0,mainUnitClassName:"!opacity-25 mb-3",titleClassName:"light-box"})]})]})]})}},{key:"getTokenAvatars",value:function(){return this.props.pool.isLiquidityToken?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"avatar",children:Object(k.jsx)("span",{className:"card-title opacity-25 text-uppercase m-0",children:this.props.pool.token0Details.symbol})}),Object(k.jsx)("div",{className:"avatar",children:Object(k.jsx)("span",{className:"card-title opacity-25 text-uppercase m-0",children:this.props.pool.token1Details.symbol})})]}):Object(k.jsx)("div",{className:"avatar",children:Object(k.jsx)("span",{className:"card-title opacity-25 text-uppercase m-0",children:this.props.pool.depositToken.details.symbol})})}},{key:"getActivity",value:function(e,t,n){return Object(k.jsxs)("div",{className:"flex justify-evenly space-x-1",children:[Object(k.jsxs)("span",{className:"light-box w-full",children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e)]}),Object(k.jsxs)("span",{className:"light-box w-full",children:[Object(k.jsx)("i",{className:"bi bi-clock mr-1"}),t>0?de.convert.formatTimespan(n-t):"-"]})]})}},{key:"togglePoolTotalsVisibility",value:function(){this.setState({isPoolTotalsVisibile:!this.state.isPoolTotalsVisibile})}},{key:"execute",value:function(){var e=Object(c.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isInteractionDisabled:!0}),e.prev=1,e.next=4,t();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("".concat(e.t0.code,": ").concat(e.t0.message));case 9:return e.prev=9,this.setState({isInteractionDisabled:!1}),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[1,6,9,12]])})));return function(t){return e.apply(this,arguments)}}()}]),n}(a.Component);function qe(e){var t=e.farm,n=e.nativeTokenPriceInStableToken,i=e.deposit,s=e.withdraw,o=e.blockTime,r=Object.freeze({CreditMultiplier:0,DepositFee:1,CreditLiquidationRate:2,LiquidatorFee:3,Credited:4}),c=Object.freeze({Ascending:0,Descending:1}),l=Object.freeze({All:0,Single:1,Liquidity:2}),p=Object(a.useState)(t.pools),m=Object(g.a)(p,2),u=m[0],d=m[1],b=Object(a.useState)(),h=Object(g.a)(b,2),f=h[0],x=h[1],v=Object(a.useState)(r.CreditMultiplier),y=Object(g.a)(v,2),O=y[0],T=y[1],w=Object(a.useState)(c.Descending),N=Object(g.a)(w,2),S=N[0],C=N[1],I=Object(a.useState)(l.All),B=Object(g.a)(I,2),P=B[0],F=B[1],U=de.format(t.creditToken.details.decimals),L=U.fromWei(t.totalLiquidityProvided.total),W=t.pools.reduce((function(e,n){return e+U.fromWei(n.totalPosition.credited,t.creditToken.details.decimals)}),0);return Object(a.useEffect)((function(){var e=t.pools.filter((function(e){var t=!0;if(f&&f.length>0){var n=Me(de.chainId,e.pool),a=de.farm.getDepositTokenSymbol(e.pool);t=ce(n,f)||ce(a,f)}return P!==l.All&&(P===l.Single?t&=!e.pool.isLiquidityToken:P===l.Liquidity&&(t&=e.pool.isLiquidityToken)),t}));e.sort((function(e,t){var n,a;return S===c.Ascending?(n=e,a=t):(n=t,a=e),O===r.CreditMultiplier?j.a.utils.toBN(n.creditMultiplier).cmp(j.a.utils.toBN(a.creditMultiplier)):O===r.DepositFee?j.a.utils.toBN(n.depositFee.rate).cmp(j.a.utils.toBN(a.depositFee.rate)):O===r.CreditLiquidationRate?j.a.utils.toBN(n.creditLiquidationRate).cmp(j.a.utils.toBN(a.creditLiquidationRate)):O===r.LiquidatorFee?j.a.utils.toBN(n.liquidatorFee.rate).cmp(j.a.utils.toBN(a.liquidatorFee.rate)):O===r.Credited?j.a.utils.toBN(n.senderPosition.credited).cmp(j.a.utils.toBN(a.senderPosition.credited)):void 0})),d(e)}),[f,P,O,S,t]),Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-x-2 gap-y-10",children:[Object(k.jsx)("div",{className:"card bg-[#1e0f3c99] bg-diagonal-lines text-center",children:Object(k.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"Credit Token",main:t.creditToken.details.symbol,mainUnit:"\xa0",isMainUnitOnTop:!0,titleClassName:"light-box",mainClassName:"font-display",mainUnitClassName:"mb-3"}),Object(k.jsx)(A,{title:"Farm Pools",main:de.convert.formatInteger(t.pools.length),mainUnit:"\xa0",isMainUnitOnTop:!0,titleClassName:"light-box",mainUnitClassName:"mb-3"}),Object(k.jsx)(A,{title:"Total Liquidity Added",main:de.convert.formatCurrency(L,Math.min(t.creditToken.details.decimals,de.contracts.nativeToken.decimals)),mainUnit:"".concat(t.creditToken.details.symbol,"/").concat(de.contracts.nativeToken.symbol),isMainUnitOnTop:!0,titleClassName:"light-box",mainUnitClassName:"!opacity-25 mb-3"}),Object(k.jsx)(A,{title:"Total Credit Supplied",main:de.convert.formatCurrency(W,t.creditToken.details.decimals),mainUnit:t.creditToken.details.symbol,isMainUnitOnTop:!0,titleClassName:"light-box",mainUnitClassName:"!opacity-25 mb-3"})]})}),Object(k.jsx)("div",{className:"card bg-[#1e0f3c99] bg-diagonal-lines",children:Object(k.jsxs)("div",{className:"grid grid-cols-12 gap-x-2 gap-y-4 justify-between",children:[Object(k.jsxs)("div",{className:"col-span-12",children:[Object(k.jsx)("label",{htmlFor:"price",children:Object(k.jsx)(D,{title:"Filter pools",titleClassName:"opacity-100 leading-6"})}),Object(k.jsx)(Ne,{delay:400,type:"search",id:"filter",className:"!text-[1em] px-2",placeholder:"WEEB, Uniswap",onInput:function(e){console.log("filter: ".concat(e)),x(e)}})]}),Object(k.jsxs)("div",{className:"col-span-12 xl:col-span-8 accent-violet-600",children:[Object(k.jsx)("label",{children:Object(k.jsx)(D,{title:"Sort by",titleClassName:"opacity-100 leading-6"})}),Object(k.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-x-2 gap-y-0.5 justify-between",children:[Object(k.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(k.jsx)("input",{className:"w-4 h-4",type:"radio",name:"sortBy",id:"sortBy1",value:r.CreditMultiplier,checked:O===r.CreditMultiplier,onChange:M}),Object(k.jsx)("label",{htmlFor:"sortBy1",children:Object(k.jsx)(D,{title:"Credit Multiplier",titleClassName:"opacity-100 normal-case text-[0.75em]"})})]}),Object(k.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(k.jsx)("input",{className:"w-4 h-4",type:"radio",name:"sortBy",id:"sortBy2",value:r.DepositFee,checked:O===r.DepositFee,onChange:M}),Object(k.jsx)("label",{htmlFor:"sortBy2",children:Object(k.jsx)(D,{title:"Deposit Fee",titleClassName:"opacity-100 normal-case text-[0.75em]"})})]}),Object(k.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(k.jsx)("input",{className:"w-4 h-4",type:"radio",name:"sortBy",id:"sortBy3",value:r.CreditLiquidationRate,checked:O===r.CreditLiquidationRate,onChange:M}),Object(k.jsx)("label",{htmlFor:"sortBy3",children:Object(k.jsx)(D,{title:"Credit Liq. Rate",titleClassName:"opacity-100 normal-case text-[0.75em]"})})]}),Object(k.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(k.jsx)("input",{className:"w-4 h-4",type:"radio",name:"sortBy",id:"sortBy4",value:r.LiquidatorFee,checked:O===r.LiquidatorFee,onChange:M}),Object(k.jsx)("label",{htmlFor:"sortBy4",children:Object(k.jsx)(D,{title:"Liquidator Fee",titleClassName:"opacity-100 normal-case text-[0.75em]"})})]}),Object(k.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(k.jsx)("input",{className:"w-4 h-4",type:"radio",name:"sortBy",id:"sortBy5",value:r.Credited,checked:O===r.Credited,onChange:M}),Object(k.jsx)("label",{htmlFor:"sortBy5",children:Object(k.jsx)(D,{title:"Credited Amount",titleClassName:"opacity-100 normal-case text-[0.75em]"})})]})]})]}),Object(k.jsx)("div",{className:"col-span-12 xl:col-span-4 accent-violet-600",children:Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-0.5 justify-between",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{children:Object(k.jsx)(D,{title:"Sort direction",titleClassName:"opacity-100"})}),Object(k.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(k.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(k.jsx)("input",{className:"w-4 h-4",type:"radio",name:"sortDirection",id:"sortDirection1",value:c.Ascending,checked:S===c.Ascending,onChange:q}),Object(k.jsx)("label",{htmlFor:"sortDirection1",children:Object(k.jsx)(D,{title:Object(k.jsx)("i",{className:"bi bi-sort-numeric-down text-[20px]"}),titleClassName:"opacity-100 normal-case"})})]}),Object(k.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(k.jsx)("input",{className:"w-4 h-4",type:"radio",name:"sortDirection",id:"sortDirection2",value:c.Descending,checked:S===c.Descending,onChange:q}),Object(k.jsx)("label",{htmlFor:"sortDirection2",children:Object(k.jsx)(D,{title:Object(k.jsx)("i",{className:"bi bi-sort-numeric-down-alt text-[20px]"}),titleClassName:"opacity-100 normal-case"})})]})]})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{children:Object(k.jsx)(D,{title:"Token type",titleClassName:"opacity-100"})}),Object(k.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[Object(k.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(k.jsx)("input",{className:"w-4 h-4",type:"radio",name:"tokenType",id:"tokenType1",value:l.All,checked:P===l.All,onChange:R}),Object(k.jsx)("label",{htmlFor:"tokenType1",children:Object(k.jsx)(D,{title:"All",titleClassName:"opacity-100 normal-case text-[0.75em]"})})]}),Object(k.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(k.jsx)("input",{className:"w-4 h-4",type:"radio",name:"tokenType",id:"tokenType2",value:l.Single,checked:P===l.Single,onChange:R}),Object(k.jsx)("label",{htmlFor:"tokenType2",children:Object(k.jsx)(D,{title:"Single",titleClassName:"opacity-100 normal-case text-[0.75em]"})})]}),Object(k.jsxs)("div",{className:"flex items-center space-x-1",children:[Object(k.jsx)("input",{className:"w-4 h-4",type:"radio",name:"tokenType",id:"tokenType3",value:l.Liquidity,checked:P===l.Liquidity,onChange:R}),Object(k.jsx)("label",{htmlFor:"tokenType3",children:Object(k.jsx)(D,{title:"Liquidity",titleClassName:"opacity-100 normal-case text-[0.75em]"})})]})]})]})]})})]})}),Object(k.jsx)("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-x-5 gap-y-10",children:function(e){var a=[];return e.forEach((function(e,r){a.push(Object(k.jsx)("div",{className:"max-h-full",children:Object(k.jsx)(Ae,{creditToken:t.creditToken,pool:e,nativeTokenPriceInStableToken:n,deposit:function(t){return i(e.poolId,t)},withdraw:function(t){return s(e.poolId,t)},blockTime:o,currentBlock:t.currentBlock})},r))})),a}(u)})]});function R(e){var t=e.target,n=(t.name,t.value);F(parseInt(n))}function M(e){var t=e.target,n=(t.name,t.value);T(parseInt(n))}function q(e){var t=e.target,n=(t.name,t.value);C(parseInt(n))}}Ae.defaultProps={deposit:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),withdraw:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},qe.defaultProps={deposit:function(){var e=Object(c.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),withdraw:function(){var e=Object(c.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rebalance:function(){var e=Object(c.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),liquidate:function(){var e=Object(c.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};var Ee=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={isInteractionDisabled:{}},a.formatDepositToken=de.format(a.props.poolLiquidatable.pool.depositToken.details.decimals),a.formatCreditToken=de.format(a.props.creditToken.details.decimals),a.execute=a.execute.bind(Object(m.a)(a)),a}return Object(p.a)(n,[{key:"render",value:function(){Date.now(),parseFloat(this.props.poolLiquidatable.pool.creditMultiplier),parseFloat(this.props.poolLiquidatable.pool.depositFee.rate),parseFloat(this.props.poolLiquidatable.pool.creditLiquidationRate),parseFloat(this.props.poolLiquidatable.pool.liquidatorFee.rate),this.formatDepositToken.fromWei(this.props.poolLiquidatable.pool.senderBalance),this.formatDepositToken.fromWei(this.props.poolLiquidatable.pool.senderPosition.deposited),this.formatCreditToken.fromWei(this.props.poolLiquidatable.pool.senderPosition.credited),this.formatDepositToken.fromWei(this.props.poolLiquidatable.pool.senderPosition.liquidated.total),this.formatCreditToken.fromWei(this.props.poolLiquidatable.pool.senderPosition.creditLiquidationLevel),this.formatCreditToken.fromWei(this.props.poolLiquidatable.pool.senderCurrentCredit),this.formatDepositToken.fromWei(this.props.poolLiquidatable.pool.totalPosition.deposited),this.formatCreditToken.fromWei(this.props.poolLiquidatable.pool.totalPosition.credited),this.formatDepositToken.fromWei(this.props.poolLiquidatable.pool.totalPosition.liquidated.total),parseFloat(this.props.poolLiquidatable.pool.seigniorageFee.rate),de.convert.fromWeiNativeToken(this.props.poolLiquidatable.pool.seigniorageFee.collected.total),"".concat(y.getBlockExplorerLink(de.chainId),"/address/").concat(this.props.poolLiquidatable.pool.seigniory);var e=parseInt(this.props.poolLiquidatable.pool.senderPosition.updatedBlockId),t=(e>0&&(parseInt(this.props.currentBlock),this.props.blockTime),(e=parseInt(this.props.poolLiquidatable.pool.totalPosition.updatedBlockId))>0&&(parseInt(this.props.currentBlock),this.props.blockTime),this.formatCreditToken.fromWei(this.props.poolLiquidatable.totalLiquidity.total)),n=this.formatCreditToken.fromWei(this.props.poolLiquidatable.totalLiquidatorFee.total),a=this.getPoolSelfTotals(this.props.creditToken,this.props.poolLiquidatable),i=a.fee,s=a.count,o=parseFloat(n)-i;return Object(k.jsx)("div",{className:"card bg-[#1e0f3c80] bg-diagonal-lines",children:Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-4",children:[Object(k.jsxs)("div",{className:"grid grid-cols-3 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"Deposit Token",main:de.farm.getDepositTokenSymbol(this.props.poolLiquidatable.pool),mainUnit:Me(de.chainId,this.props.poolLiquidatable.pool),isMainUnitOnTop:!0,mainClassName:"font-display",mainUnitClassName:"!opacity-25 mb-3 font-display",titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Total Liquidity",main:this.formatCreditToken.formatCurrency(t),mainUnit:this.props.creditToken.details.symbol,info:Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:"flex justify-evenly space-x-1",children:Object(k.jsxs)("span",{className:"light-box w-full",children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(this.props.poolLiquidatable.totalLiquidity.count)]})})}),isMainUnitOnTop:!0,mainUnitClassName:"!opacity-25 mb-3",titleClassName:"light-box"}),Object(k.jsx)(A,{title:"Total Liquidator Fee",main:this.formatCreditToken.formatCurrency(o),mainUnit:this.props.creditToken.details.symbol,info:Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:"flex justify-evenly space-x-1",children:Object(k.jsxs)("span",{className:"light-box w-full",children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(parseInt(this.props.poolLiquidatable.totalLiquidatorFee.count)-s)]})})}),isMainUnitOnTop:!0,mainUnitClassName:"!opacity-25 mb-3",titleClassName:"light-box"})]}),Object(k.jsxs)("div",{className:"grid grid-cols-4 gap-x-2 gap-y-2 text-center text-[80%]",children:[Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)(D,{title:"Investor",titleClassName:"light-box"}),Object(k.jsx)(L,{mainUnit:Me(de.chainId,this.props.poolLiquidatable.pool),isMainUnitOnTop:!0,mainClassName:"font-display",mainUnitClassName:"!opacity-25 mt-3 font-display"})]}),Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)(D,{title:"Liquidity",titleClassName:"light-box"}),Object(k.jsx)(L,{mainUnit:this.props.creditToken.details.symbol,isMainUnitOnTop:!0,mainUnitClassName:"!opacity-25 mt-3"})]}),Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)(D,{title:"Liquidator Fee",titleClassName:"light-box"}),Object(k.jsx)(L,{mainUnit:this.props.creditToken.details.symbol,isMainUnitOnTop:!0,mainUnitClassName:"!opacity-25 mt-3"})]}),Object(k.jsxs)("div",{className:"flex flex-col",children:[Object(k.jsx)(D,{title:"Action",titleClassName:"light-box"}),Object(k.jsx)(L,{mainUnit:"\xa0",isMainUnitOnTop:!0,mainUnitClassName:"!opacity-25 mt-3"})]}),this.getFarmLiquidatables(this.props.poolLiquidatable.pool.poolId,this.props.poolLiquidatable.investorLiquidatables)]})]})})}},{key:"getActivity",value:function(e,t,n){return Object(k.jsxs)("div",{className:"flex justify-evenly space-x-1",children:[Object(k.jsxs)("span",{className:"light-box w-full",children:[Object(k.jsx)("i",{className:"bi bi-app-indicator mr-1"}),de.convert.formatInteger(e)]}),Object(k.jsxs)("span",{className:"light-box w-full",children:[Object(k.jsx)("i",{className:"bi bi-clock mr-1"}),t>0?de.convert.formatTimespan(n-t):"-"]})]})}},{key:"getFarmLiquidatables",value:function(e,t){var n=this,i=[];return t.forEach((function(t,s){i.push(Object(k.jsxs)(a.Fragment,{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(L,{main:de.convert.formatAccount(t.investor),mainClassName:"text-[0.875em]"}),t.isSelf&&Object(k.jsx)("div",{children:Object(k.jsx)(W,{detail:"You",detailClassName:"font-display rounded-lg bg-red-600 px-1"})})]}),Object(k.jsx)(L,{main:n.formatCreditToken.formatCurrency(n.formatCreditToken.fromWei(t.liquidity))}),Object(k.jsx)(L,{main:t.isSelf?Object(k.jsx)("del",{children:n.formatCreditToken.formatCurrency(n.formatCreditToken.fromWei(t.liquidatorFee))}):n.formatCreditToken.formatCurrency(n.formatCreditToken.fromWei(t.liquidatorFee))}),Object(k.jsx)("button",{type:"button",className:"h-7 btn btn-red px-2",disabled:n.state.isInteractionDisabled[s],onClick:Object(c.a)(h.a.mark((function a(){return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,n.execute(s,(function(){return de.farm.liquidateAccount(e,t.investor)}));case 2:case"end":return a.stop()}}),a)}))),children:"Liquidate"})]},s))})),i}},{key:"getPoolSelfTotals",value:function(e,t){var n=t.investorLiquidatables.filter((function(e){return e.isSelf}));return{fee:n.reduce((function(t,n){return t+de.convert.fromWei(n.liquidatorFee,e.details.decimals)}),0),count:n.length}}},{key:"execute",value:function(){var e=Object(c.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState((function(e,n){return{isInteractionDisabled:Object(J.a)(Object(J.a)({},e.isInteractionDisabled),{},Object(se.a)({},t,!0))}})),e.prev=1,e.next=4,n();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("".concat(e.t0.code,": ").concat(e.t0.message));case 9:return e.prev=9,this.setState((function(e,n){return{isInteractionDisabled:Object(J.a)(Object(J.a)({},e.isInteractionDisabled),{},Object(se.a)({},t,!1))}})),e.finish(9);case 12:case"end":return e.stop()}}),e,this,[[1,6,9,12]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(a.Component);function ze(e){var t=e.farm,n=(e.balance,e.priceInStableToken,e.nativeTokenPriceInStableToken),i=e.blockTime,s=Object(a.useState)(t.poolLiquidatables),o=Object(g.a)(s,2),r=o[0],c=o[1],l=parseFloat(Object(w.fromWei)(t.totalLiquidity.total,t.creditToken.details.decimals)),p=parseFloat(Object(w.fromWei)(t.totalLiquidatorFee.total,t.creditToken.details.decimals));return Object(a.useEffect)((function(){var e=Object(Ue.a)(t.poolLiquidatables);e.sort((function(e,t){return j.a.utils.toBN(t.totalLiquidity.total).cmp(j.a.utils.toBN(e.totalLiquidity.total))})),e.sort((function(e,t){return j.a.utils.toBN(t.pool.senderPosition.deposited).cmp(j.a.utils.toBN(e.pool.senderPosition.deposited))})),c(e)}),[t]),Object(k.jsx)(k.Fragment,{children:r.length>0?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"card bg-[#1e0f3c80] bg-diagonal-lines text-center",children:Object(k.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4 text-[80%]",children:[Object(k.jsx)(A,{title:"Credit Token",main:t.creditToken.details.symbol,mainUnit:"\xa0",isMainUnitOnTop:!0,titleClassName:"light-box",mainClassName:"font-display",mainUnitClassName:"mb-3"}),Object(k.jsx)(A,{title:"Liquidatable Pools",main:C(t.poolLiquidatables.length),mainUnit:"\xa0",isMainUnitOnTop:!0,titleClassName:"light-box",mainUnitClassName:"mb-3"}),Object(k.jsx)(A,{title:"Total Liquidity",main:P(l,t.creditToken.details.decimals),mainUnit:t.creditToken.details.symbol,isMainUnitOnTop:!0,titleClassName:"light-box",mainUnitClassName:"!opacity-25 mb-3"}),Object(k.jsx)(A,{title:"Total Liquidator Fee",main:P(p,t.creditToken.details.decimals),mainUnit:t.creditToken.details.symbol,isMainUnitOnTop:!0,titleClassName:"light-box",mainUnitClassName:"!opacity-25 mb-3"})]})}),Object(k.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-x-5 gap-y-10",children:function(e){var a=[];return e.forEach((function(e,s){a.push(Object(k.jsx)("div",{className:"max-h-full",children:Object(k.jsx)("div",{className:"rounded-lg border-2 border-white/10",children:Object(k.jsx)(Ee,{creditToken:t.creditToken,poolLiquidatable:e,nativeTokenPriceInStableToken:n,blockTime:i,currentBlock:t.currentBlock})})},s))})),a}(r)})]}):Object(k.jsx)("div",{className:"card bg-[#1e0f3c80] bg-diagonal-lines text-center",children:Object(k.jsx)("p",{className:"light-box text-red-500 ",children:"No liquidatable pools found."})})})}function He(e){var t=e.isOpen,n=e.setIsOpen,a=e.canceled;return Object(k.jsx)(U,{isOpen:t,setIsOpen:n,disableBackgroundCancel:!0,body:Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("iframe",{src:"https://widget.onramper.com?color=266677&apiKey=pk_test_x5M_5fdXzn1fxK04seu0JgFjGsu7CH8lOvS9xZWzuSM0",height:"595px",width:"100%",title:"Onramper widget",frameBorder:"0",allow:"accelerometer; autoplay; camera; gyroscope; payment",className:"rounded-lg",children:Object(k.jsx)("a",{href:"https://widget.onramper.com",target:"_blank",children:"Buy crypto"})})}),title:"Buy crypto with credit card",hideSubmitButton:!0,hideCancelButton:!0,canceled:a})}function Ge(e){var t=e.isOpen,n=e.setIsOpen,a=e.nativeCoinBalance,i=e.token,s=e.nativeTokenPriceInStableToken,o=e.swap,r=e.canceled;return Object(k.jsx)(U,{isOpen:t,setIsOpen:n,disableBackgroundCancel:!0,body:Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(Se,{isDarkTheme:!0,nativeCoinBalance:a,token:i,nativeTokenPriceInStableToken:s,swap:o})}),title:"Buy-Sell ".concat(i.details.symbol),hideSubmitButton:!0,cancelButtonText:"Close",canceled:r})}function Ve(e){var t=e.isOpen,n=e.setIsOpen,a=e.submitted,i=e.canceled;return Object(k.jsx)(U,{isOpen:t,setIsOpen:n,disableBackgroundCancel:!1,body:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("p",{children:["The router contract needs to be approved ",Object(k.jsx)("u",{children:"once"}),"."]}),Object(k.jsx)("p",{children:"Action will resume after approval."})]}),title:"Approve the Router",submitButtonText:"Approve",submitted:a,canceled:i})}function Ye(e){var t=e.isOpen,n=e.setIsOpen,a=e.submitted,i=e.canceled;return Object(k.jsx)(U,{isOpen:t,setIsOpen:n,disableBackgroundCancel:!1,body:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("p",{children:"Harvesting of rewards is performed thru the game contract. A percentage of your pendig reward goes to a game of your choice and the rest is added to your balance."}),Object(k.jsxs)("p",{children:["The game contract needs to be approved ",Object(k.jsx)("u",{children:"once"}),"."]}),Object(k.jsx)("p",{children:"Action will resume after approval."})]}),title:"Approve the Harvester",submitButtonText:"Approve",submitted:a,canceled:i})}function _e(e){var t=e.outcomeCount,n=e.defaultOutcome,a=e.setOutcome;return Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-3",children:[Object(k.jsx)("div",{className:"flex items-start justify-center space-x-2 h-[180px]",children:function(){for(var e=[],i=function(i){var s=i===parseInt(n);e.push(Object(k.jsxs)("button",{type:"button",className:"group btn btn-outcome font-bold uppercase tracking-wide ".concat(s?"active":""," p-1"),onClick:function(){return a(i)},children:[Le(parseInt(t),i),Object(k.jsx)("div",{className:"text-[0.875em] mt-1 light-box group-active:text-violet-800 ".concat(s?"text-violet-800":""),children:De(parseInt(t),i)})]},i))},s=0;s<t;++s)i(s);return e}()}),Object(k.jsx)("div",{className:"mx-auto text-[80%]",children:Object(k.jsx)("button",{type:"button",className:"btn btn-randomize w-16 h-9 text-violet-50 mt-3",onClick:function(){return a((e=0,n=parseInt(t),Math.floor(Math.random()*(n-e))+e));var e,n},children:We(parseInt(t))})})]})}function Je(e){var t=e.games,n=e.defaultGameId,a=e.setGameId;return Object(k.jsx)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-2 max-h-40 overflow-y-auto overflow-x-hidden section p-1",children:function(){var e=[],i=0;return t.forEach((function(s,o){var r,c,l=!1;0===i++&&(-1===n||n>t.length)&&(l=!0),s.isPercentage?(r=de.convert.formatPercentage(parseFloat(s.minimumBet)/1e4),c="%"):(r=de.convert.formatCurrency(de.convert.fromWei(s.minimumBet,s.tokenInfo.details.decimals),s.tokenInfo.details.decimals),c=s.tokenInfo.details.symbol),e.push(Object(k.jsx)("button",{className:"card btn btn-violet ".concat(l||o===n?"active":""),onClick:function(e){e.preventDefault(),a(o)},children:Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-1 text-center",children:[Object(k.jsx)("h6",{className:"card-header-title-text font-semibold",children:s.name}),Object(k.jsxs)("div",{className:"text-[0.5625em] opacity-80",children:[Object(k.jsxs)("div",{children:["Draws every",Object(k.jsx)("span",{className:"numeric mx-1 font-bold",children:s.blockLength}),"blocks"]}),Object(k.jsxs)("div",{children:["Min. bet is",Object(k.jsxs)("span",{className:"mx-1 font-bold",children:[Object(k.jsx)("span",{className:"numeric",children:r})," ",c]}),s.isPercentage?"of the reward":""]})]})]})},o))})),e}()})}function Ke(e){var t=e.predefinedValueListTitle,n=e.userSuppliedValueTitle,i=e.predefinedValues,s=e.defaultValue,o=e.isValidValue,r=e.delay,c=e.onInput,l=Object(a.useState)(),p=Object(g.a)(l,2),m=p[0],u=p[1];return Object(a.useEffect)((function(){m||u(s)}),[s]),Object(a.useEffect)((function(){var e=setTimeout((function(){return c(m)}),r);return function(){return clearTimeout(e)}}),[m]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-start sm:space-x-2 space-y-2 sm:space-y-0",children:[Object(k.jsxs)("div",{className:"flex flex-col justify-center w-full",children:[Object(k.jsx)("label",{className:"flex leading-6 mb-0.5",htmlFor:"predefinedValueList",children:Object(k.jsx)("span",{className:"input-label",children:t})}),Object(k.jsx)("select",{id:"predefinedValueList",className:"text-indigo-900 bg-indigo-900/10 border-indigo-300/50 focus:ring-indigo-300/50",value:m,onChange:function(e){return u(e.target.value)},children:i})]}),Object(k.jsxs)("div",{className:"w-full",children:[Object(k.jsx)("label",{className:"flex leading-6 mb-0.5",htmlFor:"userSuppliedValue",children:Object(k.jsx)("span",{className:"input-label",children:n})}),Object(k.jsx)("input",{type:"search",id:"userSuppliedValue",className:"numeric text-indigo-900 bg-indigo-900/10 border-indigo-300/50 focus:ring-indigo-300/50 ".concat(o?"":"bg-red-300"),value:null!==m&&void 0!==m?m:"",onChange:function(e){return u(e.target.value)}})]})]})})}function Qe(e){var t=e.isOpen,n=e.setIsOpen,i=e.title,s=e.submitButtonText,o=e.submitted,r=e.canceled,l=e.games,p=e.defaultGameId,m=e.defaultOutcome,u=e.enableGameSelection,d=e.enableAmountEntry,b=e.token,f=Object(a.useState)(),x=Object(g.a)(f,2),v=x[0],O=x[1],T=Object(a.useState)(p),w=Object(g.a)(T,2),N=w[0],S=w[1],C=Object(a.useState)(m),I=Object(g.a)(C,2),B=I[0],P=I[1],F=Object(a.useState)(),D=Object(g.a)(F,2),W=D[0],R=D[1],M=Object(a.useState)(0),A=Object(g.a)(M,2),q=A[0],E=A[1],z=Object(a.useState)(0),H=Object(g.a)(z,2),G=H[0],V=H[1],Y=Object(a.useState)(0),_=Object(g.a)(Y,2),J=_[0],K=_[1],Q=Object(a.useState)(0),X=Object(g.a)(Q,2),Z=X[0],$=X[1],ee=Object(a.useState)(),te=Object(g.a)(ee,2),ne=te[0],ae=te[1],ie=Object(a.useState)(),se=Object(g.a)(ie,2),oe=se[0],re=se[1];console.log("gameId: ".concat(N," (").concat(typeof N,")"));var ce=l.get(N),le=Object(k.jsxs)("div",{className:"tooltip text-[80%]",children:[Object(k.jsx)("p",{children:"Harvesting rewards though UI requires a minimum bet amount from the pending reward to be placed in a game."}),Object(k.jsx)("p",{children:"The rest of the pending reward is added to your balance."}),Object(k.jsx)("p",{children:"If you don't want to place a bet you need to trigger a transfer event either by claiming game prizes, placing bets, farming, liquidity hunting, etc. or by performing a manual wallet to wallet transfer."})]}),pe=Object(k.jsxs)("div",{className:"tooltip text-[80%]",children:[Object(k.jsx)("p",{children:"Placing a bet will automatically harvest the pending reward."}),Object(k.jsx)("p",{children:"You can bet with any token available in your wallet, including liquidity provider (LP) tokens. The conversion will be held automatically."})]});return B>ce.outcomeCount&&P(0),Object(a.useEffect)((function(){fetch(de.settings.getTokenListUri(),{headers:{"X-API-Key":y.getMoralisApiKey()}}).then((function(e){return e.json()})).then((function(e){O(e)}))}),[de.account,de.chainId]),Object(k.jsx)(U,{isOpen:t,setIsOpen:n,disableBackgroundCancel:!1,body:Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-3",children:[u&&Object(k.jsxs)("div",{children:[Object(k.jsx)("span",{className:"input-label",children:"Select a game:"}),Object(k.jsx)(Je,{games:l,defaultGameId:N,setGameId:S})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{children:Object(k.jsx)("span",{className:"input-label",children:"Bet on an outcome:"})}),Object(k.jsx)("div",{className:"mt-1",children:Object(k.jsx)(_e,{outcomeCount:ce.outcomeCount,defaultOutcome:B,setOutcome:P})})]}),!u&&d&&Object(k.jsxs)("div",{className:"flex flex-col justify-between",children:[v&&Object(k.jsx)(Ke,{predefinedValueListTitle:"Select the token to bet:",userSuppliedValueTitle:"Or enter the token address:",predefinedValues:function(){var e=[Object(k.jsx)("option",{value:"",children:"- Not in list -"},"")];v.map((function(e){return e.token_address})).includes(b.contractAddress)||e.push(Object(k.jsx)("option",{value:b.contractAddress,children:b.details.symbol},b.contractAddress));return v.forEach((function(t){e.push(Object(k.jsx)("option",{value:t.token_address,children:t.symbol},t.token_address))})),e}(),defaultValue:b.contractAddress,isValidValue:oe,delay:400,onInput:function(){var e=Object(c.a)(h.a.mark((function e(t){var n,a,i,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.a.utils.isAddress(t.toLowerCase())){e.next=4;break}return re(!1),console.log("".concat(t," is not a valid address.")),e.abrupt("return");case 4:return t=j.a.utils.toChecksumAddress(t),re(!0),ae(!0),e.prev=7,e.next=10,de.tokenFinder.findAll(t);case 10:if(0!=(n=e.sent).length){e.next=13;break}return e.abrupt("return");case 13:return a=me(n),i=n[a],R(i),e.next=18,de.router.getTokenPriceInMainToken(t,i.info.details.decimals,i.isLiquidityToken);case 18:return s=e.sent,E(s),e.next=22,de.router.getTokenPriceInStableToken(t,i.info.details.decimals,i.isLiquidityToken);case 22:o=e.sent,V(o),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(7),R(void 0),console.error("Token selection error.",e.t0);case 30:return e.prev=30,ae(!1),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[7,26,30,33]])})));return function(t){return e.apply(this,arguments)}}()}),Object(k.jsx)("span",{className:"text-[0.75em] font-medium text-right",children:ne?Object(k.jsx)("span",{className:"animate-pulse",children:"Fetching..."}):W?"".concat(W.info.details.name," @ ").concat(y.getSwapRouterName(de.chainId,W.info.router)):"-"})]}),d&&Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-0.5",children:[Object(k.jsxs)("div",{className:"flex items-center justify-between leading-6",children:[Object(k.jsxs)("span",{className:"input-label",children:["Amount:",Object(k.jsxs)("span",{className:"ml-1",children:["(",Object(k.jsx)(L,{main:de.convert.formatPercentage(Z),mainUnit:"%",mainClassName:"text-[0.875em]",mainUnitClassName:"ml-0.5"}),")"]})]}),Object(k.jsxs)("span",{className:"input-label",children:["Balance:",Object(k.jsx)(L,{main:W?de.convert.formatCurrency(de.convert.fromWei(W.senderBalance,W.info.details.decimals),W.info.details.decimals):"-",mainUnit:null===W||void 0===W?void 0:W.info.details.symbol,mainClassName:"text-[0.875em] ml-1",mainUnitClassName:"ml-0.5"})]})]}),Object(k.jsxs)("div",{className:"".concat(ne?"animate-pulse":""),children:[Object(k.jsx)(we,{isDisabled:ne,min:0,max:W?de.convert.fromWei(W.senderBalance,W.info.details.decimals):0,decimals:W?Math.min(4,W.info.details.decimals):0,setValue:K,setPercentage:$,valueClassName:"text-indigo-900 border-indigo-300/50 focus:ring-indigo-300/50",rangeClassName:"accent-indigo-900"}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 mt-3",children:[Object(k.jsx)("div",{className:"justify-self-end",children:Object(k.jsx)(L,{main:de.convert.formatMainToken(J*q),mainUnit:b.details.symbol,mainClassName:"text-[0.875em]"})}),Object(k.jsx)("div",{className:"justify-self-start",children:Object(k.jsx)(L,{main:de.convert.formatStableToken(J*G),mainUnit:de.contracts.stableToken.symbol,mainClassName:"text-[0.875em]"})})]})]})]})]}),title:i,info:Object(k.jsx)(ye,{isTooltip:!0,children:d?pe:le,icon:"bi-info"}),submitButtonText:s,isSubmitButtonDisabled:d&&(ne||J<=0),submitted:Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(N,W,J,B,ce.tokenInfo);case 2:case"end":return e.stop()}}),e)}))),canceled:r});function me(e){if(0!=e.length){for(var t,n,a=0;a<e.length;++a){var i=de.convert.fromWei(e[a].reserveInfo.reserve0,e[a].info.details.decimals),s=de.convert.fromWei(e[a].reserveInfo.reserve1,e[a].info.details.decimals),o=i*s;(!n||o>n)&&(t=a,n=o)}return t}}}function Xe(e){var t=e.isOpen,n=e.setIsOpen,a=e.submitted,i=e.canceled;return Object(k.jsx)(U,{isOpen:t,setIsOpen:n,disableBackgroundCancel:!1,body:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("p",{children:["The farm contract needs to be approved ",Object(k.jsx)("u",{children:"once"}),"."]}),Object(k.jsx)("p",{children:"Action will resume after approval."})]}),title:"Approve the Farm",submitButtonText:"Approve",submitted:a,canceled:i})}function Ze(e){var t=e.isOpen,n=e.setIsOpen,i=e.title,s=e.submitButtonText,o=e.submitted,r=e.canceled,l=e.pool,p=Object(a.useState)(),m=Object(g.a)(p,2),u=m[0],d=m[1],b=Object(a.useState)(),f=Object(g.a)(b,2),x=f[0],v=f[1],O=Object(a.useState)(0),T=Object(g.a)(O,2),w=T[0],N=T[1],S=Object(a.useState)(0),C=Object(g.a)(S,2),I=C[0],B=C[1],P=Object(a.useState)(0),F=Object(g.a)(P,2),D=F[0],W=F[1],R=Object(a.useState)(0),M=Object(g.a)(R,2),A=M[0],q=M[1],E=Object(a.useState)(),z=Object(g.a)(E,2),H=z[0],G=z[1],V=Object(a.useState)(),Y=Object(g.a)(V,2),_=Y[0],J=Y[1],K=Object(k.jsxs)("div",{className:"tooltip text-[80%]",children:[Object(k.jsx)("p",{children:"Harvesting rewards though UI requires a minimum bet amount from the pending reward to be placed in a game."}),Object(k.jsx)("p",{children:"The rest of the pending reward is added to your balance."}),Object(k.jsx)("p",{children:"If you don't want to place a bet you need to trigger a transfer event either by claiming game prizes, placing bets, farming, liquidity hunting, etc. or by performing a manual wallet to wallet transfer."})]});return Object(a.useEffect)((function(){fetch(de.settings.getTokenListUri(),{headers:{"X-API-Key":y.getMoralisApiKey()}}).then((function(e){return e.json()})).then((function(e){d(e)}))}),[de.account,de.chainId]),Object(k.jsx)(U,{isOpen:t,setIsOpen:n,disableBackgroundCancel:!1,body:Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-3",children:[Object(k.jsxs)("div",{className:"flex flex-col justify-between",children:[u&&Object(k.jsx)(Ke,{predefinedValueListTitle:"Select the token to bet:",userSuppliedValueTitle:"Or enter the token address:",predefinedValues:function(){var e=[Object(k.jsx)("option",{value:"",children:"- Not in list -"},"")];u.map((function(e){return e.token_address})).includes(l.depositToken.token)||e.push(Object(k.jsx)("option",{value:l.depositToken.token,children:de.farm.getDepositTokenSymbol(l)},l.depositToken.token));return u.forEach((function(t){e.push(Object(k.jsx)("option",{value:t.token_address,children:t.symbol},t.token_address))})),e}(),defaultValue:l.depositToken.token,isValidValue:_,delay:400,onInput:function(){var e=Object(c.a)(h.a.mark((function e(t){var n,a,i,s,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j.a.utils.isAddress(t.toLowerCase())){e.next=4;break}return J(!1),console.log("".concat(t," is not a valid address.")),e.abrupt("return");case 4:return t=j.a.utils.toChecksumAddress(t),J(!0),G(!0),e.prev=7,e.next=10,de.tokenFinder.findAll(t);case 10:if(0!=(n=e.sent).length){e.next=13;break}return e.abrupt("return");case 13:return a=Q(n),i=n[a],v(i),e.next=18,de.farm.getTokenPriceInDepositToken(i,l);case 18:return s=e.sent,N(s),e.next=22,de.iziSwap.getTokenPriceInStableToken(t,i.info.details.decimals,i.isLiquidityToken);case 22:o=e.sent,B(o),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(7),v(void 0),console.error("Token selection error.",e.t0);case 30:return e.prev=30,G(!1),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[7,26,30,33]])})));return function(t){return e.apply(this,arguments)}}()}),Object(k.jsx)("span",{className:"text-[0.75em] font-medium text-right",children:H?Object(k.jsx)("span",{className:"animate-pulse",children:"Fetching..."}):x?"".concat(X(x)," @ ").concat(y.getSwapRouterName(de.chainId,x.info.router)):"-"})]}),Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-0.5",children:[Object(k.jsxs)("div",{className:"flex items-center justify-between leading-6",children:[Object(k.jsxs)("span",{className:"input-label",children:["Amount:",Object(k.jsxs)("span",{className:"ml-1",children:["(",Object(k.jsx)(L,{main:de.convert.formatPercentage(A),mainUnit:"%",mainClassName:"text-[0.875em]",mainUnitClassName:"ml-0.5"}),")"]})]}),Object(k.jsxs)("span",{className:"input-label",children:["Balance:",Object(k.jsx)(L,{main:x?de.convert.formatCurrency(de.convert.fromWei(x.senderBalance,x.info.details.decimals),x.info.details.decimals):"-",mainUnit:x?X(x):"-",mainClassName:"text-[0.875em] ml-1",mainUnitClassName:"ml-0.5"})]})]}),Object(k.jsxs)("div",{className:"".concat(H?"animate-pulse":""),children:[Object(k.jsx)(we,{isDisabled:H,min:0,max:x?de.convert.fromWei(x.senderBalance,x.info.details.decimals):0,decimals:x?Math.min(4,x.info.details.decimals):0,setValue:W,setPercentage:q,valueClassName:"text-indigo-900 border-indigo-300/50 focus:ring-indigo-300/50",rangeClassName:"accent-indigo-900"}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 mt-3",children:[Object(k.jsx)("div",{className:"justify-self-end",children:Object(k.jsx)(L,{main:de.convert.formatDepositToken(D*w,l),mainUnit:de.farm.getDepositTokenSymbol(l),mainClassName:"text-[0.875em]"})}),Object(k.jsx)("div",{className:"justify-self-start",children:Object(k.jsx)(L,{main:de.convert.formatStableToken(D*I),mainUnit:de.contracts.stableToken.symbol,mainClassName:"text-[0.875em]"})})]})]})]})]}),title:i,info:Object(k.jsx)(ye,{isTooltip:!0,children:K,icon:"bi-info"}),submitButtonText:s,isSubmitButtonDisabled:H||D<=0,submitted:Object(c.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=de.convert.toWei(D*w,l.depositToken.details.decimals),e.next=3,o(x,D,t);case 3:case"end":return e.stop()}}),e)}))),canceled:r});function Q(e){if(0!=e.length){for(var t,n,a=0;a<e.length;++a){var i=de.convert.fromWei(e[a].reserveInfo.reserve0,e[a].info.details.decimals),s=de.convert.fromWei(e[a].reserveInfo.reserve1,e[a].info.details.decimals),o=i*s;(!n||o>n)&&(t=a,n=o)}return t}}function X(e){return e.isLiquidityToken?"".concat(e.token0Details.symbol,"/").concat(e.token1Details.symbol):e.info.details.symbol}}function $e(e){var t=e.isOpen,n=e.setIsOpen,i=e.title,s=e.submitButtonText,o=e.submitted,r=e.canceled,c=e.balance,l=e.priceInStableToken,p=e.decimals,m=Object(a.useState)(0),u=Object(g.a)(m,2),d=u[0],b=u[1],h=Object(a.useState)(0),f=Object(g.a)(h,2),j=f[0],x=f[1];return Object(k.jsx)(U,{isOpen:t,setIsOpen:n,disableBackgroundCancel:!1,body:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"flex items-center justify-between input-label",children:[Object(k.jsxs)("span",{children:["Amount: (",Object(k.jsxs)("span",{className:"numeric",children:[de.convert.formatPercentage(j),"%"]}),")"]}),Object(k.jsxs)("span",{children:["Balance: ",Object(k.jsx)("span",{className:"numeric",children:de.convert.formatCurrency(c,p)})]})]}),Object(k.jsx)(we,{min:0,max:c,decimals:p,setValue:b,setPercentage:x,valueClassName:"text-indigo-900 border-indigo-300/50 focus:ring-indigo-300/50",rangeClassName:"accent-indigo-900"}),Object(k.jsx)("div",{className:"mt-3 text-center",children:Object(k.jsx)(L,{main:l?de.convert.formatMainToken(d*l):"-",mainUnit:de.contracts.stableToken.symbol,mainClassName:"text-[0.875em]"})})]}),title:i,submitButtonText:s,submitted:function(){return o(d)},canceled:r})}Ee.defaultProps={liquidate:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},ze.defaultProps={liquidate:function(){var e=Object(c.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ke.defaultProps={delay:400,onInput:function(){}};var et=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={blockTime:void 0,tokenPriceInStableToken:void 0,tokenPriceInNativeToken:void 0,nativeTokenPriceInStableToken:void 0,token:void 0,games:void 0,farm:void 0,showBuyCryptoDialog:!1,showSwapDialog:!1,showRouterApproveDialog:{show:!1,callback:null},showGameApproveDialog:{show:!1,callback:null},showGameHarvestDialog:{show:!1,balance:0,callback:null},showGameCompoundDialog:{show:!1,gameId:-1,balance:0,callback:null},showGameBetDialog:{show:!1,gameId:-1,balance:0,callback:null},showFarmApproveDialog:{show:!1,callback:null},showFarmDepositDialog:{show:!1,symbol:null,balance:0,depositTokenPriceInStableToken:0,callback:null},showFarmWithdrawDialog:{show:!1,symbol:null,balance:0,creditTokenPriceInStableToken:0,callback:null},showToken:(e.showComponent&ke.Token)===ke.Token,showGames:(e.showComponent&ke.Games)===ke.Games,showFarms:(e.showComponent&ke.Farms)===ke.Farms,showLiquidatables:(e.showComponent&ke.Liquidatables)===ke.Liquidatables},a.blockLength=10,a.onTick=a.onTick.bind(Object(m.a)(a)),a.showComponent=a.showComponent.bind(Object(m.a)(a)),a.swap=a.swap.bind(Object(m.a)(a)),a.harvestPendingReward=a.harvestPendingReward.bind(Object(m.a)(a)),a.gameBet=a.gameBet.bind(Object(m.a)(a)),a.gameCompound=a.gameCompound.bind(Object(m.a)(a)),a.farmDeposit=a.farmDeposit.bind(Object(m.a)(a)),a.farmWithdraw=a.farmWithdraw.bind(Object(m.a)(a)),a}return Object(p.a)(n,[{key:"componentDidMount",value:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:if(!e.sent){e.next=4;break}console.log("Initialized on component mount.");case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"componentDidUpdate",value:function(){var e=Object(c.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initialize();case 2:if(!e.sent){e.next=4;break}console.log("Initialized on component update.");case 4:this.props.showComponent!=t.showComponent&&this.showComponent(this.props.showComponent);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initialize",value:function(){var e=Object(c.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isInitializing){e.next=2;break}return e.abrupt("return",!1);case 2:if(this.isInitializing=!0,e.prev=3,!this.context.chainId){e.next=20;break}if(!this.context.reader){e.next=19;break}if(de.init(this.context),this.timerId){e.next=19;break}if(null===(t=this.props.interval)||void 0===t){e.next=12;break}e.t0=t,e.next=16;break;case 12:return e.next=14,de.block.getAverageBlockTime(this.blockLength);case 14:e.t1=e.sent,e.t0=1e3*e.t1;case 16:return n=e.t0,this.startTimer(n),e.abrupt("return",!0);case 19:this.context.signer&&de.init(this.context);case 20:return e.abrupt("return",!1);case 21:return e.prev=21,this.isInitializing=!1,e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[3,,21,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"startTimer",value:function(e){var t=this;this.timerId=setInterval(Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.onTick();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),e),console.log("Started timer: ".concat(this.timerId,"; Interval: ").concat(e," ms"))}},{key:"stopTimer",value:function(){var e=this.timerId;e&&(clearInterval(e),this.timerId=void 0,console.log("Stopped timer: ".concat(e)))}},{key:"render",value:function(){var e=this,t=!this.state.showGames&&!this.state.showFarms&&!this.state.showLiquidatables;return Object(k.jsxs)("main",{className:"mt-3 grid grid-cols-1 gap-y-10 mx-auto",children:[this.state.showToken&&this.state.token?Object(k.jsx)(a.Fragment,{children:Object(k.jsx)(Oe,{showCompact:!0,showHeader:t,showHarvestButton:t||this.state.showGames,token:this.state.token,priceInNativeToken:this.state.tokenPriceInNativeToken,priceInStableToken:this.state.tokenPriceInStableToken,harvestPendingReward:this.harvestPendingReward,blockTime:this.state.blockTime})},"token"):this.state.showToken&&Object(k.jsx)(K,{title:"Loading token snapshot"}),!t&&Object(k.jsxs)("div",{className:"flex items-center justify-between gap-x-5",children:[Object(k.jsxs)("button",{type:"button",className:"min-w-fit w-fit h-9 px-3 ".concat(this.state.showToken?"-my-5":""," font-semibold btn btn-indigo text-[80%]"),onClick:function(){e.setState({showBuyCryptoDialog:!0})},children:["Buy Crypto ",Object(k.jsx)("i",{className:"bi bi-credit-card"})]}),this.state.token&&Object(k.jsxs)("button",{type:"button",className:"min-w-fit w-fit h-9 px-3 ".concat(this.state.showToken?"-my-5":""," font-semibold btn btn-rose text-[80%]"),onClick:function(){e.setState({showSwapDialog:!0})},children:["Buy ",de.contracts.token.symbol]})]}),this.state.showToken&&t&&this.state.token&&this.state.tokenPriceInNativeToken&&this.state.tokenPriceInStableToken&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-5 gap-y-10",children:[Object(k.jsx)("div",{className:"card bg-weeb-card1/20 bg-diagonal-lines",children:Object(k.jsx)(Se,{nativeCoinBalance:this.context.balance,token:this.state.token,nativeTokenPriceInStableToken:this.state.nativeTokenPriceInStableToken,swap:function(){var t=Object(c.a)(h.a.mark((function t(n,a,i,s){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.swap(n,a,i,s);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),alert(JSON.stringify(t.t0));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,n,a,i){return t.apply(this,arguments)}}()})}),Object(k.jsx)("div",{className:"card bg-weeb-card1/20 bg-diagonal-lines",children:Object(k.jsx)(Ce,{balance:de.convert.fromWeiMainToken(this.state.token.senderFreeBalance),transfer:function(){var e=Object(c.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.token.transfer(t,n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(JSON.stringify(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n){return e.apply(this,arguments)}}()})})]}),Object(k.jsxs)("div",{className:"grid grid-cols-1 gap-y-5",children:[Object(k.jsx)("div",{className:"flex items-center justify-center group-title opacity-75 light-box h-9 px-2",children:Object(k.jsx)("span",{children:"Calculators"})}),Object(k.jsx)(Fe,{token:this.state.token,priceInNativeToken:this.state.tokenPriceInNativeToken,priceInStableToken:this.state.tokenPriceInStableToken,blockTime:this.state.blockTime})]})]}),this.state.showGames&&this.state.showToken&&this.state.token&&this.state.games?Object(k.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-5 gap-y-10",children:this.getGameCards()}):this.state.showGames&&this.state.showToken&&Object(k.jsx)(K,{type:"cloud"}),this.state.showFarms&&this.state.token&&this.state.farm?Object(k.jsx)(qe,{farm:this.state.farm,nativeTokenPriceInStableToken:this.state.nativeTokenPriceInStableToken,deposit:this.farmDeposit,withdraw:this.farmWithdraw,blockTime:this.state.blockTime}):this.state.showFarms&&Object(k.jsx)(K,{type:"cloud"}),this.state.showLiquidatables&&this.state.token&&this.state.farmLiquidatables?Object(k.jsx)(a.Fragment,{children:Object(k.jsx)(ze,{farm:this.state.farmLiquidatables,nativeTokenPriceInStableToken:this.state.nativeTokenPriceInStableToken,blockTime:this.state.blockTime,buyWeeb:this.farmBuyWeebInternal})},"farmLiquidatables"):this.state.showLiquidatables&&Object(k.jsx)(K,{type:"cloud"}),this.state.showBuyCryptoDialog&&Object(k.jsx)(He,{isOpen:this.state.showBuyCryptoDialog,setIsOpen:function(){e.setState({showBuyCryptoDialog:!1})},canceled:function(){e.setState({showBuyCryptoDialog:!1})}}),this.state.showSwapDialog&&Object(k.jsx)(Ge,{isOpen:this.state.showSwapDialog,setIsOpen:function(){e.setState({showSwapDialog:!1})},nativeCoinBalance:this.context.balance,token:this.state.token,nativeTokenPriceInStableToken:this.state.nativeTokenPriceInStableToken,swap:function(){var t=Object(c.a)(h.a.mark((function t(n,a,i,s){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.swap(n,a,i,s);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),alert(JSON.stringify(t.t0));case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e,n,a,i){return t.apply(this,arguments)}}(),canceled:function(){e.setState({showSwapDialog:!1})}}),this.state.showRouterApproveDialog.show&&Object(k.jsx)(Ve,{isOpen:this.state.showRouterApproveDialog.show,setIsOpen:function(){e.setState({showRouterApproveDialog:{show:!1}})},submitted:Object(c.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.showRouterApproveDialog.callback,e.setState({showRouterApproveDialog:{show:!1}}),t.next=4,n();case 4:case"end":return t.stop()}}),t)}))),canceled:function(){e.setState({showRouterApproveDialog:{show:!1}})}}),this.state.showGameApproveDialog.show&&Object(k.jsx)(Ye,{isOpen:this.state.showGameApproveDialog.show,setIsOpen:function(){e.setState({showGameApproveDialog:{show:!1}})},submitted:Object(c.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.showGameApproveDialog.callback,e.setState({showGameApproveDialog:{show:!1}}),t.next=4,n();case 4:case"end":return t.stop()}}),t)}))),canceled:function(){e.setState({showGameApproveDialog:{show:!1}})}}),this.state.showGameHarvestDialog.show&&Object(k.jsx)(Qe,{isOpen:this.state.showGameHarvestDialog.show,setIsOpen:function(){e.setState({showGameHarvestDialog:{show:!1}})},title:"Harvest Pending Reward",submitButtonText:"Harvest",submitted:function(){var t=Object(c.a)(h.a.mark((function t(n,a,i,s,o){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.showGameHarvestDialog.callback,e.setState({showGameHarvestDialog:{show:!1}}),t.next=4,r(n,s);case 4:case"end":return t.stop()}}),t)})));return function(e,n,a,i,s){return t.apply(this,arguments)}}(),canceled:function(){e.setState({showGameHarvestDialog:{show:!1}})},games:this.state.games,defaultGameId:"0",defaultOutcome:"0",balance:this.state.showGameHarvestDialog.balance,enableGameSelection:!0,enableAmountEntry:!1,token:this.state.token}),this.state.showGameCompoundDialog.show&&Object(k.jsx)(Qe,{isOpen:this.state.showGameCompoundDialog.show,setIsOpen:function(){e.setState({showGameCompoundDialog:{show:!1}})},title:"Compound / Bet the Prize",submitButtonText:"Bet",submitted:function(){var t=Object(c.a)(h.a.mark((function t(n,a,i,s,o){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.showGameCompoundDialog.callback,e.setState({showGameCompoundDialog:{show:!1}}),t.next=4,r(n,s);case 4:case"end":return t.stop()}}),t)})));return function(e,n,a,i,s){return t.apply(this,arguments)}}(),canceled:function(){e.setState({showGameCompoundDialog:{show:!1}})},games:this.state.games,defaultGameId:this.state.showGameCompoundDialog.gameId,defaultOutcome:0,balance:this.state.showGameCompoundDialog.balance,enableGameSelection:!1,enableAmountEntry:!1,token:this.state.token}),this.state.showGameBetDialog.show&&Object(k.jsx)(Qe,{isOpen:this.state.showGameBetDialog.show,setIsOpen:function(){e.setState({showGameBetDialog:{show:!1}})},title:"Place a Bet",submitButtonText:"Bet",submitted:function(){var t=Object(c.a)(h.a.mark((function t(n,a,i,s,o){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.state.showGameBetDialog.callback,e.setState({showGameBetDialog:{show:!1}}),t.next=4,r(n,a,i,s,o);case 4:case"end":return t.stop()}}),t)})));return function(e,n,a,i,s){return t.apply(this,arguments)}}(),canceled:function(){e.setState({showGameBetDialog:{show:!1}})},games:this.state.games,defaultGameId:this.state.showGameBetDialog.gameId,defaultOutcome:0,balance:this.state.showGameBetDialog.balance,enableGameSelection:!1,enableAmountEntry:!0,token:this.state.token}),this.state.showFarmApproveDialog.show&&Object(k.jsx)(Xe,{isOpen:this.state.showFarmApproveDialog.show,setIsOpen:function(){e.setState({showFarmApproveDialog:{show:!1}})},submitted:Object(c.a)(h.a.mark((function t(){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.showFarmApproveDialog.callback,e.setState({showFarmApproveDialog:{show:!1}}),t.next=4,n();case 4:case"end":return t.stop()}}),t)}))),canceled:function(){e.setState({showFarmApproveDialog:{show:!1}})}}),this.state.showFarmDepositDialog.show&&Object(k.jsx)(Ze,{isOpen:this.state.showFarmDepositDialog.show,setIsOpen:function(){e.setState({showFarmDepositDialog:{show:!1}})},title:"Deposit (".concat(this.state.showFarmDepositDialog.symbol,")"),submitButtonText:"Deposit",submitted:function(){var t=Object(c.a)(h.a.mark((function t(n,a,i){var s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=e.state.showFarmDepositDialog.callback,e.setState({showFarmDepositDialog:{show:!1}}),t.next=4,s(n,a,i);case 4:case"end":return t.stop()}}),t)})));return function(e,n,a){return t.apply(this,arguments)}}(),canceled:function(){e.setState({showFarmDepositDialog:{show:!1}})},pool:this.state.showFarmDepositDialog.pool}),this.state.showFarmWithdrawDialog.show&&Object(k.jsx)($e,{isOpen:this.state.showFarmWithdrawDialog.show,setIsOpen:function(){e.setState({showFarmWithdrawDialog:{show:!1}})},title:"Withdraw (".concat(this.state.showFarmWithdrawDialog.symbol,")"),submitButtonText:"Withdraw",submitted:function(){var t=Object(c.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.showFarmWithdrawDialog.callback,e.setState({showFarmWithdrawDialog:{show:!1}}),t.next=4,a(n);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),canceled:function(){e.setState({showFarmWithdrawDialog:{show:!1}})},balance:this.state.showFarmWithdrawDialog.balance,priceInStableToken:this.state.showFarmWithdrawDialog.creditTokenPriceInStableToken,decimals:4})]})}},{key:"onTick",value:function(){var e=Object(c.a)(h.a.mark((function e(){var t,n,a,i,s,o,r,c,l,p,m,u;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([de.block.getAverageBlockTime(this.blockLength),de.router.getMainTokenPriceInStableToken(),de.router.getNativeTokenPriceInStableToken(),de.pair.getMainTokenReserves(),de.token.getTokenSnapshot(),this.state.showToken?de.game.getSnapshots(1):Promise.resolve(void 0),this.state.showFarms?de.farm.getSnapshot(1):Promise.resolve(void 0),this.state.showLiquidatables?de.farm.getLiquidatablesSnapshot(255):Promise.resolve(void 0)]);case 3:if(t=e.sent,n=Object(g.a)(t,8),a=n[0],i=n[1],s=n[2],o=n[3],r=n[4],c=n[5],l=n[6],p=n[7],this.state.showToken)for(m=new Map,u=0;u<c.length;++u)m.set(c[u].gameId,c[u]);this.setState({blockTime:a,tokenPriceInStableToken:i,tokenPriceInNativeToken:o.nativeTokenReserve/o.tokenReserve,nativeTokenPriceInStableToken:s,token:Object(J.a)(Object(J.a)({},r),{},{contractAddress:de.contracts.token.address,tokenReserve:o.tokenReserve,nativeTokenReserve:o.nativeTokenReserve},de.pair.getMainTokenInitialReserves()),games:m,farm:this.state.showFarms?l:void 0,farmLiquidatables:this.state.showLiquidatables?p:void 0}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"showComponent",value:function(e){this.setState({showToken:(e&ke.Token)===ke.Token,showGames:(e&ke.Games)===ke.Games,showFarms:(e&ke.Farms)===ke.Farms,showLiquidatables:(e&ke.Liquidatables)===ke.Liquidatables})}},{key:"getGameCards",value:function(){var e=this,t=de.convert.fromWeiNativeToken(this.state.token.senderFreeBalance),n=[];return this.state.games.forEach((function(a){n.push(Object(k.jsx)("div",{className:"max-h-full",children:Object(k.jsx)(Re,{game:a,balance:t,priceInStableToken:e.state.tokenPriceInStableToken,bet:function(){return e.gameBet(a.gameId)},compound:function(){return e.gameCompound(a.gameId)},claim:function(){return de.game.claim(a.gameId)},senderPoolSnapshots:function(e,t){return de.game.getSenderPoolSnapshots(a.gameId,e,t)},blockTime:e.state.blockTime})},a.gameId))})),n}},{key:"swap",value:function(){var e=Object(c.a)(h.a.mark((function e(t,n,a,i){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=5;break}return e.next=3,de.router.swapNativeTokenForMainToken(t,n,a);case 3:e.next=13;break;case 5:return e.next=7,de.token.isAllowanceSatisfied(de.readers.router.options.address,de.convert.toWeiMainToken(t));case 7:if(!e.sent){e.next=11;break}return e.next=10,de.router.swapMainTokenForNativeToken(t,n,a);case 10:return e.abrupt("return");case 11:s=function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.token.isAllowanceSatisfied(de.readers.router.options.address,de.convert.toWeiMainToken(t));case 2:if(e.sent){e.next=5;break}return e.next=5,de.token.approveRouter();case 5:return e.next=7,de.router.swapMainTokenForNativeToken(t,n,a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),this.setState({showRouterApproveDialog:{show:!0,callback:s}});case 13:case"end":return e.stop()}}),e,this)})));return function(t,n,a,i){return e.apply(this,arguments)}}()},{key:"harvestPendingReward",value:function(){var e=Object(c.a)(h.a.mark((function e(){var t,n=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.token.isDirectlyHarvestable){e.next=5;break}return e.next=3,de.token.harvestPendingReward();case 3:e.next=10;break;case 5:if(this.state.games&&0!==this.state.games.size){e.next=8;break}return console.log("No game found."),e.abrupt("return");case 8:t=function(){var e=Object(c.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.game.isAllowanceSatisfied(n.state.token.senderPendingReward);case 2:if(e.sent){e.next=6;break}n.setState({showGameApproveDialog:{show:!0,callback:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.token.approveGame();case 2:return e.next=4,de.game.harvestPendingReward(t,a);case 4:n.showComponent(ke.Token|ke.Games);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}),e.next=9;break;case 6:return e.next=8,de.game.harvestPendingReward(t,a);case 8:n.showComponent(ke.Token|ke.Games);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.setState({showGameHarvestDialog:{show:!0,balance:de.convert.fromWeiMainToken(this.state.token.senderFreeBalance),callback:t}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gameBet",value:function(){var e=Object(c.a)(h.a.mark((function e(t){var n,a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(){var e=Object(c.a)(h.a.mark((function e(t,n,i,s,o){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.game.isAllowanceSatisfied(a.state.token.senderPendingReward);case 2:if(e.sent){e.next=6;break}a.setState({showGameApproveDialog:{show:!0,callback:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.token.approveGame();case 2:return e.next=4,de.game.bet(t,n,i,s,o);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}),e.next=8;break;case 6:return e.next=8,de.game.bet(t,n,i,s,o);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a,i,s){return e.apply(this,arguments)}}(),this.setState({showGameBetDialog:{show:!0,gameId:t,balance:de.convert.fromWeiMainToken(this.state.token.senderFreeBalance),callback:n}});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"gameCompound",value:function(){var e=Object(c.a)(h.a.mark((function e(t){var n,a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=function(){var e=Object(c.a)(h.a.mark((function e(t,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.game.isAllowanceSatisfied(a.state.token.senderPendingReward);case 2:if(e.sent){e.next=6;break}a.setState({showGameApproveDialog:{show:!0,callback:function(){var e=Object(c.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.token.approveGame();case 2:return e.next=4,de.game.compound(t,n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}),e.next=8;break;case 6:return e.next=8,de.game.compound(t,n);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.setState({showGameCompoundDialog:{show:!0,gameId:t,balance:de.convert.fromWeiMainToken(this.state.token.senderFreeBalance),callback:n}});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"farmDeposit",value:function(){var e=Object(c.a)(h.a.mark((function e(t,n){var a,i,s=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.state.farm.pools[t],i=function(){var e=Object(c.a)(h.a.mark((function e(n,i,o){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de.farm.isAllowanceSatisfied(a,o);case 2:if(e.sent){e.next=6;break}s.setState({showFarmApproveDialog:{show:!0,callback:function(){var e=Object(c.a)(h.a.mark((function e(){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=ie(de.signer,a.isLiquidityToken?Q:oe,a.depositToken.token,{from:de.account}),e.next=3,de.farm.approveFarm(s);case 3:return e.next=5,de.farm.deposit(t,n,i,a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}),e.next=8;break;case 6:return e.next=8,de.farm.deposit(t,n,i,a);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.setState({showFarmDepositDialog:{show:!0,symbol:de.farm.getDepositTokenSymbol(a),balance:de.convert.fromWei(a.senderBalance,a.depositToken.details.decimals),depositTokenPriceInStableToken:n,pool:a,callback:i}});case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"farmWithdraw",value:function(){var e=Object(c.a)(h.a.mark((function e(t,n){var a,i,s=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.state.farm.pools[t],i=function(){var e=Object(c.a)(h.a.mark((function e(n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=de.convert.toWei(n,s.state.farm.creditToken.details.decimals),e.next=3,de.farm.withdraw(t,a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setState({showFarmWithdrawDialog:{show:!0,symbol:de.farm.getDepositTokenSymbol(a),balance:de.convert.fromWei(a.senderPosition.credited,this.state.farm.creditToken.details.decimals),creditTokenPriceInStableToken:n,callback:i}});case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(a.Component);function tt(){return Object(k.jsxs)(_.c,{children:[Object(k.jsx)(_.a,{path:"/",element:Object(k.jsx)(et,{showComponent:ke.Token})}),Object(k.jsx)(_.a,{path:"Games",element:Object(k.jsx)(et,{showComponent:ke.Token|ke.Games})}),Object(k.jsx)(_.a,{path:"Farms",element:Object(k.jsx)(et,{showComponent:ke.Token|ke.Farms})}),Object(k.jsx)(_.a,{path:"Liquidatables",element:Object(k.jsx)(et,{showComponent:ke.Liquidatables})})]})}function nt(){return Object(k.jsx)("div",{className:"pt-16 pb-6",children:Object(k.jsxs)("div",{className:"flex flex-row items-center justify-center space-x-10 text-[28px]",children:[Object(k.jsx)("a",{href:"https://twitter.com/WeebFi",target:"_blank",children:Object(k.jsx)("i",{className:"bi bi-twitter"})}),Object(k.jsx)("a",{href:"https://t.me/WeebFi",target:"_blank",children:Object(k.jsx)("i",{className:"bi bi-telegram"})})]})})}et.defaultProps={interval:void 0,showComponent:ke.Token},et.contextType=O;var at=function(){return Object(k.jsx)(r.a,{children:Object(k.jsxs)("div",{className:"lg:container mx-auto p-2 h-screen",children:[Object(k.jsxs)("div",{className:"bubble-set",children:[Object(k.jsx)("div",{className:"bubble-lg"}),Object(k.jsx)("div",{className:"bubble-md"}),Object(k.jsx)("div",{className:"bubble-sm"})]}),Object(k.jsx)(T,{children:Object(k.jsxs)("div",{className:"flex flex-col justify-between h-full",children:[Object(k.jsxs)("div",{className:"lg:text-[18px]",children:[Object(k.jsx)(Y,{}),Object(k.jsx)(tt,{})]}),Object(k.jsx)(nt,{})]})})]})})},it=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,783)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),i(e),s(e),o(e)}))};o.a.render(Object(k.jsx)(i.a.StrictMode,{children:Object(k.jsx)(at,{})}),document.getElementById("root")),it()},93:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getReserves","outputs":[{"internalType":"uint112","name":"reserve0","type":"uint112"},{"internalType":"uint112","name":"reserve1","type":"uint112"},{"internalType":"uint32","name":"blockTimestampLast","type":"uint32"}],"stateMutability":"view","type":"function"}]')}},[[772,1,2]]]);
//# sourceMappingURL=main.283b7087.chunk.js.map