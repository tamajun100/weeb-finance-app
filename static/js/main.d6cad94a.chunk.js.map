{"version":3,"sources":["utils/Web3Converter.js","Configuration.js","contexts/WalletContext.js","utils/Format.js","components/dapp/dialogs/core/ModalDialog.js","components/InfoBox.js","components/dapp/dialogs/WalletDialog.js","components/dapp/dialogs/ConnectDialog.js","components/Wallet.js","components/Links.js","components/Navbar.js","Spinner.js","components/dapp/core/Contracts.js","utils/Utils.js","components/dapp/core/Services.js","utils/InterestExtensions.js","components/StyledPopover.js","components/dapp/Enums.js","components/dapp/Token.js","utils/PriceExtensions.js","components/dapp/dialogs/core/RangeInput.js","components/dapp/dialogs/core/DelayedInput.js","components/dapp/Swap.js","components/dapp/Transfer.js","components/dapp/InflowOutflowCalculator.js","components/dapp/TargetPriceCalculator.js","components/dapp/RewardCalculator.js","components/dapp/TokenCalculators.js","components/dapp/GameExtensions.js","components/dapp/Game.js","components/dapp/FarmPoolExtensions.js","components/dapp/FarmPool.js","components/dapp/FarmPools.js","components/dapp/FarmLiquidatable.js","components/dapp/FarmLiquidatables.js","components/dapp/dialogs/BuyCryptoDialog.js","components/dapp/dialogs/SwapDialog.js","components/dapp/dialogs/ApproveRouterDialog.js","components/dapp/dialogs/ApproveHarvesterDialog.js","components/dapp/dialogs/OutcomeList.js","components/dapp/dialogs/GameList.js","components/dapp/dialogs/core/PredefinedValueSelector.js","components/dapp/dialogs/GameBetDialog.js","components/dapp/dialogs/ApproveFarmDialog.js","components/dapp/dialogs/FarmDepositDialog.js","components/dapp/dialogs/AmountSelectionDialog.js","components/dapp/Main.js","components/dapp/Test.js","components/Routes.js","components/Footer.js","App.js","reportWebVitals.js","index.js"],"names":["BN","require","numberToBN","zero","negative1","getValueOfUnit","decimals","pow","numberToString","arg","match","Error","String","toString","toTwos","dividedToIntegerBy","toPrecision","module","exports","fromWei","weiInput","optionsInput","wei","negative","lt","base","baseLength","options","mul","fraction","mod","length","pad","whole","div","commify","replace","value","toWei","etherInput","ether","substring","comps","split","add","Configuration","appsettings","projectName","defaultChainId","parseFloat","percentageYieldInvestmentInStablecoin","slippageTolerance","walletPingInterval","moralisApiKey","infuraProjectId","chainId","chains","getChain","nativeCoin","contracts","getContracts","nativeToken","stableToken","swapRouters","defaultSwapRouter","address","getSwapRouters","name","swapFee","map","Map","Object","entries","key","parseInt","getChains","rpcUri","getRpcUris","blockExplorerLink","getBlockExplorerLinks","initialLiquidity","WalletContext","React","createContext","WalletProvider","props","state","self","balance","setBalance","b","setState","disconnect","bind","isInjectedProviderInstalled","getProvider","initializeProvider","initializeWalletConnectProvider","handleChainChanged","handleAccountsChanged","handleChainChangedInternal","handleDisconnect","addEthereumChain","switchOrAddEthereumChain","a","isMobileDevice","test","navigator","userAgent","this","initializeInjectedProvider","getDefaultChainId","signer","givenProvider","unsubscribeProvider","Provider","children","account","undefined","window","ethereum","web3","currentProvider","provider","createWeb3","subscribeProvider","request","method","hexChainId","accounts","error","console","log","WalletConnectProvider","rpc","infuraId","getInfuraProjectId","qrcode","connector","on","err","payload","uri","params","enable","walletMeta","code","message","removeListener","reader","getRpcUri","isSupportedChain","updateReader","Web3","utils","hexToNumber","connected","reason","source","close","then","catch","chainName","nativeCurrencyName","nativeCurrencySymbol","nativeCurrencyDecimals","rpcUrls","blockExplorerUrls","iconUrls","isHex","numberToHex","p","nativeCurrency","symbol","isHexStrict","eth","extend","methods","call","outputFormatter","Component","formatAccount","formatNumber","number","maxDecimals","minDecimals","result","Intl","NumberFormat","maximumFractionDigits","minimumFractionDigits","format","formatInteger","formatPercentage","assert","formatNumberScaled","Math","min","formatCurrency","currencyDecimals","ModalDialog","style","size","isVerticallyCentered","isScrollable","fullscreen","isOpen","setIsOpen","disableBackgroundCancel","contentStyle","header","body","footer","title","hideTitle","info","hideCloseButton","description","submitButtonText","hideSubmitButton","isSubmitButtonDisabled","cancelButtonText","hideCancelButton","submitted","canceled","className","open","onClose","Overlay","Title","type","onClick","Description","disabled","TitleText","titleClassName","MainText","main","mainClassName","mainUnit","mainUnitClassName","isUnitOnTop","DetailText","detail","detailClassName","detailUnit","detailUnitClassName","InfoText","infoClassName","InfoBox","containerClassName","lineHeight","PriceBox","mainRaw","isMainUnitOnTop","defaultProps","WalletDialog","context","useState","qrCode","setQrCode","useEffect","QRCode","toDataURL","color","dark","light","url","chain","getNativeCoin","src","clipboard","writeText","ConnectDialog","href","target","Wallet","showWalletDialog","showConnectDialog","onTick","initialize","stopTimer","isInitializing","timerId","startTimer","setInterval","interval","clearInterval","getBalance","Links","to","activeclassname","Navbar","isNavbarCollapsed","setIsNavbarCollapsed","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","index","indexOf","parts","delimiter","i","getRoot","location","getWalletPingInterval","contextType","Spinner","cx","cy","r","role","createReaderContract","abi","Contract","createSignerContract","MAX_UINT256","contains","str1","str2","RegExp","sleep","ms","Promise","resolve","setTimeout","promisify","inner","reject","res","waitMined","txHash","cb","getTransactionReceipt","receipt","init","readers","from","pair","IUniswapV2Pair","liquidityToken","router","IUniswapV2Router02","token","WeebToken","game","WeebGame","farm","WeebFarm","tokenFinder","TokenFinder","iziSwap","IziSwap","createReaders","signers","createSigners","settings","slippageToleranceKey","getSlippageTolerance","localStorage","getItem","setSlippageTolerance","setItem","getTokenListUri","toHex","convert","formatDateTime","date","Date","toISOString","formatTimespan","timespan","h","m","s","hh","mm","ss","fromWeiNativeCoin","fromWeiNativeToken","fromWeiStableToken","fromWeiMainToken","trimToDecimals","toFixed","count","substr","toWeiNativeCoin","toWeiNativeToken","toWeiStableToken","toWeiMainToken","pool","depositToken","details","_format","formatToken","block","getBlock","blockId","getAverageBlockTime","blockF","now","blockI","blockTime","timestamp","getTokenReserves","tokenAddress","isTokenFirst","toBN","cmp","getReserves","reserves","tokenReserve","reserve0","nativeTokenReserve","reserve1","getMainTokenReserves","getMainTokenInitialReserves","getInitialLiquidity","initialTokenReserve","initialNativeTokenReserve","quote","sourceRouter","sourceToken","isSourceLiquidityToken","sourceTokenAmount","targetRouter","targetToken","isTargetLiquidityToken","swap","deadline","amountOutMin","send","getTokenPriceInStableToken","isLiquidityToken","depositRouter","getDefaultSwapRouter","creditRouter","amount","getTokenPriceInMainToken","getAmountsOut","amounts","getMainTokenPriceInStableToken","getNativeTokenPriceInStableToken","getMainTokenAmountFromNativeCoin","nativeCoinAmountIn","getNativeCoinAmountFromMainToken","mainTokenAmountIn","swapNativeTokenForMainToken","tokenAmountOutMin","recipient","swapExactETHForTokensSupportingFeeOnTransferTokens","swapMainTokenForNativeToken","amountNativeTokenOutMin","swapExactTokensForETHSupportingFeeOnTransferTokens","balanceOf","IERC20","transfer","getAllowance","owner","spender","allowance","getTokenSnapshot","senderTokenSnapshot","harvestPendingReward","approveRouter","approve","approveGame","isAllowed","minAmount","eq","isAllowanceSatisfied","getSnapshots","isEnabled","senderGameSnapshots","getSenderBetPoolCount","gameId","senderBetPoolCount","getSenderPoolSnapshots","offset","senderPoolSnapshots","getSenderBetPools","senderBetPools","betMainToken","outcome","bet","sourceAmount","gameTokenInfo","sourceAmountInWei","amountOut","amountMin","compound","claim","getDepositTokenSymbol","token0Details","token1Details","conversionRateOf","deposit","creditToken","approveFarm","getSnapshot","senderFarmSnapshot","getLiquidatablesSnapshot","senderFarmLiquidatablesSnapshot","REMOVE_deposit","poolId","withdraw","rebalance","liquidate","liquidateSenderUnchecked","liquidateAccount","investor","getTokenPriceInDepositToken","findAll","DAYS_IN_MONTH","DAYS_IN_YEAR","getDurationPercentageYield","rewardPerBlock","totalStaked","investment","duration","getRewardPerDay","_getRewardPerDay","getRewardPerDuration","StyledPopover","isTooltip","icon","referenceElement","setReferenceElement","popperElement","setPopperElement","usePopper","styles","attributes","as","Button","ref","Panel","popper","ShowComponentType","freeze","All","Token","Games","Farms","Liquidatables","isDetailed","showCompact","showHeader","isInteractionDisabled","toggleDetailedVisibility","execute","nativeTokenPriceInStableToken","priceInStableToken","priceInNativeToken","swapRouterName","getSwapRouterName","$","tokenExplorerUri","getBlockExplorerLink","contractAddress","senderBalance","senderLockedBalance","senderFreeBalance","senderPendingReward","maximumSupply","initialSupply","totalSupply","senderBalanceShare","totalLockedSupply","senderStakeShare","supplyInContracts","supplyInNonrewardables","totalRewarded","totalTransacted","total","seigniorageFee","rate","seigniorageFeeCollected","collected","seignioryExplorerUri","seigniory","reducedEmissionHolderLimit","isRegularEmission","holders","baseRewardPerBlock","maximumRewardPerBlock","currentRewardPerBlock","transferBurnRate","salesBaseBurnRate","salesMaximumBurnRate","currentSalesBurnRate","rebatableBurnRate","rebateMaximizingShare","rebateShareStepsize","regulationInterval","regulationTimestamp","priceAverage","rewardMultiplier","burnMultiplier","senderRebateRate","senderTransferBurnRate","senderSalesBurnRate","senderTotalRebated","senderTotalBurnt","maxRewardPerD","maxRewardPerW","maxRewardPerM","maxRewardPerY","currentRewardPerD","currentRewardPerW","currentRewardPerM","currentRewardPerY","senderMaxRewardPerD","senderMaxRewardPerW","senderMaxRewardPerM","senderMaxRewardPerY","senderCurrentRewardPerD","senderCurrentRewardPerW","senderCurrentRewardPerM","senderCurrentRewardPerY","pendingPoolReward","rewardLastDistributedBlock","blocksFromRewardLastDistributed","currentBlock","senderTotalHarvested","totalRebated","totalBurnt","totalHarvested","valueInStableToken","getPercentageYieldInvestmentInStablecoin","cdpy","cwpy","cmpy","capy","tooltipTotalLockedSupplyText","tooltipRewardMaximizingHoldersText","tooltipSenderTotalRebatedText","tooltipSeigniorageFeeText","popoverSenderBalanceContent","formatMainToken","formatStableToken","popoverSenderTransferBurnRateContent","popoverSenderSalesBurnRateContent","popoverCurrentRewardPerBlockContent","borderBottom","lastHarvest","rel","formatNativeToken","isSenderNonrewardable","isDirectHarvestingEnabled","isSenderDirectHarvester","showHarvestButton","autoFocus","getActivity","isSenderNonburnable","isSenderSeignory","transfers","values","push","holder","func","getAmountOut","amount0In","RangeInput","isDisabled","max","percentages","valueClassName","rangeClassName","buttonClassName","setValue","setPercentage","setValueInternal","x","getStep","isNaN","updateValues","n","mx","mn","onValueChanged","e","v","step","onInput","list","items","percentage","setPercentageFormatted","sizeCount","getSelectablePercentages","DelayedInput","delay","id","defaultValue","placeholder","input","setInput","clearTimeout","autoComplete","onChange","Swap","isDarkTheme","nativeCoinBalance","Mode","Buy","Sell","showSlippageTolerance","setShowSlippageTolerance","setIsInteractionDisabled","mode","setMode","setAmount","setRecipient","maxReceived","setMaxReceived","minReceived","setMinReceived","maxPriceImpact","setMaxPriceImpact","minPriceImpact","setMinPriceImpact","tokenBalance","tokenPriceInNativeToken","getSwapRouterSwapFee","finalTokenPriceInNativeToken","Group","checked","Label","formatNativeCoin","htmlFor","isAddress","toLowerCase","Transfer","InflowOutflowCalculator","tokenPriceInStableToken","None","Inflow","Outflow","targetPrice","setTargetPrice","assetAmountRequired","setAssetAmountRequired","factor","quoteAssetAmountRequired","reserveQuoteAsset","sqrt","getQuoteAssetInflowRequiredToIncreaseThePriceByFactorOf","baseAssetAmountRequired","reserveBaseAsset","getBaseAssetOutflowRequiredToDecreaseThePriceByFactorOf","TargetPriceCalculator","assetAmount","setAssetAmount","outflowBaseAssetAmount","inflowQuoteAssetAmount","RewardCalculator","maxRewardPerBlock","isMaximizedEmission","targetBalance","setTargetBalance","currentRewards","setCurrentRewards","maxRewards","setMaxRewards","TokenCalculators","fromWeiToken","isInflationRegulated","card","getOutcomeText","outcomeCount","getOutcomeImage","width","height","getRandomizeText","Game","showLastBetPool","showSenderLastBetPool","isPoolTotalsVisibile","showYourBetHistory","isLoading","tokenInfo","toggleLastBetPoolVisibility","toggleSenderLastBetPoolVisibility","togglePoolTotalsVisibility","toggleYourBetHistoryVisibility","loadSenderBetPools","minimumBet","isPercentage","unclaimedBalance","senderUnclaimedPrizeBN","senderUnclaimedPrize","winningBet","prize","isPrizeClaimable","currentBetPoolWinningPrize","currentBetPool","statement","senderPrize","currentBetPoolPot","allAggregatedBets","blocksToDraw","currentPoolId","blockLength","timeToDraw","totalPlacedBets","totalPosition","placedBets","totalClaimedBets","claimedBets","totalClaimedPrizes","claimedPrizes","senderAggregatedBets","senderLosingBets","senderPnL","isWinner","popoverGameContent","isCurrentBetPoolSenderUnderWin","isSenderUnderWin","getBetInfo","lastBetPool","senderLastBetPool","getBetPool","betPool","blocksFromDraw","lastBetPoolPot","lastBetPoolWinningPrize","isUnderWin","isWinnerText","winningStatement","allWinningBets","allLosingBets","senderWinningBets","winningBets","losingBets","allBets","bets","sum","payouts","getPayoutOf","getOutcomeNames","getBetCounts","getBetAmounts","getPayouts","senderBets","colSpan","getPopoverWinningStatementAllBetsDetail","getAllBets","getPopoverWinningStatementSenderBetsDetail","getSenderBets","show","loadSenderBetPoolsInternal","remaining","pools","slice","getSupportedSwapRouterName","supportedSwapRouters","FarmPool","formatDepositToken","formatCreditToken","popoverFarmPoolRef","createRef","tooltipSeigniorageFeeRef","depositTokenPriceInStableToken","creditTokenPriceInStableToken","creditMultiplier","depositFeeRate","depositFee","creditLiquidationRate","liquidatorFeeRate","liquidatorFee","senderDeposited","senderPosition","deposited","senderCredited","credited","senderLiquidated","liquidated","senderCreditLiquidationLevel","creditLiquidationLevel","senderCurrentCredit","requiresRebalancing","totalDeposited","totalCredited","totalLiquidated","updatedBlockId","senderTimeFromUpdate","totalTimeFromUpdate","popoverFarmPoolContent","investorCount","infoText","fontSize","FarmPools","SortBy","CreditMultiplier","DepositFee","CreditLiquidationRate","LiquidatorFee","Credited","SortDirection","Ascending","Descending","TokenType","Single","Liquidity","activePools","setActivePools","filter","setFilter","sortBy","setSortBy","sortDirection","setSortDirection","tokenType","setTokenType","totalLiquidityProvided","totalCreditSupplied","reduce","found","supportedSwapRouterName","depositTokenSymbol","sort","y","onSortByChanged","onSortDirectionChanged","onTokenTypeChanged","forEach","backgroundImage","getFarmPools","FarmLiquidatable","poolLiquidatable","totalLiquidity","totalLiquidatorFee","getPoolSelfTotals","fee","netLiquidatorFee","getFarmLiquidatables","investorLiquidatables","investorLiquidatable","isSelf","liquidity","liquidatables","liquidatable","prevState","FarmLiquidatables","poolLiquidatables","BuyCryptoDialog","frameBorder","allow","SwapDialog","ApproveRouterDialog","ApproveHarvesterDialog","OutcomeList","defaultOutcome","setOutcome","isActive","getOutcomeList","floor","random","GameList","games","defaultGameId","setGameId","unit","preventDefault","getGameList","PredefinedValueSelector","predefinedValueListTitle","userSuppliedValueTitle","predefinedValues","isValidValue","GameBetDialog","enableGameSelection","enableAmountEntry","tokens","setTokens","selectedToken","setSelectedToken","tokenPriceInMainToken","setTokenPriceInMainToken","setTokenPriceInStableToken","setIsLoading","isValidAddress","setIsValidAddress","get","tooltipHarvestDescriptionText","tooltipPlaceBetDescriptionText","fetch","headers","getMoralisApiKey","response","json","t","token_address","includes","getTokenList","toChecksumAddress","results","getMaxReservesIndex","maxIndex","maxValue","reserveInfo","k","ApproveFarmDialog","FarmDepositDialog","tokenPriceInDepositToken","setTokenPriceInDepositToken","tooltipDescriptionText","depositTokenAmountInWei","AmountSelectionDialog","Main","showBuyCryptoDialog","showSwapDialog","showRouterApproveDialog","callback","showGameApproveDialog","showGameHarvestDialog","showGameCompoundDialog","showGameBetDialog","showFarmApproveDialog","showFarmDepositDialog","showFarmWithdrawDialog","showToken","showComponent","showGames","showFarms","showLiquidatables","gameBet","gameCompound","farmDeposit","farmWithdraw","prevProps","isHomePage","isBuy","alert","JSON","stringify","getGameCards","farmLiquidatables","buyWeeb","farmBuyWeebInternal","selectedTokenAmount","all","set","componentType","isDirectlyHarvestable","selectedGameId","selectedPoolId","amountInWei","Test","executing","rpcUrl","ta","ts","td","ra","rx","replacer","walletContext","startsWith","Routes","path","element","Footer","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d6cad94a.chunk.js","sourcesContent":["'use strict';\r\n\r\nvar BN = require('bn.js');\r\nvar numberToBN = require('number-to-bn');\r\n\r\nvar zero = new BN(0);\r\nvar negative1 = new BN(-1);\r\n\r\n/**\r\n * Returns value of unit in Wei\r\n *\r\n * @method getValueOfUnit\r\n * @param {String} unit the unit to convert to, default ether\r\n * @returns {BigNumber} value of the unit (in Wei)\r\n * @throws error if the unit is not correct:w\r\n */\r\nfunction getValueOfUnit(decimals) {\r\n    return new BN(10).pow(new BN(decimals));\r\n}\r\n\r\nfunction numberToString(arg) {\r\n    if (typeof arg === 'string') {\r\n        if (!arg.match(/^-?[0-9.]+$/)) {\r\n            throw new Error('while converting number to string, invalid number value \\'' + arg + '\\', should be a number matching (^-?[0-9.]+).');\r\n        }\r\n        return arg;\r\n    } else if (typeof arg === 'number') {\r\n        return String(arg);\r\n    } else if (typeof arg === 'object' && arg.toString && (arg.toTwos || arg.dividedToIntegerBy)) {\r\n        if (arg.toPrecision) {\r\n            return String(arg.toPrecision());\r\n        } else {\r\n            // eslint-disable-line\r\n            return arg.toString(10);\r\n        }\r\n    }\r\n    throw new Error('while converting number to string, invalid number value \\'' + arg + '\\' type ' + typeof arg + '.');\r\n}\r\n\r\nfunction fromWei(weiInput, decimals, optionsInput) {\r\n    var wei = numberToBN(weiInput); // eslint-disable-line\r\n    var negative = wei.lt(zero); // eslint-disable-line\r\n    var base = getValueOfUnit(decimals);\r\n    var baseLength = decimals;\r\n    var options = optionsInput || {};\r\n\r\n    if (negative) {\r\n        wei = wei.mul(negative1);\r\n    }\r\n\r\n    var fraction = wei.mod(base).toString(10); // eslint-disable-line\r\n\r\n    while (fraction.length < baseLength) {\r\n        fraction = '0' + fraction;\r\n    }\r\n\r\n    if (!options.pad) {\r\n        fraction = fraction.match(/^([0-9]*[1-9]|0)(0*)/)[1];\r\n    }\r\n\r\n    var whole = wei.div(base).toString(10); // eslint-disable-line\r\n\r\n    if (options.commify) {\r\n        whole = whole.replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\r\n    }\r\n\r\n    var value = '' + whole + (fraction == '0' ? '' : '.' + fraction); // eslint-disable-line\r\n\r\n    if (negative) {\r\n        value = '-' + value;\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\nfunction toWei(etherInput, decimals) {\r\n    var ether = numberToString(etherInput); // eslint-disable-line\r\n    var base = getValueOfUnit(decimals);\r\n    var baseLength = decimals;\r\n\r\n    // Is it negative?\r\n    var negative = ether.substring(0, 1) === '-'; // eslint-disable-line\r\n    if (negative) {\r\n        ether = ether.substring(1);\r\n    }\r\n\r\n    if (ether === '.') {\r\n        throw new Error('[ethjs-unit] while converting number ' + etherInput + ' to wei, invalid value');\r\n    }\r\n\r\n    // Split it into a whole and fractional part\r\n    var comps = ether.split('.'); // eslint-disable-line\r\n    if (comps.length > 2) {\r\n        throw new Error('[ethjs-unit] while converting number ' + etherInput + ' to wei,  too many decimal points');\r\n    }\r\n\r\n    var whole = comps[0],\r\n        fraction = comps[1]; // eslint-disable-line\r\n\r\n    if (!whole) {\r\n        whole = '0';\r\n    }\r\n    if (!fraction) {\r\n        fraction = '0';\r\n    }\r\n    if (fraction.length > baseLength) {\r\n        throw new Error('[ethjs-unit] while converting number ' + etherInput + ' to wei, too many decimal places');\r\n    }\r\n\r\n    while (fraction.length < baseLength) {\r\n        fraction += '0';\r\n    }\r\n\r\n    whole = new BN(whole);\r\n    fraction = new BN(fraction);\r\n    var wei = whole.mul(base).add(fraction); // eslint-disable-line\r\n\r\n    if (negative) {\r\n        wei = wei.mul(negative1);\r\n    }\r\n\r\n    return new BN(wei.toString(10), 10);\r\n}\r\n\r\nmodule.exports = {\r\n    numberToString: numberToString,\r\n    getValueOfUnit: getValueOfUnit,\r\n    fromWei: fromWei,\r\n    toWei: toWei\r\n};","import appsettings from \"./appsettings.json\";\r\n\r\nexport default class Configuration {\r\n    static getProjectName() {\r\n        return appsettings.projectName;\r\n    }\r\n\r\n    static getDefaultChainId() {\r\n        return appsettings.defaultChainId;\r\n    }\r\n\r\n    static getPercentageYieldInvestmentInStablecoin() {\r\n        return parseFloat(appsettings.percentageYieldInvestmentInStablecoin);\r\n    }\r\n\r\n    static getSlippageTolerance() {\r\n        return parseFloat(appsettings.slippageTolerance);\r\n    }\r\n\r\n    static getWalletPingInterval() {\r\n        return parseFloat(appsettings.walletPingInterval);\r\n    }\r\n    static getMoralisApiKey() {\r\n        return appsettings.moralisApiKey;\r\n    }\r\n\r\n    static getInfuraProjectId() {\r\n        return appsettings.infuraProjectId;\r\n    }\r\n\r\n    static getChain(chainId) {\r\n        return appsettings.chains[chainId];\r\n    }\r\n\r\n    getChain() { }\r\n\r\n    static getNativeCoin(chainId) {\r\n        return Configuration.getChain(chainId).nativeCoin;\r\n    }\r\n\r\n    static getContracts(chainId) {\r\n        return appsettings.chains[chainId].contracts;\r\n    }\r\n\r\n    getContracts() { }\r\n\r\n    static getNativeToken(chainId) {\r\n        return Configuration.getContracts(chainId).nativeToken;\r\n    }\r\n\r\n    static getStableToken(chainId) {\r\n        return Configuration.getContracts(chainId).stableToken;\r\n    }\r\n\r\n    static getSwapRouters(chainId) {\r\n        return Configuration.getContracts(chainId).swapRouters;\r\n    }\r\n\r\n    static getDefaultSwapRouter(chainId) {\r\n        return Configuration.getContracts(chainId).defaultSwapRouter;\r\n    }\r\n\r\n    getSwapRouters() {\r\n        // In order getSwapRouterName to be able to call the static getSwapRouters a non static getSwapRouters has to be defined.\r\n        // Interesting requirement.\r\n    }\r\n\r\n    static getSwapRouterName(chainId, address) {\r\n        return Configuration.getSwapRouters(chainId)[address].name ?? \"Unknown Router\";\r\n    }\r\n\r\n    static getSwapRouterSwapFee(chainId, address) {\r\n        return parseFloat(Configuration.getSwapRouters(chainId)[address].swapFee);\r\n    }\r\n\r\n    static getChains() {\r\n        const map = new Map();\r\n\r\n        for (const [key, value] of Object.entries(appsettings.chains)) {\r\n            map[parseInt(key)] = value.name;\r\n        }\r\n\r\n        return map;\r\n    }\r\n\r\n    static isSupportedChain(chainId) {\r\n        return Configuration.getChains()[chainId] ? true : false;\r\n    }\r\n\r\n    static getRpcUris() {\r\n        const map = new Map();\r\n\r\n        for (const [key, value] of Object.entries(appsettings.chains)) {\r\n            map[parseInt(key)] = value.rpcUri;\r\n        }\r\n\r\n        return map;\r\n    }\r\n\r\n    static getRpcUri(chainId) {\r\n        return Configuration.getRpcUris()[chainId];\r\n    }\r\n\r\n    static getBlockExplorerLinks() {\r\n        const map = new Map();\r\n\r\n        for (const [key, value] of Object.entries(appsettings.chains)) {\r\n            map[parseInt(key)] = value.blockExplorerLink;\r\n        }\r\n\r\n        return map;\r\n    }\r\n\r\n    getBlockExplorerLinks() { }\r\n\r\n    static getBlockExplorerLink(chainId) {\r\n        return Configuration.getBlockExplorerLinks()[chainId];\r\n    }\r\n\r\n    static getInitialLiquidity(chainId) {\r\n        return Configuration.getChain(chainId).initialLiquidity;\r\n    }\r\n}","import React, { Component } from \"react\";\r\nimport Web3 from \"web3\";\r\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\r\n\r\nimport Configuration from \"../Configuration\";\r\n\r\nexport const WalletContext = React.createContext();\r\n\r\nexport default class WalletProvider extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            self: this,\r\n            // account: \"0x0000000000000000000000000000000000000000\",\r\n            balance: 0,\r\n            setBalance: b => {\r\n                this.setState({ balance: b });\r\n            },\r\n        }\r\n\r\n        this.disconnect = this.disconnect.bind(this);\r\n        this.isInjectedProviderInstalled = this.isInjectedProviderInstalled.bind(this);\r\n        this.getProvider = this.getProvider.bind(this);\r\n        this.initializeProvider = this.initializeProvider.bind(this);\r\n        this.initializeWalletConnectProvider = this.initializeWalletConnectProvider.bind(this);\r\n\r\n        this.handleChainChanged = this.handleChainChanged.bind(this);\r\n        this.handleAccountsChanged = this.handleAccountsChanged.bind(this);\r\n        this.handleChainChangedInternal = this.handleChainChangedInternal.bind(this);\r\n        this.handleDisconnect = this.handleDisconnect.bind(this);\r\n\r\n        this.addEthereumChain = this.addEthereumChain.bind(this);\r\n        this.switchOrAddEthereumChain = this.switchOrAddEthereumChain.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const isMobileDevice = /android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|mobile/i.test(navigator.userAgent);\r\n        this.setState({ isMobileDevice });\r\n\r\n        if (this.isInjectedProviderInstalled()) {\r\n            await this.initializeInjectedProvider();\r\n\r\n            this.setState({\r\n                isInjectedProviderInstalled: true\r\n            });\r\n        } else {\r\n            this.setState({\r\n                isInjectedProviderInstalled: false\r\n            });\r\n\r\n            // Start with the default chain till the wallet connect is initialized.\r\n            this.handleChainChangedInternal(Configuration.getDefaultChainId());\r\n            await this.initializeWalletConnectProvider();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.state.signer && this.state.signer.givenProvider) {\r\n            this.unsubscribeProvider(this.state.signer.givenProvider);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <WalletContext.Provider value={this.state}>\r\n                {this.props.children}\r\n            </WalletContext.Provider>\r\n        )\r\n    }\r\n\r\n    disconnect() {\r\n        this.handleDisconnect(410, \"User requested disconnect.\");\r\n\r\n        this.setState({\r\n            account: undefined,\r\n            balance: undefined\r\n        });\r\n    }\r\n\r\n    isInjectedProviderInstalled() {\r\n        return typeof window.ethereum !== \"undefined\" ? true : typeof window.web3 !== \"undefined\";\r\n    }\r\n\r\n    getProvider() {\r\n        if (typeof window.ethereum !== \"undefined\") {\r\n            return window.ethereum;\r\n        }\r\n\r\n        if (typeof window.web3 !== \"undefined\") {\r\n            return window.web3.currentProvider;\r\n        }\r\n\r\n        throw \"Provider not found.\";\r\n    }\r\n\r\n    async initializeProvider(provider) {\r\n        const signer = WalletProvider.createWeb3(provider);\r\n\r\n        this.setState({\r\n            provider: provider,\r\n            signer\r\n        });\r\n\r\n        this.subscribeProvider(provider);\r\n\r\n        const hexChainId = await provider.request({ method: \"eth_chainId\" });\r\n        this.handleChainChanged(hexChainId);\r\n\r\n        // Is already connected?\r\n        let accounts = await provider.request({ method: \"eth_accounts\" });\r\n\r\n        if (accounts.length === 0) {\r\n            try {\r\n                // Connect, MetaMask pop-up windows appears. Internally triggers \"accountsChanged\" event.\r\n                await provider.request({ method: \"eth_requestAccounts\" });\r\n            } catch (error) {\r\n                this.setState({ error });\r\n                console.error(error);\r\n            }\r\n        } else {\r\n            this.handleAccountsChanged(accounts);\r\n        }\r\n    }\r\n\r\n    async initializeInjectedProvider() {\r\n        console.log(\"initializing Injected provider.\");\r\n\r\n        const provider = this.getProvider();\r\n        await this.initializeProvider(provider);\r\n    }\r\n\r\n    async initializeWalletConnectProvider() {\r\n        console.log(\"initializing WalletConnect provider.\");\r\n\r\n        const provider = new WalletConnectProvider({\r\n            rpc: Configuration.getRpcUris(),\r\n            infuraId: Configuration.getInfuraProjectId(),\r\n            qrcode: true,\r\n        });\r\n\r\n        provider.connector.on(\"display_uri\", (err, payload) => {\r\n            const uri = payload.params[0];\r\n            console.log(`WalletConnect QR code: ${uri}`);\r\n            //CustomQRCodeModal.display(uri);\r\n        });\r\n\r\n        try {\r\n            const accounts = await provider.enable();\r\n\r\n            console.log(accounts);\r\n            console.log(provider.walletMeta.name);\r\n\r\n            await this.initializeProvider(provider);\r\n        } catch (error) {\r\n            console.log(`${error.code}: ${error.message}`);\r\n        }\r\n    }\r\n\r\n    subscribeProvider(provider) {\r\n        if (!provider.on) {\r\n            console.log(\"Provider doesn't support events.\");\r\n            return;\r\n        }\r\n\r\n        provider.on(\"chainChanged\", this.handleChainChanged);\r\n        provider.on(\"accountsChanged\", this.handleAccountsChanged);\r\n        provider.on(\"disconnect\", this.handleDisconnect);\r\n    };\r\n\r\n    unsubscribeProvider(provider) {\r\n        if (!provider.on) {\r\n            console.log(\"Provider doesn't support events.\");\r\n            return;\r\n        }\r\n\r\n        provider.removeListener(\"chainChanged\", this.handleChainChanged);\r\n        provider.removeListener(\"accountsChanged\", this.handleAccountsChanged);\r\n        provider.removeListener(\"disconnect\", this.handleDisconnect);\r\n    }\r\n\r\n    updateReader(chainId) {\r\n        this.setState({\r\n            reader: WalletProvider.createWeb3(Configuration.getRpcUri(chainId))\r\n        });\r\n    }\r\n\r\n    handleChainChangedInternal(chainId) {\r\n        this.setState({\r\n            error: undefined,\r\n            chainId\r\n        });\r\n\r\n        if (!Configuration.isSupportedChain(chainId)) {\r\n            this.setState({\r\n                error: `Unsupported chain: ${chainId}`,\r\n            });\r\n            return;\r\n        }\r\n\r\n        this.updateReader(chainId);\r\n    }\r\n\r\n    handleChainChanged(hexChainId) {\r\n        const chainId = Web3.utils.hexToNumber(hexChainId);\r\n        console.log(`chainChanged: ${chainId}`);\r\n        this.handleChainChangedInternal(chainId);\r\n    }\r\n\r\n    handleAccountsChanged(accounts) {\r\n        console.log(`accountsChanged: ${accounts.length}`);\r\n\r\n        if (accounts.length === 0) {\r\n            this.setState({\r\n                error: undefined,\r\n                connected: false,\r\n                account: undefined\r\n            });\r\n            // MetaMask is locked or the user has not connected any accounts\r\n            console.log(\"Please connect to MetaMask.\");\r\n        } else {\r\n            this.setState({\r\n                error: undefined,\r\n                connected: true,\r\n                account: accounts[0]\r\n            });\r\n        }\r\n    }\r\n\r\n    handleDisconnect(code, reason) {\r\n        console.log({ source: \"Disconnect handler.\", code, reason });\r\n\r\n        if (this.state.signer && this.state.signer.currentProvider) {\r\n            if (this.state.signer.currentProvider instanceof WalletConnectProvider) {\r\n                this.setState({\r\n                    signer: undefined\r\n                });\r\n                this.handleAccountsChanged([]);\r\n            } else {\r\n                if (this.state.signer.currentProvider.connected && this.state.signer.currentProvider.close) {\r\n                    this.state.signer.currentProvider.close()\r\n                        .then(() => {\r\n                            this.setState({\r\n                                signer: undefined\r\n                            })\r\n                            this.handleAccountsChanged([]);\r\n                        })\r\n                        .catch(error => {\r\n                            console.log(\"Wallet close failed.\");\r\n                            console.log(error);\r\n                        });\r\n                } else {\r\n                    this.setState({\r\n                        signer: undefined\r\n                    })\r\n                    this.handleAccountsChanged([]);\r\n                }\r\n            }\r\n        } else {\r\n            this.setState({\r\n                signer: undefined\r\n            });\r\n            this.handleAccountsChanged([]);\r\n        }\r\n    }\r\n\r\n    async addEthereumChain(chainId, chainName, nativeCurrencyName, nativeCurrencySymbol, nativeCurrencyDecimals, rpcUrls, blockExplorerUrls, iconUrls) {\r\n        if (!this.state.provider) {\r\n            console.log(\"Provider not set.\");\r\n            return;\r\n        }\r\n\r\n        if (!Web3.utils.isHex(chainId)) {\r\n            chainId = Web3.utils.numberToHex(chainId);\r\n        }\r\n\r\n        const p = {\r\n            chainId: chainId,\r\n            chainName: chainName,\r\n            nativeCurrency: {\r\n                name: nativeCurrencyName,\r\n                symbol: nativeCurrencySymbol,\r\n                decimals: nativeCurrencyDecimals\r\n            },\r\n            rpcUrls: rpcUrls,\r\n            blockExplorerUrls: blockExplorerUrls,\r\n            iconUrls: iconUrls\r\n        };\r\n\r\n        // Returns null - The method returns null if the request was successful, and an error otherwise.\r\n        return this.state.provider.request({ method: \"wallet_addEthereumChain\", params: [p] });\r\n    }\r\n\r\n    async switchOrAddEthereumChain(chainId, chainName, nativeCurrencyName, nativeCurrencySymbol, nativeCurrencyDecimals, rpcUrls, blockExplorerUrls, iconUrls) {\r\n        if (!this.state.provider) {\r\n            console.log(\"Provider not set.\");\r\n            return;\r\n        }\r\n\r\n        if (!Web3.utils.isHexStrict(chainId)) {\r\n            chainId = Web3.utils.numberToHex(chainId);\r\n        }\r\n\r\n        console.log(`Switching to chain: ${chainId}`);\r\n\r\n        try {\r\n            await this.state.provider.request({\r\n                method: \"wallet_switchEthereumChain\",\r\n                params: [{ chainId: chainId }],\r\n            });\r\n        } catch (switchError) {\r\n            if (switchError.code === 4902/*For desktop MM*/ || switchError.code === -32603/*For iPhone MM*/) {\r\n                console.log(`Non-existent chain: ${chainId}. Trying to add.`);\r\n\r\n                try {\r\n                    await this.addEthereumChain(chainId, chainName, nativeCurrencyName, nativeCurrencySymbol, nativeCurrencyDecimals, rpcUrls, blockExplorerUrls, iconUrls);\r\n                } catch (addError) {\r\n                    this.setState({ error: addError.message });\r\n                    console.error(addError);\r\n                }\r\n            } else {\r\n                this.setState({ error: switchError.message });\r\n                console.error(switchError);\r\n            }\r\n        }\r\n    }\r\n\r\n    static createWeb3(provider) {\r\n        const web3 = new Web3(provider);\r\n\r\n        web3.eth.extend({\r\n            methods: [\r\n                {\r\n                    name: \"chainId\",\r\n                    call: \"eth_chainId\",\r\n                    outputFormatter: web3.utils.hexToNumber\r\n                }\r\n            ]\r\n        });\r\n\r\n        return web3;\r\n    }\r\n}\r\n","export function formatAccount(value) {\r\n    return `${value.substring(0, 6)}...${value.substring(value.length - 4)}`;\r\n}\r\n\r\nexport function formatDateTime(date) {\r\n    const parts = new Date(date).toISOString().split(\"T\");\r\n    return `${parts[0]} ${parts[1]}`;\r\n    // .toLocaleString(undefined, {\r\n    //     year: 'numeric',\r\n    //     month: '2-digit',\r\n    //     day: '2-digit',\r\n    //     hour: '2-digit',\r\n    //     hour12: false,\r\n    //     minute: '2-digit',\r\n    //     second: '2-digit'\r\n    // });\r\n}\r\n\r\nexport function formatTimespan(timespan) {\r\n    const h = parseInt(timespan / 3600);\r\n    const r = timespan % 3600;\r\n    const m = parseInt(r / 60);\r\n    const s = parseInt(r % 60);\r\n\r\n    const hh = h < 10 ? `0${h}` : `${h}`;\r\n    const mm = m < 10 ? `0${m}` : `${m}`;\r\n    const ss = s < 10 ? `0${s}` : `${s}`;\r\n\r\n    return `${hh}:${mm}:${ss}`;\r\n}\r\n\r\nfunction formatFloat(value) {\r\n    const parts = value.split(\".\");\r\n\r\n    return (\r\n        <span className=\"number\">\r\n            <span className=\"integer\">\r\n                {parts[0]}\r\n            </span>\r\n            {parts[1] &&\r\n                <span className=\"decimal\">\r\n                    .{parts[1]}\r\n                </span>\r\n            }\r\n        </span>\r\n    );\r\n}\r\n\r\nfunction formatNumber(number, maxDecimals = 2, minDecimals = 0) {\r\n    const result = new Intl.NumberFormat([], {\r\n        maximumFractionDigits: maxDecimals,\r\n        minimumFractionDigits: minDecimals\r\n    }).format(number);\r\n\r\n    return result;\r\n}\r\n\r\nexport function formatInteger(number) {\r\n    return formatNumber(number, 0);\r\n}\r\n\r\nexport function formatPercentage(number, maxDecimals = 2, minDecimals = 0) {\r\n    console.assert(typeof number === \"number\", \"The 'number' is not of numeric type.\");\r\n    return formatNumberScaled(number * 100, maxDecimals, minDecimals);\r\n}\r\n\r\nexport function formatNumberScaled(number, maxDecimals = 2, minDecimals = 0) {\r\n    console.assert(typeof number === \"number\", \"The 'number' is not of numeric type.\");\r\n\r\n    if (number === 0)\r\n        return `${number}`;\r\n\r\n    if (number >= 10000) {\r\n        return formatNumber(number, Math.min(0, maxDecimals), 0);\r\n    }\r\n\r\n    if (number >= 1000) {\r\n        return formatNumber(number, Math.min(1, maxDecimals), 0);\r\n    }\r\n\r\n    if (number >= 100) {\r\n        return formatNumber(number, Math.min(2, maxDecimals), 0);\r\n    }\r\n\r\n    return formatNumber(number, maxDecimals, minDecimals);\r\n}\r\n\r\nexport function formatCurrency(number, currencyDecimals, maxDecimals = 4, minDecimals = 0) {\r\n    return formatNumberScaled(number, Math.min(currencyDecimals, maxDecimals), Math.min(currencyDecimals, minDecimals));\r\n}\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { Dialog } from \"@headlessui/react\";\r\n\r\nexport default class ModalDialog extends Component {\r\n    static propTypes = {\r\n        disableBackgroundCancel: PropTypes.bool,\r\n        size: PropTypes.string,\r\n        isVerticallyCentered: PropTypes.bool,\r\n        isScrollable: PropTypes.bool,\r\n        fullscreen: PropTypes.string,\r\n        contentStyle: PropTypes.string,\r\n        isOpen: PropTypes.bool,\r\n        setIsOpen: PropTypes.func,\r\n        header: PropTypes.object,\r\n        body: PropTypes.object,\r\n        footer: PropTypes.object,\r\n        title: PropTypes.string,\r\n        hideTitle: PropTypes.bool,\r\n        info: PropTypes.object,\r\n        hideCloseButton: PropTypes.bool,\r\n        description: PropTypes.string,\r\n        submitButtonText: PropTypes.string,\r\n        hideSubmitButton: PropTypes.bool,\r\n        isSubmitButtonDisabled: PropTypes.bool,\r\n        cancelButtonText: PropTypes.string,\r\n        hideCancelButton: PropTypes.bool,\r\n        submitted: PropTypes.func,\r\n        canceled: PropTypes.func,\r\n        result: PropTypes.func\r\n    };\r\n\r\n    static defaultProps = {\r\n        disableBackgroundCancel: false,\r\n        isVerticallyCentered: true,\r\n        isScrollable: true,\r\n        fullscreen: null,\r\n        contentStyle: \"card relative w-full max-w-md max-h-screen overflow-y-auto mx-auto bg-violet-50 text-gray-900\",\r\n        isOpen: false,\r\n        setIsOpen: value => {\r\n\r\n        },\r\n        hideTitle: false,\r\n        hideCloseButton: false,\r\n        submitButtonText: \"OK\",\r\n        hideSubmitButton: false,\r\n        isSubmitButtonDisabled: false,\r\n        cancelButtonText: \"Cancel\",\r\n        hideCancelButton: false,\r\n        submitted: async () => {\r\n        },\r\n        canceled: async () => {\r\n        },\r\n        result: async value => {\r\n        }\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            style: null\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        const { size, isVerticallyCentered, isScrollable, fullscreen } = this.props;\r\n\r\n        let style = \"text-dark\";\r\n\r\n        if (size) {\r\n            style += ` ${size}`;\r\n        }\r\n\r\n        if (isVerticallyCentered === true) {\r\n            style += \" modal-dialog-centered\";\r\n        }\r\n\r\n        if (isScrollable === true) {\r\n            style += \" modal-dialog-scrollable\";\r\n        }\r\n\r\n        if (fullscreen) {\r\n            style += ` ${fullscreen}`;\r\n        }\r\n\r\n        this.setState({ style });\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            isOpen,\r\n            setIsOpen,\r\n            disableBackgroundCancel,\r\n            contentStyle,\r\n            header,\r\n            body,\r\n            footer,\r\n            title,\r\n            hideTitle,\r\n            info,\r\n            hideCloseButton,\r\n            description,\r\n            submitButtonText,\r\n            hideSubmitButton,\r\n            isSubmitButtonDisabled,\r\n            cancelButtonText,\r\n            hideCancelButton,\r\n            submitted,\r\n            canceled,\r\n            result\r\n        } = this.props;\r\n\r\n        return (\r\n            <Dialog\r\n                className=\"fixed z-10 inset-0 overflow-y-auto\"\r\n                open={isOpen}\r\n                onClose={() => {\r\n                    if (!disableBackgroundCancel) {\r\n                        setIsOpen(false);\r\n                    }\r\n                }}\r\n            >\r\n                <div className=\"flex items-center justify-center min-h-screen text-[16px]\">\r\n                    <Dialog.Overlay className=\"fixed inset-0 bg-black/50\" />\r\n\r\n                    <div className={`modal-content ${contentStyle} bg-gradient-to-r to-indigo-200 from-purple-200`}>\r\n                        {(header || !hideTitle || !hideCloseButton) &&\r\n                            <div className=\"modal-header grid grid-cols-1 gap-x-2 gap-y-3\">\r\n                                {header\r\n                                    ? { header }\r\n                                    : <div className=\"flex items-center justify-between\">\r\n                                        {!hideTitle &&\r\n                                            <Dialog.Title key=\"0\" className=\"\">\r\n                                                {title}\r\n                                            </Dialog.Title>\r\n                                        }\r\n                                        <div className=\"space-x-2\">\r\n                                            {info &&\r\n                                                <button key=\"1\" type=\"button\" className=\"btn text-[2em] leading-none shadow-none btn-close\" aria-label=\"Info\">\r\n                                                    {info}\r\n                                                </button>\r\n                                            }\r\n                                            {!hideCloseButton &&\r\n                                                <button key=\"2\" type=\"button\" className=\"btn text-[2em] leading-none shadow-none btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\" onClick={async () => {\r\n                                                    await canceled();\r\n\r\n                                                    if (result) {\r\n                                                        result(false);\r\n                                                    }\r\n                                                }}>\r\n                                                    <i className=\"bi bi-x\" />\r\n                                                </button>\r\n                                            }\r\n                                        </div>\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                        }\r\n\r\n                        {description &&\r\n                            <Dialog.Description className=\"mt-3\">\r\n                                {description}\r\n                            </Dialog.Description>\r\n                        }\r\n\r\n                        <div className=\"modal-body mt-3\">\r\n                            {body}\r\n                        </div>\r\n\r\n                        {(footer || !hideSubmitButton || !hideCancelButton) &&\r\n                            <div className=\"modal-footer mt-8\">\r\n                                {footer\r\n                                    ? { footer }\r\n                                    : <div className=\"flex items-center justify-end space-x-2 text-violet-50 text-[80%]\">\r\n                                        {!hideSubmitButton &&\r\n                                            <button key=\"0\" type=\"button\" className=\"btn btn-green w-28 h-10\" onClick={async () => {\r\n                                                try {\r\n                                                    await submitted();\r\n                                                    console.log(\"Operation succeeded.\");\r\n\r\n                                                    if (result) {\r\n                                                        result(true);\r\n                                                    }\r\n                                                } catch (error) {\r\n                                                    console.error(\"Operation failed.\", error);\r\n\r\n                                                    if (result) {\r\n                                                        result({ error });\r\n                                                    }\r\n                                                }\r\n                                            }} disabled={isSubmitButtonDisabled}>\r\n                                                {submitButtonText}\r\n                                            </button>\r\n                                        }\r\n                                        {!hideCancelButton &&\r\n                                            <button key=\"1\" type=\"button\" className=\"btn btn-dark w-28 h-10\" data-bs-dismiss=\"modal\" aria-label=\"Cancel\" onClick={async () => {\r\n                                                await canceled();\r\n\r\n                                                if (result) {\r\n                                                    result(false);\r\n                                                }\r\n                                            }}>\r\n                                                {cancelButtonText}\r\n                                            </button>\r\n                                        }\r\n                                    </div>\r\n                                }\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </Dialog>\r\n        );\r\n    }\r\n}\r\n","import React from \"react\";\r\n\r\nexport function TitleText({\r\n    title,\r\n    titleClassName,\r\n}) {\r\n    return (\r\n        <>\r\n            <span className={`opacity-50 uppercase tracking-wider overflow-ellipsis break-normal text-[0.6875em] ${titleClassName ?? \"\"}`}>\r\n                {title}\r\n            </span>\r\n        </>\r\n    );\r\n}\r\n\r\nTitleText.defaultProps = {\r\n};\r\n\r\nexport function MainText({\r\n    main,\r\n    mainClassName,\r\n    mainUnit,\r\n    mainUnitClassName,\r\n    isUnitOnTop\r\n}) {\r\n    return isUnitOnTop\r\n        ? (\r\n            <>\r\n                {mainUnit &&\r\n                    <span className={`uppercase block mb-1 opacity-75 text-[0.75em] ${mainUnitClassName ?? \"\"}`}>\r\n                        {mainUnit}\r\n                    </span>\r\n                }\r\n                {main &&\r\n                    <span className={`numeric text-[1.4em] ${mainClassName ?? \"\"}`}>\r\n                        {main}\r\n                    </span>\r\n                }\r\n            </>\r\n        )\r\n        : (\r\n            <>\r\n                {main &&\r\n                    <span className={`numeric text-[1.4em] ${mainClassName ?? \"\"}`}>\r\n                        {main}\r\n                    </span>\r\n                }\r\n                {mainUnit &&\r\n                    <span className={`uppercase ml-1 opacity-75 text-[0.75em] ${mainUnitClassName ?? \"\"}`}>\r\n                        {mainUnit}\r\n                    </span>\r\n                }\r\n            </>\r\n        );\r\n}\r\n\r\nMainText.defaultProps = {\r\n    isUnitOnTop: false\r\n};\r\n\r\nexport function DetailText({\r\n    detail,\r\n    detailClassName,\r\n    detailUnit,\r\n    detailUnitClassName\r\n}) {\r\n    return (\r\n        <>\r\n            {detail &&\r\n                <span className={`numeric opacity-75 text-[0.75em] ${detailClassName ?? \"\"}`}>\r\n                    {detail}\r\n                </span>\r\n            }\r\n            {detailUnit &&\r\n                <span className={`uppercase ml-1 opacity-50 text-[0.625em] ${detailUnitClassName ?? \"\"}`}>\r\n                    {detailUnit}\r\n                </span>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nDetailText.defaultProps = {\r\n};\r\n\r\nexport function InfoText({\r\n    info,\r\n    infoClassName\r\n}) {\r\n    return (\r\n        <>\r\n            {info &&\r\n                <div className={`numeric mt-2 text-[0.75em] ${infoClassName ?? \"\"}`}>\r\n                    {info}\r\n                </div>\r\n            }\r\n        </>\r\n    );\r\n}\r\n\r\nInfoText.defaultProps = {\r\n    infoClassName: \"opacity-25\"\r\n};\r\n\r\nfunction InfoBox({\r\n    containerClassName,\r\n    lineHeight,\r\n    title,\r\n    titleClassName,\r\n    main,\r\n    detail,\r\n    info\r\n}) {\r\n    return (\r\n        <div className={`grid grid-cols-1 auto-rows-min text-center ${lineHeight ?? \"\"} ${containerClassName ?? \"\"}`}>\r\n            <TitleText title={title} titleClassName={titleClassName} />\r\n            {main && <>{main}</>}\r\n            {detail && <>{detail}</>}\r\n            {info && <>{info}</>}\r\n        </div>\r\n    );\r\n}\r\n\r\nInfoBox.defaultProps = {\r\n};\r\n\r\nexport function PriceBox({\r\n    containerClassName,\r\n    lineHeight,\r\n    title,\r\n    titleClassName,\r\n    mainRaw,\r\n    main,\r\n    mainClassName,\r\n    mainUnit,\r\n    mainUnitClassName,\r\n    isMainUnitOnTop,\r\n    detail,\r\n    detailClassName,\r\n    detailUnit,\r\n    detailUnitClassName,\r\n    info,\r\n    infoClassName\r\n}) {\r\n    return <InfoBox\r\n        containerClassName={containerClassName}\r\n        lineHeight={lineHeight}\r\n        title={title}\r\n        titleClassName={titleClassName}\r\n        main={mainRaw\r\n            ? <>{mainRaw}</>\r\n            : (main || mainUnit) &&\r\n            <div className=\"mt-2\">\r\n                <MainText\r\n                    main={main}\r\n                    mainClassName={mainClassName}\r\n                    mainUnit={mainUnit}\r\n                    mainUnitClassName={mainUnitClassName}\r\n                    isUnitOnTop={isMainUnitOnTop}\r\n                />\r\n            </div>}\r\n        detail={(detail || detailUnit) &&\r\n            <div className=\"mt-1\">\r\n                <DetailText\r\n                    detail={detail}\r\n                    detailClassName={detailClassName}\r\n                    detailUnit={detailUnit}\r\n                    detailUnitClassName={detailUnitClassName}\r\n                />\r\n            </div>\r\n        }\r\n        info={(\r\n            <InfoText info={info} infoClassName={infoClassName} />\r\n        )}\r\n    />;\r\n}\r\n\r\nPriceBox.defaultProps = {\r\n    lineHeight: \"leading-none\",\r\n    infoClassName: \"opacity-25\",\r\n    isMainUnitOnTop: false\r\n};\r\n","import { useState, useEffect } from \"react\";\r\n\r\nimport ModalDialog from \"./core/ModalDialog\";\r\n\r\nimport Configuration from \"../../../Configuration\";\r\nimport { formatAccount, formatCurrency } from \"../../../utils/Format\";\r\n\r\nimport { PriceBox } from \"../../InfoBox\";\r\n\r\nimport QRCode from \"qrcode\";\r\n\r\nexport default function WalletDialog({ isOpen, setIsOpen, context, canceled }) {\r\n    const [qrCode, setQrCode] = useState();\r\n\r\n    useEffect(() => {\r\n        if (!context.account) {\r\n            setQrCode(undefined);\r\n            return;\r\n        }\r\n\r\n        QRCode.toDataURL(context.account, {\r\n            color: {\r\n                dark: \"#312e81\",\r\n                light: \"#0000\" // Transparent background\r\n            }\r\n        })\r\n            .then(url => {\r\n                setQrCode(url);\r\n                console.log(url);\r\n            })\r\n            .catch(err => {\r\n                console.error(err)\r\n            })\r\n    }, [context.account]);\r\n\r\n    const chain = Configuration.getChain(context.chainId);\r\n    const nativeCoin = Configuration.getNativeCoin(context.chainId);\r\n\r\n    return (\r\n        <ModalDialog\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            disableBackgroundCancel={false}\r\n            body={\r\n                <div className=\"grid grid-cols-2 gap-x-2 gap-y-4 items-center justify-center text-indigo-900\">\r\n                    {context.account &&\r\n                        <>\r\n                            <PriceBox\r\n                                containerClassName=\"col-span-2\"\r\n                                title=\"Connected Account\"\r\n                                main={context.account}\r\n                                mainClassName=\"numeric break-all\"\r\n                            />\r\n                            <img className=\"col-span-2 mx-auto\" src={qrCode} />\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-indigo-right h-10 w-48 text-violet-50 text-[0.75em] justify-self-end\"\r\n                                onClick={async () => {\r\n                                    try {\r\n                                        await navigator.clipboard.writeText(context.account);\r\n                                        console.log(\"The token contract address is copied to clipboard.\");\r\n                                    } catch (error) {\r\n                                        console.error(\"Failed to copy the wallet address: \", error);\r\n                                    }\r\n                                }}\r\n                            >\r\n                                <i className=\"bi bi-clipboard mr-1\" />Copy\r\n                            </button>\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"btn btn-indigo h-10 w-48 text-violet-50 text-[0.75em] justify-self-start\"\r\n                                onClick={() => {\r\n                                    context.self.disconnect();\r\n                                    setIsOpen(false);\r\n                                }}\r\n                            >\r\n                                Disconnect\r\n                            </button>\r\n                            <PriceBox\r\n                                title=\"Chain Id\"\r\n                                main={context.chainId}\r\n                                mainClassName=\"numeric\"\r\n                                detail={chain.name}\r\n                                detailClassName=\"font-display\"\r\n                            />\r\n                            <PriceBox\r\n                                title=\"Balance\"\r\n                                main={formatCurrency(context.balance, nativeCoin.decimals)}\r\n                                mainUnit={nativeCoin.symbol}\r\n                                detail=\"&nbsp;\"\r\n                            />\r\n                            \r\n                            {/*\r\n                            <PriceBox\r\n                                title=\"Injected Provider\"\r\n                                main={context.isInjectedProviderInstalled ? \"Yes\" : \"No\"}\r\n                                detail={context.provider.isMetaMask ? \"MetaMask\" : context.provider?.walletMeta?.name ?? \"Unknown\"}\r\n                                detailClassName=\"font-display\"\r\n                            />\r\n                            <PriceBox\r\n                                title=\"Web3 Version\"\r\n                                main={context.signer.version}\r\n                                mainClassName=\"numeric\"\r\n                                detail=\"&nbsp;\"\r\n                            />\r\n                            */}\r\n                        </>\r\n                    }\r\n                </div>\r\n            }\r\n            title=\"Wallet Info\"\r\n            hideSubmitButton={true}\r\n            cancelButtonText=\"Close\"\r\n            canceled={canceled}\r\n        />\r\n    );\r\n}\r\n","import ModalDialog from \"./core/ModalDialog\";\r\n\r\nexport default function ConnectDialog({ isOpen, setIsOpen, context, canceled }) {\r\n    return (\r\n        <ModalDialog\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            disableBackgroundCancel={false}\r\n            body={\r\n                <div className=\"grid grid-cols-1 gap-x-4 gap-y-4 items-center justify-center text-indigo-900\">\r\n                    {context.self.isInjectedProviderInstalled()\r\n                        ?\r\n                        <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-red h-16 w-full text-violet-50 text-[0.75em]\"\r\n                            onClick={async () => {\r\n                                context.self.initializeInjectedProvider();\r\n                                setIsOpen(false);\r\n                            }}\r\n                        >\r\n                            Use Injected Provider\r\n                        </button>\r\n                        : <div className=\"h-16 w-full text-violet-900 text-center\">\r\n                            <p>\r\n                                <b>No injected provider found.</b>\r\n                            </p>\r\n                            <a href=\"https://metamask.io/download/\" target=\"_blank\">Install MetaMask <i className=\"bi bi-box-arrow-up-right\" /></a>\r\n                        </div>\r\n                    }\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"btn btn-blue h-16 w-full text-violet-50 text-[0.75em]\"\r\n                        onClick={() => {\r\n                            context.self.initializeWalletConnectProvider();\r\n                            setIsOpen(false);\r\n                        }}\r\n                    >\r\n                        Use Wallet Connect Provider\r\n                    </button>\r\n                </div>\r\n            }\r\n            title=\"Connect to Wallet\"\r\n            hideSubmitButton={true}\r\n            cancelButtonText=\"Close\"\r\n            canceled={canceled}\r\n        />\r\n    );\r\n}\r\n","import React, { Component, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Configuration from \"../Configuration\";\r\n\r\nimport { WalletContext } from \"../contexts/WalletContext\";\r\n\r\nimport { fromWei } from \"../utils/Web3Converter\";\r\nimport { formatAccount, formatCurrency } from \"../utils/Format\";\r\n\r\nimport WalletDialog from \"./dapp/dialogs/WalletDialog\";\r\nimport ConnectDialog from \"./dapp/dialogs/ConnectDialog\";\r\n\r\nexport default class Wallet extends Component {\r\n    static propTypes = {\r\n        interval: PropTypes.number,\r\n    };\r\n\r\n    static defaultProps = {\r\n        interval: Configuration.getWalletPingInterval(),\r\n    };\r\n\r\n    static contextType = WalletContext;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            balance: undefined,\r\n            showWalletDialog: false,\r\n            showConnectDialog: false,\r\n        };\r\n\r\n        this.onTick = this.onTick.bind(this);\r\n        this.switchOrAddEthereumChain = this.switchOrAddEthereumChain.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.initialize()) {\r\n            console.log(\"Initialized on component mount.\");\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.stopTimer();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.initialize()) {\r\n            console.log(\"Initialized on component update.\");\r\n        }\r\n    }\r\n\r\n    initialize() {\r\n        if (this.isInitializing) {\r\n            return false;\r\n        }\r\n\r\n        this.isInitializing = true;\r\n\r\n        try {\r\n            if (!this.context.chainId) {\r\n                return false;\r\n            } else if (!Configuration.isSupportedChain(this.context.chainId)) {\r\n                this.switchOrAddEthereumChain();\r\n                return false;\r\n            }\r\n\r\n            if (this.context.account && this.context.reader) {\r\n                if (!this.timerId) {\r\n                    this.startTimer();\r\n                    return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        } finally {\r\n            this.isInitializing = false;\r\n        }\r\n    }\r\n\r\n    startTimer() {\r\n        this.timerId = setInterval(\r\n            async () => await this.onTick(),\r\n            this.props.interval\r\n        );\r\n        console.log(`Started timer: ${this.timerId}`);\r\n    }\r\n\r\n    stopTimer() {\r\n        const timerId = this.timerId;\r\n\r\n        if (timerId) {\r\n            clearInterval(timerId);\r\n            this.timerId = undefined;\r\n\r\n            console.log(`Stopped timer: ${timerId}`);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.context.connected && !this.context.error) {\r\n            return (\r\n                <Fragment key={0}>\r\n                    <div className=\"flex items-center\">\r\n                        <div className=\"rounded bg-gray-100/10 px-1 text-[0.875em]\">\r\n                            <span\r\n                                className=\"cursor-pointer\"\r\n                                onClick={() => {\r\n                                    this.setState({\r\n                                        showConnectDialog: true,\r\n                                    });\r\n                                }}\r\n                            >\r\n                                Connect to Wallet\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {this.state.showConnectDialog && (\r\n                        <ConnectDialog\r\n                            isOpen={this.state.showConnectDialog}\r\n                            setIsOpen={() => {\r\n                                this.setState({\r\n                                    showConnectDialog: false,\r\n                                });\r\n                            }}\r\n                            context={this.context}\r\n                            canceled={() => {\r\n                                this.setState({\r\n                                    showConnectDialog: false,\r\n                                });\r\n                            }}\r\n                        />\r\n                    )}\r\n                </Fragment>\r\n            );\r\n        } else if (this.context.error) {\r\n            return (\r\n                <Fragment key={1}>\r\n                    <div className=\"flex items-center\">\r\n                        <div className=\"rounded bg-gray-100/10 px-1 text-[0.875em]\">\r\n                            <span className=\"text-red-500\">\r\n                                {this.context.error.code === -32002\r\n                                    ? \"Approve the chain switch\"\r\n                                    : this.context.error\r\n                                }\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </Fragment>\r\n            );\r\n        } else {\r\n            if (!this.context.chainId || !Configuration.isSupportedChain(this.context.chainId)) {\r\n                return (\r\n                    <Fragment key={2}>\r\n                        <span className=\"text-red-500\">Unsupported chain.</span>\r\n                    </Fragment>\r\n                );\r\n            }\r\n\r\n            const nativeCoin = Configuration.getNativeCoin(this.context.chainId);\r\n            const chain = Configuration.getChain(this.context.chainId);\r\n\r\n            return (\r\n                <Fragment key={3}>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                        <div className=\"hidden rounded bg-gray-100/10 px-1 py-0.5 text-[0.875em] xl:block\">\r\n                            <span>{chain.name}</span>\r\n                        </div>\r\n                        <div className=\"xs:block hidden rounded bg-gray-100/10 px-1 py-0.5 text-[0.875em]\">\r\n                            <div>\r\n                                <span className=\"numeric\">\r\n                                    {this.state.balance\r\n                                        ? formatCurrency(this.state.balance, nativeCoin.decimals)\r\n                                        : \"-\"\r\n                                    }\r\n                                </span>\r\n                                <span className=\"numeric-unit text-[0.75em]\">\r\n                                    {nativeCoin.symbol}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        {this.context.account &&\r\n                            <div className=\"cursor-pointer rounded bg-gray-100/[0.15] px-1 py-0.5 text-[0.875em]\">\r\n                                <span\r\n                                    className=\"numeric\"\r\n                                    onClick={async () => {\r\n                                        this.setState({\r\n                                            showWalletDialog: true,\r\n                                        });\r\n                                    }}\r\n                                >\r\n                                    {formatAccount(this.context.account)}\r\n                                </span>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n\r\n                    {this.state.showWalletDialog && (\r\n                        <WalletDialog\r\n                            isOpen={this.state.showWalletDialog}\r\n                            setIsOpen={() => {\r\n                                this.setState({\r\n                                    showWalletDialog: false,\r\n                                });\r\n                            }}\r\n                            context={this.context}\r\n                            canceled={() => {\r\n                                this.setState({\r\n                                    showWalletDialog: false,\r\n                                });\r\n                            }}\r\n                        />\r\n                    )}\r\n                </Fragment>\r\n            );\r\n        }\r\n    }\r\n\r\n    async onTick() {\r\n        if (this.context.chainId && Configuration.isSupportedChain(this.context.chainId) && this.context.account) {\r\n            const result = await this.context.reader.eth.getBalance(this.context.account);\r\n            const nativeCoin = Configuration.getNativeCoin(this.context.chainId);\r\n            const balance = parseFloat(fromWei(result, nativeCoin.decimals));\r\n\r\n            this.context.setBalance(balance);\r\n            this.setState({ balance });\r\n        }\r\n    }\r\n\r\n    async switchOrAddEthereumChain() {\r\n        const chainId = Configuration.getDefaultChainId();\r\n        const chain = Configuration.getChain(chainId);\r\n        const chainName = chain.name;\r\n        const nativeCurrencyName = undefined;\r\n        const nativeCurrencySymbol = chain.nativeCoin.symbol;\r\n        const nativeCurrencyDecimals = chain.nativeCoin.decimals;\r\n        const rpcUrls = [Configuration.getRpcUri(chainId)];\r\n        const blockExplorerUrls = undefined;\r\n        const iconUrls = undefined;\r\n\r\n        await this.context.self.switchOrAddEthereumChain(\r\n            chainId,\r\n            chainName,\r\n            nativeCurrencyName,\r\n            nativeCurrencySymbol,\r\n            nativeCurrencyDecimals,\r\n            rpcUrls,\r\n            blockExplorerUrls,\r\n            iconUrls\r\n        );\r\n    }\r\n}\r\n","import { NavLink } from \"react-router-dom\";\r\n\r\nexport default function Links() {\r\n  return (\r\n    <>\r\n      <NavLink className=\"nav-link\" to=\"/\" activeclassname=\"active\">Home</NavLink>\r\n      <NavLink className=\"nav-link\" to=\"/Games\" activeclassname=\"active\">Games</NavLink>\r\n      <NavLink className=\"nav-link\" to=\"/Farms\" activeclassname=\"active\">Farms</NavLink>\r\n      <NavLink className=\"nav-link\" to=\"/Rebalancing\" activeclassname=\"active\">Rebalancing</NavLink>\r\n    </>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nimport Wallet from \"./Wallet\";\r\nimport Links from \"./Links\";\r\n\r\nexport default function Navbar() {\r\n    const [isNavbarCollapsed, setIsNavbarCollapsed] = useState(true);\r\n\r\n    function toggleNavbar() {\r\n        setIsNavbarCollapsed(!isNavbarCollapsed);\r\n    }\r\n\r\n    function getRoot(uri) {\r\n        const index = uri.indexOf(\"//\");\r\n\r\n        if (index == -1) {\r\n            return undefined;\r\n        }\r\n\r\n        let result = uri.substring(0, index + 2);\r\n        const right = uri.substring(index + 2);\r\n        const parts = right.split(\".\");\r\n\r\n        if (parts.length < 2) {\r\n            return uri;\r\n        }\r\n\r\n        let delimiter = \"\";\r\n\r\n        for (let i = parts.length - 2; i < parts.length; i++) {\r\n            result += delimiter;\r\n            result += parts[i];\r\n            delimiter = \".\";\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    return (\r\n        <nav>\r\n            <div className=\"flex h-[64px] items-center justify-between\">\r\n                <div className=\"flex items-center lg:space-x-16\">\r\n                    <Link className=\"navbar-brand flex items-center gap-2\" to=\"/\">\r\n                        {/* <div className=\"bg-weeb-logo hidden h-[1200px] max-h-[64px] w-[1200px] max-w-[64px] bg-left-top bg-no-repeat sm:inline-block\"></div>\r\n                        <div className=\"bg-weeb-text h-[464px] max-h-[48px] w-[908px] max-w-[94px] bg-left-top bg-no-repeat\"></div> */}\r\n\r\n                        <div className=\"bg-weeb-logo hidden max-h-[43px] max-w-[43px] h-[43px] w-[43px] bg-left-top bg-no-repeat sm:inline-block\"></div>\r\n                        <div className=\"bg-weeb-text h-[52px] max-h-[52px] w-[102px] max-w-[102px] bg-left-top bg-no-repeat self-end\"></div>\r\n                    </Link>\r\n                    <div className=\"hidden lg:flex lg:space-x-4\">\r\n                        <Links />\r\n                        <NavLink className=\"nav-link text-red-300\" to=\"/Test\" activeclassname=\"active\">Test</NavLink>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center justify-end space-x-4\">\r\n                    <Wallet />\r\n                    <button type=\"button\" className={`lg:hidden rounded-md ring-4 focus:outline-none ${isNavbarCollapsed\r\n                        ? \"text-gray-100/75 ring-gray-100/5 hover:bg-gray-100/10 hover:text-gray-100 hover:ring-gray-100/25\"\r\n                        : \"bg-gray-100/10 text-gray-100 ring-gray-100/25\"\r\n                        }`}\r\n                        onClick={toggleNavbar}>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" className={`h-10 w-12 fill-current p-1`} fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M4 6h16M4 12h16m-7 6h7\" />\r\n                        </svg>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className={`lg:hidden ${isNavbarCollapsed\r\n                ? \"hidden\"\r\n                : \"mt-2 grid w-full grid-cols-2 gap-2 rounded-lg bg-gray-100/10\"\r\n                }`}\r\n            >\r\n                <div className=\"flex flex-col p-2 gap-1\">\r\n                    <Links />\r\n                </div>\r\n                <div className=\"flex flex-col p-2 gap-1 justify-between\">\r\n                    {/* <NavLink className=\"nav-link\" to=\"/\" activeclassname=\"active\">\r\n                        <i className=\"bi bi-file-earmark-text mr-1\" />\r\n                        Documentation\r\n                    </NavLink> */}\r\n                    {/* <NavLink className=\"nav-link\" to={getRoot(window.location.href)} activeclassname=\"active\">\r\n                        <i className=\"bi bi-box-arrow-right mr-1\" />\r\n                        Exit App\r\n                    </NavLink> */}\r\n\r\n                    {/* <a className=\"nav-link\" href={getRoot(window.location.href)}>\r\n                        Documentation\r\n                    </a> */}\r\n\r\n                    <NavLink className=\"nav-link text-right text-red-300\" to=\"/Test\" activeclassname=\"active\">Test</NavLink>\r\n\r\n                    <a className=\"nav-link text-right\" href={getRoot(window.location.href)}>\r\n                        <i className=\"bi bi-box-arrow-right mr-1\" />\r\n                        Exit App\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n","import PropTypes from \"prop-types\";\r\n\r\nexport default function Spinner({ title, type }) {\r\n    return (\r\n        <div className=\"flex flex-col items-center justify-center\">\r\n            {title &&\r\n                <span className=\"mb-2\">{title}</span>\r\n            }\r\n            {type === \"spinner\" &&\r\n                <svg className=\"animate-spin mx-auto h-6 w-6\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                    <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                    <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                </svg>\r\n            }\r\n            {type === \"cloud\" &&\r\n                <div className=\"animate-bounce mx-auto\">\r\n                    <i className=\"bi bi-cloud-arrow-down text-[1.875em]\" />\r\n                </div>\r\n            }\r\n            <div role=\"status\">\r\n                {title &&\r\n                    <span className=\"hidden\">{title}</span>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nSpinner.propTypes = {\r\n    type: PropTypes.string\r\n};\r\n\r\nSpinner.defaultProps = {\r\n    type: \"spinner\"\r\n};\r\n","import IUniswapV2Pair from \"../abi/IUniswapV2Pair.json\";\r\nimport IUniswapV2Router02 from \"../abi/IUniswapV2Router02.json\";\r\nimport TokenFinder from \"../abi/TokenFinder.json\";\r\nimport IziSwap from \"../abi/IziSwap.json\";\r\nimport WeebToken from \"../abi/WeebToken.json\";\r\nimport WeebGame from \"../abi/WeebGame.json\";\r\nimport WeebFarm from \"../abi/WeebFarm.json\";\r\n\r\nexport function createReaderContract(reader, abi, address, options) {\r\n    return new reader.eth.Contract(abi, address, options);\r\n}\r\n\r\nexport function createSignerContract(signer, abi, address, options) {\r\n    return new signer.eth.Contract(abi, address, options);\r\n}\r\n\r\nexport function createReaders(reader, account, contracts) {\r\n    const options = {\r\n        from: account ?? \"0x0000000000000000000000000000000000000000\" /* Fix for hardhat which keeps returning data of previous account when a request comes from an empty account. */\r\n    };\r\n\r\n    return {\r\n        pair: createReaderContract(reader, IUniswapV2Pair, contracts.liquidityToken, options),\r\n        router: createReaderContract(reader, IUniswapV2Router02, contracts.defaultSwapRouter, options),\r\n        token: createReaderContract(reader, WeebToken, contracts.token.address, options),\r\n        game: createReaderContract(reader, WeebGame, contracts.game, options),\r\n        farm: createReaderContract(reader, WeebFarm, contracts.farm, options),\r\n        tokenFinder: createReaderContract(reader, TokenFinder, contracts.tokenFinder, options),\r\n        iziSwap: createReaderContract(reader, IziSwap, contracts.iziSwap, options),\r\n    };\r\n}\r\n\r\nexport function createSigners(signer, account, contracts) {\r\n    const options = {\r\n        from: account\r\n    };\r\n\r\n    return {\r\n        router: createSignerContract(signer, IUniswapV2Router02, contracts.defaultSwapRouter, options),\r\n        token: createSignerContract(signer, WeebToken, contracts.token.address, options),\r\n        game: createSignerContract(signer, WeebGame, contracts.game, options),\r\n        farm: createSignerContract(signer, WeebFarm, contracts.farm, options),\r\n        iziSwap: createSignerContract(signer, IziSwap, contracts.iziSwap, options),\r\n    };\r\n}","export const MAX_UINT256 = \"115792089237316195423570985008687907853269984665640564039457584007913129639935\";\r\n\r\nexport const cmpi = (str1, str2) => str1.localeCompare(str2, undefined, { sensitivity: \"accent\" });\r\nexport const equals = (str1, str2) => cmpi(str1, str2) === 0;\r\n\r\nexport function contains(str1, str2) {\r\n    return (new RegExp(str2, \"i\")).test(str1);\r\n}\r\n\r\nexport function sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nexport function promisify(inner) {\r\n    return new Promise((resolve, reject) =>\r\n        inner((err, res) => {\r\n            if (err) {\r\n                reject(err);\r\n            } else {\r\n                resolve(res);\r\n            }\r\n        })\r\n    );\r\n}\r\n\r\nexport async function waitMined(web3, txHash, interval = 500) {\r\n    while (true) {\r\n        const receipt = await promisify(cb => web3.eth.getTransactionReceipt(txHash, cb));\r\n\r\n        if (receipt == null) {\r\n            await sleep(interval);\r\n        }\r\n        else {\r\n            return receipt;\r\n        }\r\n    }\r\n}\r\n\r\nfunction createClamp(minWidthPx, maxWidthPx, minFontSizePx, maxFontSizePx, pixelsPerRem = 16) {\r\n    const minWidth = minWidthPx / pixelsPerRem;\r\n    const maxWidth = maxWidthPx / pixelsPerRem;\r\n\r\n    const minFontSize = minFontSizePx / pixelsPerRem;\r\n    const maxFontSize = maxFontSizePx / pixelsPerRem;\r\n\r\n    const slope = (maxFontSize - minFontSize) / (maxWidth - minWidth);\r\n    const yAxisIntersection = -minWidth * slope + minFontSize\r\n\r\n    return `clamp(${minFontSize}rem, ${yAxisIntersection}rem + ${slope * 100}vw, ${maxFontSize}rem)`;\r\n}\r\n\r\nfunction createClamp2(minWidthPx, maxWidthPx, minFontSizePx, maxFontSizePx, pixelsPerRem = 16) {\r\n    const scale = 1.40;\r\n    return createClamp(minWidthPx, maxWidthPx, minFontSizePx * scale, maxFontSizePx * scale, pixelsPerRem)\r\n}\r\n\r\nexport function createClamps() {\r\n    let classes = \"\";\r\n\r\n    classes += \".getMainSize {font-size: \" + createClamp(360, 1280, 16, 30) + \";\\r\\n\" + \"}\\r\\n\";\r\n\r\n    // classes += \".text-title {font-size: \" + createClamp(360, 1536, 12, 14) + \";\\r\\n\" + \"}\\r\\n\";\r\n    // classes += \".text-main {font-size: \" + createClamp(360, 1536, 20, 40) + \";\\r\\n\" + \"}\\r\\n\";\r\n    // classes += \".text-mainUnit {font-size: \" + createClamp(360, 1536, 12, 16) + \";\\r\\n\" + \"}\\r\\n\";\r\n    // classes += \".text-detail {font-size: \" + createClamp(360, 1536, 13, 17) + \";\\r\\n\" + \"}\\r\\n\";\r\n    // classes += \".text-detailUnit {font-size: \" + createClamp(360, 1536, 10, 14) + \";\\r\\n\" + \"}\\r\\n\";\r\n\r\n    // classes += \".text-8_10 {font-size: \" + createClamp(360, 1536, 8, 10) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 8, 10) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-8_11 {font-size: \" + createClamp(360, 1536, 8, 11) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 8, 11) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-8_12 {font-size: \" + createClamp(360, 1536, 8, 12) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 8, 12) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-8_13 {font-size: \" + createClamp(360, 1536, 8, 13) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 8, 13) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-8_14 {font-size: \" + createClamp(360, 1536, 8, 14) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 8, 14) + \";\"*/ + \"}\\r\\n\";\r\n    \r\n    // classes += \".text-9_11 {font-size: \" + createClamp(360, 1536, 9, 11) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 9, 11) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-9_12 {font-size: \" + createClamp(360, 1536, 9, 12) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 9, 12) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-9_13 {font-size: \" + createClamp(360, 1536, 9, 13) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 9, 13) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-9_14 {font-size: \" + createClamp(360, 1536, 9, 14) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 9, 14) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-9_15 {font-size: \" + createClamp(360, 1536, 9, 15) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 9, 15) + \";\"*/ + \"}\\r\\n\";\r\n\r\n    // classes += \".text-10_12 {font-size: \" + createClamp(360, 1536, 10, 12) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 10, 12) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-10_13 {font-size: \" + createClamp(360, 1536, 10, 13) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 10, 13) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-10_14 {font-size: \" + createClamp(360, 1536, 10, 14) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 10, 14) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-10_15 {font-size: \" + createClamp(360, 1536, 10, 15) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 10, 15) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-10_16 {font-size: \" + createClamp(360, 1536, 10, 16) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 10, 16) + \";\"*/ + \"}\\r\\n\";\r\n    \r\n    // classes += \".text-11_13 {font-size: \" + createClamp(360, 1536, 11, 13) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 11, 13) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-11_14 {font-size: \" + createClamp(360, 1536, 11, 14) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 11, 14) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-11_15 {font-size: \" + createClamp(360, 1536, 11, 15) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 11, 15) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-11_16 {font-size: \" + createClamp(360, 1536, 11, 16) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 11, 16) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-11_17 {font-size: \" + createClamp(360, 1536, 11, 17) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 11, 17) + \";\"*/ + \"}\\r\\n\";\r\n    \r\n    // classes += \".text-12_14 {font-size: \" + createClamp(360, 1536, 12, 14) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 12, 14)+ \";\"*/  + \"}\\r\\n\";\r\n    // classes += \".text-12_15 {font-size: \" + createClamp(360, 1536, 12, 15) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 12, 15)+ \";\"*/  + \"}\\r\\n\";\r\n    // classes += \".text-12_16 {font-size: \" + createClamp(360, 1536, 12, 16) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 12, 16)+ \";\"*/  + \"}\\r\\n\";\r\n    // classes += \".text-12_17 {font-size: \" + createClamp(360, 1536, 12, 17) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 12, 17)+ \";\"*/  + \"}\\r\\n\";\r\n    // classes += \".text-12_18 {font-size: \" + createClamp(360, 1536, 12, 18) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 12, 18)+ \";\"*/  + \"}\\r\\n\";\r\n \r\n    // classes += \".text-12_24 {font-size: \" + createClamp(360, 1536, 12, 24) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 12, 24) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-12_36 {font-size: \" + createClamp(360, 1536, 12, 36) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 12, 36) + \";\"*/ + \"}\\r\\n\";\r\n\r\n    // classes += \".text-14_36 {font-size: \" + createClamp(360, 1536, 14, 36) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 14, 36) + \";\"*/ + \"}\\r\\n\";\r\n    // classes += \".text-14_40 {font-size: \" + createClamp(360, 1536, 14, 40) + \";\\r\\n\" /*+ \"line-height: \" + createClamp(360, 1536, 14, 40) + \";\"*/ + \"}\\r\\n\";\r\n\r\n    return classes;\r\n}","import Web3 from \"web3\";\r\n\r\nimport IERC20 from \"../abi/IERC20.json\";\r\nimport IUniswapV2Pair from \"../abi/IUniswapV2Pair.json\";\r\n\r\nimport Configuration from \"../../../Configuration\";\r\nimport { fromWei, toWei } from \"../../../utils/Web3Converter\";\r\nimport {\r\n    formatAccount,\r\n    formatDateTime,\r\n    formatTimespan,\r\n    formatInteger,\r\n    formatPercentage,\r\n    formatNumberScaled,\r\n    formatCurrency\r\n} from \"../../../utils/Format\";\r\nimport { MAX_UINT256, promisify, waitMined } from \"../../../utils/Utils\";\r\n\r\nimport { createReaderContract, createReaders, createSigners } from \"./Contracts\";\r\n\r\nexport default (function Services() {\r\n    const self = {\r\n        init: (context) => {\r\n            if (!context.chainId || !Configuration.isSupportedChain(context.chainId)) {\r\n                console.log(\"Can not initialize services due to unsupported chain.\");\r\n                return;\r\n            }\r\n\r\n            self.chainId = context.chainId;\r\n            self.account = context.account;\r\n\r\n            self.nativeCoin = Configuration.getNativeCoin(context.chainId);\r\n            self.contracts = Configuration.getContracts(context.chainId);\r\n\r\n            if (context.reader) {\r\n                self.reader = context.reader;\r\n                self.readers = createReaders(context.reader, context.account, self.contracts);\r\n            }\r\n\r\n            if (context.signer) {\r\n                self.signer = context.signer;\r\n                self.signers = createSigners(context.signer, context.account, self.contracts);\r\n            }\r\n        },\r\n        settings: {\r\n            slippageToleranceKey: \"slippageTolerance\",\r\n            getSlippageTolerance: () => parseFloat(window.localStorage.getItem(self.settings.slippageToleranceKey) ?? Configuration.getSlippageTolerance()),\r\n            setSlippageTolerance: (value) => {\r\n                if (value) {\r\n                    window.localStorage.setItem(self.settings.slippageToleranceKey, value);\r\n                }\r\n            },\r\n            getTokenListUri: () => {\r\n                const chainId = Web3.utils.toHex(self.chainId == 31337 ? 1 : self.chainId);\r\n                return `https://deep-index.moralis.io/api/v2/${self.account}/erc20?chain=${chainId}`;\r\n            },\r\n        },\r\n        convert: {\r\n            formatAccount: value => formatAccount(value),\r\n            formatDateTime: value => formatDateTime(value),\r\n            formatTimespan: value => formatTimespan(value),\r\n            formatInteger: value => formatInteger(value),\r\n            formatPercentage: (value, maxDecimals = 2, minDecimals = 0) => formatPercentage(value, maxDecimals, minDecimals),\r\n            formatNumberScaled: (value, maxDecimals = 2, minDecimals = 0) => formatNumberScaled(value, maxDecimals, minDecimals),\r\n            fromWei: (value, decimals) => parseFloat(fromWei(value, decimals)),\r\n            fromWeiNativeCoin: value => self.convert.fromWei(value, self.nativeCoin.decimals),\r\n            fromWeiNativeToken: value => self.convert.fromWei(value, self.contracts.nativeToken.decimals),\r\n            fromWeiStableToken: value => self.convert.fromWei(value, self.contracts.stableToken.decimals),\r\n            fromWeiMainToken: value => self.convert.fromWei(value, self.contracts.token.decimals),\r\n            trimToDecimals: (value, decimals) => {\r\n                if (typeof value === \"number\") {\r\n                    return parseFloat(value.toFixed(decimals));\r\n                }\r\n\r\n                const index = value.indexOf(\".\");\r\n\r\n                if (index != -1) {\r\n                    const count = value.length - (index + 1) - decimals;\r\n\r\n                    if (count > 0) {\r\n                        value = value.substr(0, value.length - count);\r\n                    }\r\n                }\r\n\r\n                return value;\r\n            },\r\n            toWei: (value, decimals) => toWei(self.convert.trimToDecimals(value, decimals), decimals),\r\n            toWeiNativeCoin: value => self.convert.toWei(value, self.nativeCoin.decimals),\r\n            toWeiNativeToken: value => self.convert.toWei(value, self.contracts.nativeToken.decimals),\r\n            toWeiStableToken: value => self.convert.toWei(value, self.contracts.stableToken.decimals),\r\n            toWeiMainToken: value => self.convert.toWei(value, self.contracts.token.decimals),\r\n            formatCurrency: (value, currencyDecimals) => formatCurrency(value, currencyDecimals),\r\n            formatCurrency: (value, currencyDecimals, maxDecimals, minDecimals) => formatCurrency(value, currencyDecimals, maxDecimals, minDecimals),\r\n            formatNativeCoin: value => self.convert.formatCurrency(value, self.nativeCoin.decimals),\r\n            formatNativeCoin: (value, maxDecimals, minDecimals) => self.convert.formatCurrency(value, self.nativeCoin.decimals, maxDecimals, minDecimals),\r\n            formatNativeToken: value => self.convert.formatCurrency(value, self.contracts.nativeToken.decimals),\r\n            formatNativeToken: (value, maxDecimals, minDecimals) => self.convert.formatCurrency(value, self.contracts.nativeToken.decimals, maxDecimals, minDecimals),\r\n            formatStableToken: value => self.convert.formatCurrency(value, self.contracts.stableToken.decimals),\r\n            formatStableToken: (value, maxDecimals, minDecimals) => self.convert.formatCurrency(value, self.contracts.stableToken.decimals, maxDecimals, minDecimals),\r\n            formatMainToken: value => self.convert.formatCurrency(value, self.contracts.token.decimals),\r\n            formatMainToken: (value, maxDecimals, minDecimals) => self.convert.formatCurrency(value, self.contracts.token.decimals, maxDecimals, minDecimals),\r\n            formatDepositToken: (value, pool) => self.convert.formatCurrency(value, pool.depositToken.details.decimals),\r\n            formatDepositToken: (value, pool, maxDecimals, minDecimals) => self.convert.formatCurrency(value, pool.depositToken.details.decimals, maxDecimals, minDecimals),\r\n        },\r\n        format: decimals => {\r\n            const _format = {\r\n                fromWei: (value) => self.convert.fromWei(value, decimals),\r\n                formatCurrency: (value, maxDecimals = 4, minDecimals = 0) => self.convert.formatCurrency(value, decimals, maxDecimals, minDecimals),\r\n                formatToken: (value, maxDecimals = 4, minDecimals = 0) => _format.formatCurrency(value, maxDecimals, minDecimals),\r\n            };\r\n\r\n            return _format;\r\n        },\r\n        block: {\r\n            getBlock: (blockId) => promisify(cb => self.reader.eth.getBlock(blockId, cb)),\r\n            getAverageBlockTime: async count => {\r\n                const blockF = await self.block.getBlock(\"latest\");\r\n                const now = Date.now() / 1000;\r\n                const blockI = await self.block.getBlock(blockF.number - count);\r\n                const blockTime = (blockF.timestamp - blockI.timestamp) / count;\r\n                console.log(`Block Time: ${blockTime} s; F: ${blockF.timestamp} - I: ${blockI.timestamp} = ${blockF.timestamp - blockI.timestamp} s. Lag: ${now - blockF.timestamp} s.`);\r\n\r\n                return blockTime;\r\n            }\r\n        },\r\n        pair: {\r\n            getTokenReserves: async (tokenAddress, decimals) => {\r\n                // Check the order of pair tokens.\r\n                const isTokenFirst = Web3.utils.toBN(tokenAddress).cmp(Web3.utils.toBN(self.contracts.nativeToken.address)) === -1;\r\n                const reserves = await promisify(cb => self.readers.pair.methods.getReserves().call(cb));\r\n\r\n                return isTokenFirst\r\n                    ? {\r\n                        tokenReserve: self.convert.fromWei(reserves.reserve0, decimals),\r\n                        nativeTokenReserve: self.convert.fromWei(reserves.reserve1, self.contracts.nativeToken.decimals)\r\n                    }\r\n                    : {\r\n                        tokenReserve: self.convert.fromWei(reserves.reserve1, decimals),\r\n                        nativeTokenReserve: self.convert.fromWei(reserves.reserve0, self.contracts.nativeToken.decimals)\r\n                    };\r\n            },\r\n            getMainTokenReserves: () => self.pair.getTokenReserves(self.contracts.token.address, self.contracts.token.decimals),\r\n            getMainTokenInitialReserves: () => {\r\n                const initialLiquidity = Configuration.getInitialLiquidity(self.chainId);\r\n\r\n                return {\r\n                    initialTokenReserve: self.convert.fromWeiMainToken(initialLiquidity.tokenReserve),\r\n                    initialNativeTokenReserve: self.convert.fromWeiNativeToken(initialLiquidity.nativeTokenReserve)\r\n                };\r\n            }\r\n        },\r\n        iziSwap: {\r\n            quote: (sourceRouter, sourceToken, isSourceLiquidityToken, sourceTokenAmount, targetRouter, targetToken, isTargetLiquidityToken) => promisify(cb => self.readers.iziSwap.methods.quote(sourceRouter, sourceToken, isSourceLiquidityToken, sourceTokenAmount, targetRouter, targetToken, isTargetLiquidityToken).call(cb)),\r\n            swap: async (sourceRouter, sourceToken, isSourceLiquidityToken, sourceTokenAmount, targetRouter, targetToken, isTargetLiquidityToken, to, deadline, amountOutMin) => waitMined(self.reader, await promisify(cb => self.signers.iziSwap.methods.swap(sourceRouter, sourceToken, isSourceLiquidityToken, sourceTokenAmount, targetRouter, targetToken, isTargetLiquidityToken, to, deadline, amountOutMin).send(cb))),\r\n            getTokenPriceInStableToken: async (\r\n                depositToken,\r\n                decimals,\r\n                isLiquidityToken\r\n            ) => {\r\n                const depositRouter = Configuration.getDefaultSwapRouter(self.chainId);\r\n                const creditRouter = depositRouter;\r\n                const amount = await self.iziSwap.quote(depositRouter, depositToken, isLiquidityToken, self.convert.toWei(1, decimals), creditRouter, self.contracts.stableToken.address, false);\r\n\r\n                return self.convert.fromWeiStableToken(amount);\r\n            },\r\n            getTokenPriceInMainToken: async (\r\n                depositToken,\r\n                decimals,\r\n                isLiquidityToken\r\n            ) => {\r\n                const depositRouter = Configuration.getDefaultSwapRouter(self.chainId);\r\n                const creditRouter = depositRouter;\r\n                const amount = await self.iziSwap.quote(depositRouter, depositToken, isLiquidityToken, self.convert.toWei(1, decimals), creditRouter, self.contracts.token.address, false);\r\n\r\n                return self.convert.fromWeiMainToken(amount);\r\n            }\r\n        },\r\n        router: {\r\n            getTokenPriceInStableToken: async (tokenAddress, decimals) => {\r\n                const amounts = await promisify(cb => self.readers.router.methods.getAmountsOut(self.convert.toWei(1, decimals), [\r\n                    tokenAddress,\r\n                    self.contracts.nativeToken.address,\r\n                    self.contracts.stableToken.address\r\n                ]).call(cb));\r\n\r\n                return self.convert.fromWeiStableToken(amounts[amounts.length - 1]);\r\n            },\r\n            getMainTokenPriceInStableToken: () => {\r\n                return self.router.getTokenPriceInStableToken(self.contracts.token.address, self.contracts.token.decimals);\r\n            },\r\n            getNativeTokenPriceInStableToken: async () => {\r\n                const amounts = await promisify(cb => self.readers.router.methods.getAmountsOut(self.convert.toWei(1, self.contracts.nativeToken.decimals), [\r\n                    self.contracts.nativeToken.address,\r\n                    self.contracts.stableToken.address\r\n                ]).call(cb));\r\n\r\n                return self.convert.fromWeiStableToken(amounts[amounts.length - 1]);\r\n            },\r\n            getTokenPriceInMainToken: async (tokenAddress, decimals) => {\r\n                const amounts = await promisify(cb => self.readers.router.methods.getAmountsOut(self.convert.toWei(1, decimals), [\r\n                    tokenAddress,\r\n                    self.contracts.nativeToken.address,\r\n                    self.contracts.token.address\r\n                ]).call(cb));\r\n\r\n                return self.convert.fromWeiMainToken(amounts[amounts.length - 1]);\r\n            },\r\n            getMainTokenAmountFromNativeCoin: async (nativeCoinAmountIn) => {\r\n                const amounts = await promisify(cb => self.readers.router.methods.getAmountsOut(self.convert.toWeiNativeCoin(nativeCoinAmountIn), [\r\n                    self.contracts.nativeToken.address,\r\n                    self.contracts.token.address\r\n                ]).call(cb));\r\n\r\n                return self.convert.fromWeiMainToken(amounts[amounts.length - 1]);\r\n            },\r\n            getNativeCoinAmountFromMainToken: async (mainTokenAmountIn) => {\r\n                const amounts = await promisify(cb => self.readers.router.methods.getAmountsOut(self.convert.toWeiMainToken(mainTokenAmountIn), [\r\n                    self.contracts.token.address,\r\n                    self.contracts.nativeToken.address\r\n                ]).call(cb));\r\n\r\n                return self.convert.fromWeiNativeCoin(amounts[amounts.length - 1]);\r\n            },\r\n            swapNativeTokenForMainToken: async (nativeCoinAmountIn, tokenAmountOutMin, recipient) => {\r\n                return waitMined(self.reader,\r\n                    await promisify(cb => self.signers.router.methods.swapExactETHForTokensSupportingFeeOnTransferTokens(\r\n                        self.convert.toWeiMainToken(tokenAmountOutMin),\r\n                        [self.contracts.nativeToken.address, self.contracts.token.address],\r\n                        recipient ? recipient : self.account,\r\n                        parseInt((Date.now() / 1000) + 3600)\r\n                    ).send({ value: self.convert.toWeiNativeCoin(nativeCoinAmountIn) }, cb)));\r\n            },\r\n            swapMainTokenForNativeToken: async (mainTokenAmountIn, amountNativeTokenOutMin, recipient) => {\r\n                return waitMined(self.reader,\r\n                    await promisify(cb => self.signers.router.methods.swapExactTokensForETHSupportingFeeOnTransferTokens(\r\n                        self.convert.toWeiMainToken(mainTokenAmountIn),\r\n                        self.convert.toWeiNativeCoin(amountNativeTokenOutMin),\r\n                        [self.contracts.token.address, self.contracts.nativeToken.address],\r\n                        recipient ? recipient : self.account,\r\n                        parseInt((Date.now() / 1000) + 3600)\r\n                    ).send(cb)));\r\n            },\r\n        },\r\n        token: {\r\n            balanceOf: async (tokenAddress) => {\r\n                const reader = createReaderContract(self.reader, IERC20, tokenAddress, { from: self.account });\r\n                return promisify(cb => reader.methods.balanceOf(self.account).call(cb));\r\n            },\r\n            transfer: async (recipient, amount) => waitMined(self.reader, await promisify(cb => self.signers.token.methods.transfer(recipient, amount).send(cb))),\r\n            getAllowance: (owner, spender) => promisify(cb => self.readers.token.methods.allowance(owner, spender).call(cb)),\r\n            getTokenSnapshot: () => promisify(cb => self.readers.token.methods.senderTokenSnapshot().call(cb)),\r\n            harvestPendingReward: async () => waitMined(self.reader, await promisify(cb => self.readers.token.methods.harvestPendingReward().send(cb))),\r\n            approveRouter: async () => waitMined(self.reader, await promisify(cb => self.signers.token.methods.approve(self.readers.router.options.address, MAX_UINT256).send(cb))),\r\n            approveGame: async () => waitMined(self.reader, await promisify(cb => self.signers.token.methods.approve(self.readers.game.options.address, MAX_UINT256).send(cb))),\r\n            isAllowed: async (minAmount, allowance) => allowance.eq(Web3.utils.toBN(0)) ? false : allowance.cmp(Web3.utils.toBN(minAmount)) >= 0,\r\n            isAllowanceSatisfied: async (spender, minAmount) => {\r\n                console.log(`minAmount: ${minAmount}`);\r\n                const allowance = Web3.utils.toBN(await self.token.getAllowance(self.account, spender));\r\n                return self.token.isAllowed(minAmount, allowance);\r\n            },\r\n        },\r\n        game: {\r\n            getAllowance: () => self.token.getAllowance(self.account, self.readers.game.options.address),\r\n            getSnapshots: (isEnabled) => promisify(cb => self.readers.game.methods.senderGameSnapshots(isEnabled).call(cb)),\r\n            getSenderBetPoolCount: (gameId) => promisify(cb => self.readers.game.methods.senderBetPoolCount(gameId).call(cb)),\r\n            getSenderPoolSnapshots: (gameId, offset, count) => promisify(cb => self.readers.game.methods.senderPoolSnapshots(gameId, offset, count).call(cb)),\r\n            getSenderBetPools: (gameId) => promisify(cb => self.readers.game.methods.senderBetPools(gameId).call(cb)),\r\n            betMainToken: async (gameId, amount, outcome) => {\r\n                console.log(\"bet main\");\r\n                return waitMined(self.reader, await promisify(cb => self.signers.game.methods.bet(gameId, amount, outcome).send(cb)));\r\n            },\r\n            bet: async (gameId, sourceToken, sourceAmount, outcome, gameTokenInfo) => {\r\n                const sourceAmountInWei = self.convert.toWei(sourceAmount, sourceToken.info.details.decimals);\r\n                const amountOut = self.convert.fromWei(await self.iziSwap.quote(sourceToken.info.router, sourceToken.info.token, sourceToken.isLiquidityToken, sourceAmountInWei, gameTokenInfo.router, gameTokenInfo.token, false), gameTokenInfo.details.decimals);\r\n                const amountMin = amountOut * self.settings.getSlippageTolerance() / 10000;\r\n                const amountOutMin = amountOut - amountMin;\r\n\r\n                return waitMined(self.reader, await promisify(cb => self.signers.game.methods.bet(gameId, sourceToken.info.router, sourceToken.info.token, sourceToken.isLiquidityToken, self.convert.toWei(amountOut, gameTokenInfo.details.decimals), self.convert.toWei(amountOutMin, gameTokenInfo.details.decimals), outcome).send(cb)));\r\n            },\r\n            compound: async (gameId, outcome) => waitMined(self.reader, await promisify(cb => self.signers.game.methods.compound(gameId, outcome).send(cb))),\r\n            claim: async (gameId) => waitMined(self.reader, await promisify(cb => self.signers.game.methods.claim(gameId).send(cb))),\r\n            harvestPendingReward: (gameId, outcome) => self.game.betMainToken(gameId, 0, outcome),\r\n            isAllowanceSatisfied: async (minAmount) => {\r\n                const allowance = Web3.utils.toBN(await self.game.getAllowance());\r\n                return self.token.isAllowed(minAmount, allowance);\r\n            },\r\n        },\r\n        farm: {\r\n            getDepositTokenSymbol: (pool) => pool.isLiquidityToken ? `${pool.token0Details.symbol}/${pool.token1Details.symbol}` : pool.depositToken.details.symbol,\r\n            conversionRateOf: (depositRouter, depositToken, isLiquidityToken, deposit, creditRouter, creditToken) => promisify(cb => self.readers.farm.methods.conversionRateOf(depositRouter, depositToken, isLiquidityToken, deposit, creditRouter, creditToken).call(cb)),\r\n            getAllowance: (reader) => promisify(cb => reader.methods.allowance(self.account, self.readers.farm.options.address).call(cb)),\r\n            approveFarm: async (signer) => waitMined(self.reader, await promisify(cb => signer.methods.approve(self.readers.farm.options.address, MAX_UINT256).send(cb))),\r\n            getSnapshot: (isEnabled) => promisify(cb => self.readers.farm.methods.senderFarmSnapshot(isEnabled).call(cb)),\r\n            getLiquidatablesSnapshot: (isEnabled) => promisify(cb => self.readers.farm.methods.senderFarmLiquidatablesSnapshot(isEnabled).call(cb)),\r\n            REMOVE_deposit: async (poolId, amount) => waitMined(self.reader, await promisify(cb => self.signers.farm.methods.deposit(poolId, amount, self.settings.getSlippageTolerance()).send(cb))),\r\n            deposit: async (poolId, sourceToken, sourceAmount, pool) => {\r\n                const sourceAmountInWei = self.convert.toWei(sourceAmount, sourceToken.info.details.decimals);\r\n                const amountOut = self.convert.fromWei(await self.iziSwap.quote(sourceToken.info.router, sourceToken.info.token, sourceToken.isLiquidityToken, sourceAmountInWei, pool.depositToken.router, pool.depositToken.token, pool.isLiquidityToken), pool.depositToken.details.decimals);\r\n                const amountMin = amountOut * self.settings.getSlippageTolerance() / 10000;\r\n                const amountOutMin = amountOut - amountMin;\r\n\r\n                return waitMined(self.reader, await promisify(cb => self.signers.farm.methods.deposit(poolId, sourceToken.info.router, sourceToken.info.token, sourceToken.isLiquidityToken, self.convert.toWei(amountOut, pool.depositToken.details.decimals), self.convert.toWei(amountOutMin, pool.depositToken.details.decimals)).send(cb)));\r\n            },\r\n            withdraw: async (poolId, amount) => waitMined(self.reader, await promisify(cb => self.signers.farm.methods.withdraw(poolId, amount).send(cb))),\r\n            rebalance: async (poolId) => waitMined(self.reader, await promisify(cb => self.signers.farm.methods.rebalance(poolId).send(cb))),\r\n            liquidate: async (poolId) => waitMined(self.reader, await promisify(cb => self.signers.farm.methods.liquidateSenderUnchecked(poolId, self.settings.getSlippageTolerance()).send(cb))),\r\n            liquidateAccount: async (poolId, investor) => waitMined(self.reader, await promisify(cb => self.signers.farm.methods.liquidateAccount(poolId, investor, self.settings.getSlippageTolerance()).send(cb))),\r\n            isAllowanceSatisfied: async (pool, minAmount) => {\r\n                const reader = createReaderContract(self.reader, pool.isLiquidityToken ? IUniswapV2Pair : IERC20, pool.depositToken.token, { from: self.account });\r\n                const allowance = Web3.utils.toBN(await self.farm.getAllowance(reader));\r\n                return self.token.isAllowed(minAmount, allowance);\r\n            },\r\n            getTokenPriceInDepositToken: async (token, pool) => {\r\n                const amount = await self.iziSwap.quote(token.info.router, token.info.token, token.isLiquidityToken, self.convert.toWei(1, token.info.details.decimals), pool.depositToken.router, pool.depositToken.token, pool.isLiquidityToken);\r\n\r\n                return self.convert.fromWei(amount, pool.depositToken.details.decimals);\r\n            },\r\n        },\r\n        tokenFinder: {\r\n            findAll: (tokenAddress) => promisify(cb => self.readers.tokenFinder.methods.findAll(tokenAddress).call(cb)),\r\n        }\r\n    };\r\n\r\n    return self;\r\n})();","// import BN from \"bn.js\";\r\n\r\nexport const DAYS_IN_WEEK = 7;\r\nexport const DAYS_IN_MONTH = 30.4167;\r\nexport const DAYS_IN_YEAR = 365;\r\n\r\n// export function getAnnualPercentageYieldBigDecimal(rewardPerBlock, blockTime, totalStaked, investment) {\r\n//     var rate = getRewardRatePerDay(rewardPerBlock, blockTime, totalStaked, investment);\r\n//     return BN.pow(1 + rate, 365) - 1;\r\n// }\r\n\r\n/// <summary>\r\n///     https://www.thecalculatorsite.com/finance/calculators/daily-compound-interest.php\r\n/// </summary>\r\n\r\nexport function getDurationPercentageYield2(rewardPerBlock, blockTime, totalStaked, investment, duration) {\r\n    var rate = getRewardRatePerDay(rewardPerBlock, blockTime, totalStaked, investment);\r\n    return Math.pow(1 + rate, duration) - 1;\r\n}\r\n\r\n// If user wants to invest \"investment\" amount of to the existing \"totalStaked\".\r\nexport function getRewardRatePerDay(rewardPerBlock, blockTime, totalStaked, investment) {\r\n    return _getRewardPerDay(rewardPerBlock, blockTime) / (totalStaked + investment);\r\n}\r\n\r\n// This is compounded interest. The reward earned increases user's balance and totalStaked as well which renders constantish daily earned reward for the user.\r\nexport function getDurationPercentageYield(rewardPerBlock, blockTime, totalStaked, investment, duration) {\r\n    const rpd = getRewardPerDay(rewardPerBlock, blockTime, totalStaked + investment, investment);\r\n    return (rpd * duration) / investment;\r\n}\r\n\r\nexport function getRewardPerDay(rewardPerBlock, blockTime, totalStaked, balance) {\r\n    return _getRewardPerDay(rewardPerBlock, blockTime) * balance / totalStaked;\r\n}\r\n\r\nexport function getRewardPerDuration(rewardPerBlock, blockTime, duration) {\r\n    return _getRewardPerDay(rewardPerBlock, blockTime) * duration;\r\n}\r\n\r\nfunction _getRewardPerDay(rewardPerBlock, blockTime) {\r\n    return 60 * 60 * 24 * rewardPerBlock / blockTime;\r\n}\r\n\r\nexport function getRewards(rewardPerBlock, blockTime, totalStaked, balance, duration, compound) {\r\n    const rewardPerDay = _getRewardPerDay(rewardPerBlock, blockTime);\r\n    const dailyRewards = [];\r\n\r\n    for (let i = 0; i < duration; ++i) {\r\n        let reward = rewardPerDay * balance / totalStaked;\r\n        totalStaked += rewardPerDay;\r\n\r\n        if (compound) {\r\n            balance += reward;\r\n        } else {\r\n            totalStaked -= reward;\r\n        }\r\n\r\n        if (i > 0) {\r\n            reward += dailyRewards[i - 1];\r\n        }\r\n\r\n        dailyRewards.push(reward);\r\n    }\r\n\r\n    console.log(`Final balance: ${balance}`);\r\n    console.log(`Total staked : ${totalStaked}`);\r\n    console.log(dailyRewards);\r\n\r\n    const str = dailyRewards.join(\"\\r\\n\");\r\n    console.log(str);\r\n\r\n    return dailyRewards;\r\n}\r\n\r\nexport function getRewardsOfIncrementedBalance(rewardPerBlock, blockTime, totalStaked, balance, duration, compound, balanceIncrement, balanceIncrementPeriod) {\r\n    const rewardPerDay = _getRewardPerDay(rewardPerBlock, blockTime);\r\n    const dailyRewards = [];\r\n\r\n    for (let i = 0; i < duration; ++i) {\r\n        let reward = rewardPerDay * balance / totalStaked;\r\n        totalStaked += rewardPerDay;\r\n\r\n        if (compound) {\r\n            balance += reward;\r\n        } else {\r\n            totalStaked -= reward;\r\n        }\r\n\r\n        if (i > 0) {\r\n            reward += dailyRewards[i - 1];\r\n\r\n            if ((i + 1) % balanceIncrementPeriod === 0) {\r\n                balance += balanceIncrement;\r\n                totalStaked += balanceIncrement;\r\n            }\r\n        }\r\n\r\n        dailyRewards.push(reward);\r\n    }\r\n\r\n    console.log(`Final balance: ${balance}`);\r\n    console.log(`Total staked : ${totalStaked}`);\r\n    console.log(dailyRewards);\r\n\r\n    const str = dailyRewards.join(\"\\r\\n\");\r\n    console.log(str);\r\n\r\n    return dailyRewards;\r\n}","import { useState } from \"react\";\r\nimport { Portal, Popover } from \"@headlessui/react\";\r\nimport { usePopper } from \"react-popper\";\r\n\r\nexport function StyledPopover({ isTooltip, children, icon }) {\r\n    const [referenceElement, setReferenceElement] = useState();\r\n    const [popperElement, setPopperElement] = useState();\r\n\r\n    const { styles, attributes } = usePopper(referenceElement, popperElement);\r\n\r\n    return (\r\n        <Popover as=\"span\">\r\n            <Popover.Button as=\"i\" ref={setReferenceElement} className={`bi ${isTooltip ? icon ?? \"bi-question-circle\" : icon ?? \"bi-three-dots\"} cursor-pointer hover:animate-pulse`}>\r\n            </Popover.Button>\r\n\r\n            <Portal>\r\n                <Popover.Panel ref={setPopperElement} style={styles.popper} {...attributes.popper} className=\"z-10 card popover rounded-lg shadow w-full max-w-md\">\r\n                    {children}\r\n                </Popover.Panel>\r\n            </Portal>\r\n        </Popover>\r\n    );\r\n}\r\n","export const ShowComponentType = Object.freeze({\r\n    All: 255,\r\n    Token: 1,\r\n    Games: 2,\r\n    Farms: 4,\r\n    Liquidatables: 8\r\n});\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Configuration from \"../../Configuration\";\r\n\r\nimport $ from \"./core/Services\";\r\n\r\nimport { DAYS_IN_WEEK, DAYS_IN_MONTH, DAYS_IN_YEAR, getDurationPercentageYield, getRewardRatePerDay, getRewardPerDay, getRewardPerDuration } from \"../../utils/InterestExtensions\";\r\n\r\nimport { PriceBox } from \"../InfoBox\";\r\nimport { StyledPopover } from \"../StyledPopover\";\r\n\r\nimport { ShowComponentType } from \"./Enums\";\r\n\r\n/*\r\n{\r\n    card,\r\n    borderBottom,\r\n    showCompact,\r\n    showHeader,\r\n    showHarvestButton,\r\n    token,\r\n    priceInNativeToken,\r\n    priceInStableToken,\r\n    harvestPendingReward,\r\n    blockTime\r\n}\r\n*/\r\nexport default class Token extends Component {\r\n    static propTypes = {\r\n        card: PropTypes.string,\r\n        borderBottom: PropTypes.string,\r\n        showCompact: PropTypes.bool,\r\n        showHeader: PropTypes.bool,\r\n        showHarvestButton: PropTypes.bool,\r\n        harvestPendingReward: PropTypes.func\r\n    }\r\n\r\n    static defaultProps = {\r\n        card: \"card-t1\",\r\n        borderBottom: \"border-bottom-t1\",\r\n        showCompact: false,\r\n        showHeader: true,\r\n        showHarvestButton: true,\r\n        harvestPendingReward: async () => {\r\n        }\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            isDetailed: !(props.showCompact && props.showHeader),\r\n            isInteractionDisabled: false\r\n        };\r\n\r\n        this.toggleDetailedVisibility = this.toggleDetailedVisibility.bind(this);\r\n        this.execute = this.execute.bind(this);\r\n    }\r\n\r\n    render() {\r\n        const now = Date.now() / 1000;\r\n        const nativeTokenPriceInStableToken = this.props.priceInStableToken / this.props.priceInNativeToken;\r\n        const swapRouterName = Configuration.getSwapRouterName($.chainId, Configuration.getDefaultSwapRouter($.chainId));\r\n        const tokenExplorerUri = `${Configuration.getBlockExplorerLink($.chainId)}/token/${this.props.token.contractAddress}`;\r\n        const senderBalance = $.convert.fromWeiMainToken(this.props.token.senderBalance);\r\n        const senderLockedBalance = $.convert.fromWeiMainToken(this.props.token.senderLockedBalance);\r\n        const senderFreeBalance = $.convert.fromWeiMainToken(this.props.token.senderFreeBalance);\r\n        const senderPendingReward = $.convert.fromWeiMainToken(this.props.token.senderPendingReward);\r\n        const maximumSupply = $.convert.fromWeiMainToken(this.props.token.maximumSupply);\r\n        const initialSupply = $.convert.fromWeiMainToken(this.props.token.initialSupply);\r\n        const totalSupply = $.convert.fromWeiMainToken(this.props.token.totalSupply);\r\n        const senderBalanceShare = totalSupply === 0 ? 0 : senderBalance / totalSupply;\r\n        const totalLockedSupply = $.convert.fromWeiMainToken(this.props.token.totalLockedSupply);\r\n        const totalStaked = $.convert.fromWeiMainToken(this.props.token.totalStaked);\r\n        const senderStakeShare = totalStaked === 0 ? 0 : senderBalance / totalStaked;\r\n        const supplyInContracts = $.convert.fromWeiMainToken(this.props.token.supplyInContracts);\r\n        const supplyInNonrewardables = $.convert.fromWeiMainToken(this.props.token.supplyInNonrewardables);\r\n        const totalRewarded = $.convert.fromWeiMainToken(this.props.token.totalRewarded);\r\n        const totalTransacted = $.convert.fromWeiMainToken(this.props.token.totalTransacted.total);\r\n        const seigniorageFee = parseFloat(this.props.token.seigniorageFee.rate) / 10000;\r\n        const seigniorageFeeCollected = $.convert.fromWeiMainToken(this.props.token.seigniorageFee.collected.total);\r\n        const seignioryExplorerUri = `${Configuration.getBlockExplorerLink($.chainId)}/address/${this.props.token.seigniory}`;\r\n        const reducedEmissionHolderLimit = parseInt(this.props.token.reducedEmissionHolderLimit);\r\n        const isRegularEmission = (reducedEmissionHolderLimit == 0 || parseInt(this.props.token.holders) > reducedEmissionHolderLimit);\r\n        const baseRewardPerBlock = $.convert.fromWeiMainToken(this.props.token.baseRewardPerBlock);\r\n        const maximumRewardPerBlock = $.convert.fromWeiMainToken(this.props.token.maximumRewardPerBlock);\r\n        const currentRewardPerBlock = $.convert.fromWeiMainToken(this.props.token.currentRewardPerBlock);\r\n        const transferBurnRate = parseFloat(this.props.token.transferBurnRate) / 10000;\r\n        const salesBaseBurnRate = parseFloat(this.props.token.salesBaseBurnRate) / 10000;\r\n        const salesMaximumBurnRate = parseFloat(this.props.token.salesMaximumBurnRate) / 10000;\r\n        const currentSalesBurnRate = parseFloat(this.props.token.currentSalesBurnRate) / 10000;\r\n        const rebatableBurnRate = parseFloat(this.props.token.rebatableBurnRate) / 10000;\r\n        const rebateMaximizingShare = parseFloat(this.props.token.rebateMaximizingShare) / 10000;\r\n        const rebateShareStepsize = parseFloat(this.props.token.rebateShareStepsize) / 10000;\r\n        const regulationInterval = parseInt(this.props.token.regulationInterval);\r\n        const regulationTimestamp = parseInt(this.props.token.regulationTimestamp);\r\n        const timeToRegulation = (regulationTimestamp + regulationInterval) - now;\r\n        const priceAverage = $.convert.fromWeiMainToken(this.props.token.priceAverage);\r\n        const rewardMultiplier = parseFloat(this.props.token.rewardMultiplier) / 10000;\r\n        const burnMultiplier = parseFloat(this.props.token.burnMultiplier) / 10000;\r\n        const senderRebateRate = parseFloat(this.props.token.senderRebateRate) / 10000;\r\n        const senderTransferBurnRate = transferBurnRate - (transferBurnRate * rebatableBurnRate * senderRebateRate);\r\n        const senderSalesBurnRate = currentSalesBurnRate - (currentSalesBurnRate * rebatableBurnRate * senderRebateRate);\r\n        const senderTotalRebated = $.convert.fromWeiMainToken(this.props.token.senderTotalRebated.total);\r\n        const senderTotalBurnt = $.convert.fromWeiMainToken(this.props.token.senderTotalBurnt.total);\r\n\r\n        const maxRewardPerD = getRewardPerDuration(maximumRewardPerBlock, this.props.blockTime, 1);\r\n        const maxRewardPerW = maxRewardPerD * DAYS_IN_WEEK;\r\n        const maxRewardPerM = maxRewardPerD * DAYS_IN_MONTH;\r\n        const maxRewardPerY = maxRewardPerD * DAYS_IN_YEAR;\r\n        const currentRewardPerD = getRewardPerDuration(currentRewardPerBlock, this.props.blockTime, 1);\r\n        const currentRewardPerW = currentRewardPerD * DAYS_IN_WEEK;\r\n        const currentRewardPerM = currentRewardPerD * DAYS_IN_MONTH;\r\n        const currentRewardPerY = currentRewardPerD * DAYS_IN_YEAR;\r\n\r\n        const senderMaxRewardPerD = getRewardPerDay(maximumRewardPerBlock, this.props.blockTime, totalStaked, senderBalance);\r\n        const senderMaxRewardPerW = senderMaxRewardPerD * DAYS_IN_WEEK;\r\n        const senderMaxRewardPerM = senderMaxRewardPerD * DAYS_IN_MONTH;\r\n        const senderMaxRewardPerY = senderMaxRewardPerD * DAYS_IN_YEAR;\r\n        const senderCurrentRewardPerD = getRewardPerDay(currentRewardPerBlock, this.props.blockTime, totalStaked, senderBalance);\r\n        const senderCurrentRewardPerW = senderCurrentRewardPerD * DAYS_IN_WEEK;\r\n        const senderCurrentRewardPerM = senderCurrentRewardPerD * DAYS_IN_MONTH;\r\n        const senderCurrentRewardPerY = senderCurrentRewardPerD * DAYS_IN_YEAR;\r\n\r\n        const pendingPoolReward = $.convert.fromWeiMainToken(this.props.token.pendingPoolReward);\r\n        const rewardLastDistributedBlock = parseInt(this.props.token.rewardLastDistributedBlock);\r\n        const blocksFromRewardLastDistributed = rewardLastDistributedBlock > 0 ? (parseInt(this.props.token.currentBlock) - rewardLastDistributedBlock) : 0;\r\n        const timeFromRewardLastDistributed = blocksFromRewardLastDistributed * this.props.blockTime;\r\n\r\n        const senderTotalHarvested = $.convert.fromWeiMainToken(this.props.token.senderTotalHarvested.total);\r\n        const totalRebated = $.convert.fromWeiMainToken(this.props.token.totalRebated.total);\r\n        const totalBurnt = $.convert.fromWeiMainToken(this.props.token.totalBurnt.total);\r\n        const totalHarvested = $.convert.fromWeiMainToken(this.props.token.totalHarvested.total);\r\n\r\n        const valueInStableToken = Configuration.getPercentageYieldInvestmentInStablecoin() / this.props.priceInStableToken;\r\n\r\n        const cdpy = getDurationPercentageYield(currentRewardPerBlock, this.props.blockTime, totalStaked, valueInStableToken, 1);\r\n        const cwpy = getDurationPercentageYield(currentRewardPerBlock, this.props.blockTime, totalStaked, valueInStableToken, DAYS_IN_WEEK);\r\n        const cmpy = getDurationPercentageYield(currentRewardPerBlock, this.props.blockTime, totalStaked, valueInStableToken, DAYS_IN_MONTH);\r\n        const capy = getDurationPercentageYield(currentRewardPerBlock, this.props.blockTime, totalStaked, valueInStableToken, DAYS_IN_YEAR);\r\n\r\n        const tooltipTotalLockedSupplyText = (<span className=\"tooltip text-[80%]\">\r\n            Temporary addition to circulating supply. Passive supply which can generate yield but can not be sold.\r\n        </span>);\r\n        const tooltipRewardMaximizingHoldersText = (<span className=\"tooltip text-[80%]\">\r\n            The number of holders required for maximum reward per block emission to avoid liquidity concentration.\r\n        </span>);\r\n        const tooltipSenderTotalRebatedText = (<span className=\"tooltip text-[80%]\">\r\n            Rebates earned from burns by holding higher balance share.\r\n        </span>);\r\n        const tooltipSeigniorageFeeText = (<span className=\"tooltip text-[80%]\">\r\n            Fee paid to the seignory (token owner) from burns.\r\n        </span>);\r\n\r\n        // 1. popoverSenderBalanceRef\r\n        const popoverSenderBalanceContent = (\r\n            <div className=\"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]\">\r\n                <PriceBox\r\n                    title=\"Locked Balance\"\r\n                    main={$.convert.formatMainToken(senderLockedBalance)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderLockedBalance * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n                <PriceBox\r\n                    title=\"Free Balance\"\r\n                    main={$.convert.formatMainToken(senderFreeBalance)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderFreeBalance * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    mainClassName=\"glow\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Balance Share\"\r\n                    main={$.convert.formatPercentage(senderBalanceShare)}\r\n                    mainUnit=\"%\"\r\n                    mainClassName=\"neon\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Stake Share\"\r\n                    main={$.convert.formatPercentage(senderStakeShare)}\r\n                    mainUnit=\"%\"\r\n                    mainClassName=\"neon\"\r\n                />\r\n            </div>\r\n        );\r\n\r\n        // 2a. popoverSenderBurnRateRef\r\n        const popoverSenderTransferBurnRateContent = (\r\n            <div className=\"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]\">\r\n                <PriceBox\r\n                    title=\"Rebatable Burn Rate (RBR)\"\r\n                    main={$.convert.formatPercentage(rebatableBurnRate)}\r\n                    mainUnit=\"%\"\r\n                    detail={$.convert.formatPercentage(transferBurnRate * rebatableBurnRate)}\r\n                    detailUnit=\"% from TBR\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Rebate Maximizing Share\"\r\n                    main={$.convert.formatPercentage(rebateMaximizingShare)}\r\n                    mainUnit=\"%\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Rebate Share Stepsize\"\r\n                    main={$.convert.formatPercentage(rebateShareStepsize)}\r\n                    mainUnit=\"%\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Your Rebate Rate of RBR\"\r\n                    main={$.convert.formatPercentage(senderRebateRate)}\r\n                    mainUnit=\"%\"\r\n                    detail={$.convert.formatPercentage(transferBurnRate * rebatableBurnRate * senderRebateRate)}\r\n                    detailUnit=\"% of TBR\"\r\n                />\r\n            </div>\r\n        );\r\n\r\n        // 2b. popoverSenderBurnRateRef\r\n        const popoverSenderSalesBurnRateContent = (\r\n            <div className=\"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]\">\r\n                <PriceBox\r\n                    title=\"Rebatable Burn Rate (RBR)\"\r\n                    main={$.convert.formatPercentage(rebatableBurnRate)}\r\n                    mainUnit=\"%\"\r\n                    detail={$.convert.formatPercentage(currentSalesBurnRate * rebatableBurnRate)}\r\n                    detailUnit=\"% from CSBR\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Rebate Maximizing Share\"\r\n                    main={$.convert.formatPercentage(rebateMaximizingShare)}\r\n                    mainUnit=\"%\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Rebate Share Stepsize\"\r\n                    main={$.convert.formatPercentage(rebateShareStepsize)}\r\n                    mainUnit=\"%\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Your Rebate Rate of RBR\"\r\n                    main={$.convert.formatPercentage(senderRebateRate)}\r\n                    mainUnit=\"%\"\r\n                    detail={$.convert.formatPercentage(currentSalesBurnRate * rebatableBurnRate * senderRebateRate)}\r\n                    detailUnit=\"% of CSBR\"\r\n                />\r\n            </div>\r\n        );\r\n\r\n        // 3. popoverMaxRewardPerBlockRef\r\n        const popoverMaxRewardPerBlockContent = (\r\n            <div className=\"grid grid-cols-12 gap-x-2 gap-y-4 text-[80%]\">\r\n                <PriceBox\r\n                    containerClassName=\"col-span-6\"\r\n                    title=\"Maximum Reward Per Day\"\r\n                    main={$.convert.formatMainToken(maxRewardPerD)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(maxRewardPerD * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n                <PriceBox\r\n                    containerClassName=\"col-span-6\"\r\n                    title=\"Maximum Reward Per Week\"\r\n                    main={$.convert.formatMainToken(maxRewardPerW)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(maxRewardPerW * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n                <PriceBox\r\n                    containerClassName=\"col-span-6\"\r\n                    title=\"Maximum Reward Per Month\"\r\n                    main={$.convert.formatMainToken(maxRewardPerM)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(maxRewardPerM * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n                <PriceBox\r\n                    containerClassName=\"col-span-6\"\r\n                    title=\"Maximum Reward Per Year\"\r\n                    main={$.convert.formatMainToken(maxRewardPerY)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(maxRewardPerY * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n\r\n                <div className={`col-span-12 ${this.props.borderBottom}`}></div>\r\n\r\n                <PriceBox\r\n                    containerClassName=\"col-span-6\"\r\n                    title=\"Your Maximum Reward Per Day\"\r\n                    main={$.convert.formatMainToken(senderMaxRewardPerD)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderMaxRewardPerD * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n                <PriceBox\r\n                    containerClassName=\"col-span-6\"\r\n                    title=\"Your Maximum Reward Per Week\"\r\n                    main={$.convert.formatMainToken(senderMaxRewardPerW)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderMaxRewardPerW * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n                <PriceBox\r\n                    containerClassName=\"col-span-6\"\r\n                    title=\"Your Maximum Reward Per Month\"\r\n                    main={$.convert.formatMainToken(senderMaxRewardPerM)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderMaxRewardPerM * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n                <PriceBox\r\n                    containerClassName=\"col-span-6\"\r\n                    title=\"Your Maximum Reward Per Year\"\r\n                    main={$.convert.formatMainToken(senderMaxRewardPerY)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderMaxRewardPerY * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n            </div>\r\n        );\r\n\r\n        // 4. popoverCurrentRewardPerBlockRef\r\n        const popoverCurrentRewardPerBlockContent = (\r\n            <div className=\"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]\">\r\n                <PriceBox\r\n                    title={(<><span className=\"mr-1\">Reward Maximizing Holders</span><StyledPopover isTooltip={true} children={tooltipRewardMaximizingHoldersText} /></>)}\r\n                    main={$.convert.formatInteger(this.props.token.reducedEmissionHolderLimit)}\r\n                />\r\n                <PriceBox\r\n                    title=\"Current Holders\"\r\n                    main={$.convert.formatInteger(this.props.token.holders)}\r\n                    detail={(<span className=\"font-display\">{isRegularEmission ? \"Regular Reward Emission\" : \"Reduced Reward Emission\"}</span>)}\r\n                    detailClassName=\"uppercase text-red-500\"\r\n                />\r\n\r\n                <span className=\"group-title light-box opacity-75 col-span-2\">Pool's Current Reward</span>\r\n                <PriceBox\r\n                    title=\"Per Day\"\r\n                    main={$.convert.formatMainToken(currentRewardPerD)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(currentRewardPerD * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n                <PriceBox\r\n                    title=\"Per Week\"\r\n                    main={$.convert.formatMainToken(currentRewardPerW)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(currentRewardPerW * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n                <PriceBox\r\n                    title=\"Per Month\"\r\n                    main={$.convert.formatMainToken(currentRewardPerM)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(currentRewardPerM * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n                <PriceBox\r\n                    title=\"Per Year\"\r\n                    main={$.convert.formatMainToken(currentRewardPerY)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(currentRewardPerY * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n\r\n                <span className=\"group-title light-box opacity-75 col-span-2\">Your Current Reward</span>\r\n                <PriceBox\r\n                    title=\"Per Day\"\r\n                    main={$.convert.formatMainToken(senderCurrentRewardPerD)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderCurrentRewardPerD * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n                <PriceBox\r\n                    title=\"Per Week\"\r\n                    main={$.convert.formatMainToken(senderCurrentRewardPerW)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderCurrentRewardPerW * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n                <PriceBox\r\n                    title=\"Per Month\"\r\n                    main={$.convert.formatMainToken(senderCurrentRewardPerM)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderCurrentRewardPerM * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n                <PriceBox\r\n                    title=\"Per Year\"\r\n                    main={$.convert.formatMainToken(senderCurrentRewardPerY)}\r\n                    mainUnit={this.props.token.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderCurrentRewardPerY * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                />\r\n            </div>\r\n        );\r\n\r\n        const lastHarvest = parseInt(this.props.token.senderTotalHarvested.timestamp) === 0 ? \"-\" : $.convert.formatTimespan(now - parseInt(this.props.token.senderTotalHarvested.timestamp));\r\n\r\n        return (\r\n            <div className=\"grid grid-cols-1 gap-y-2\">\r\n                <div className={`card bg-weeb-card1/60 bg-diagonal-lines`}>\r\n                    {this.props.showHeader &&\r\n                        <>\r\n                            <div className=\"grid grid-cols-1 gap-x-2 gap-y-0.5\">\r\n                                <div className=\"flex items-center justify-between\">\r\n                                    <span className=\"card-header-title-text opacity-75 cursor-pointer\" onClick={this.toggleDetailedVisibility}>\r\n                                        <i className={`bi ${(this.state.isDetailed ? \"bi-caret-down-fill\" : \"bi-caret-right-fill\")} mr-1`} />\r\n                                        {this.props.token.details.name}\r\n                                    </span>\r\n                                    <div className=\"card-header-item-text truncate opacity-25 2xs:ml-4\">\r\n                                        <i className=\"bi bi-clipboard mr-1 cursor-pointer\" onClick={async () => {\r\n                                            try {\r\n                                                await navigator.clipboard.writeText(this.props.token.contractAddress);\r\n                                                console.log(\"The token contract address is copied to clipboard.\");\r\n                                            } catch (error) {\r\n                                                console.error(\"Failed to copy the token contract address: \", error);\r\n                                            }\r\n                                        }} />\r\n                                        <a href={tokenExplorerUri} rel=\"noreferrer\" target=\"_blank\" className=\"numeric hover:select-all\">{this.props.token.contractAddress}</a>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"flex items-center justify-between card-header-item-text\">\r\n                                    <span className=\"opacity-25\">{swapRouterName}</span>\r\n                                    <span className=\"numeric opacity-25\">\r\n                                        <i className=\"bi bi-box mr-1\" />\r\n                                        {$.convert.formatInteger(this.props.token.currentBlock)}\r\n                                    </span>\r\n                                </div>\r\n\r\n                                <div className={`mt-0.5 mb-3 ${this.props.borderBottom} border-2`}></div>\r\n                            </div>\r\n                        </>\r\n                    }\r\n                    {/* Header View*/}\r\n                    <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4\">\r\n                        <PriceBox\r\n                            title=\"Price\"\r\n                            main={$.convert.formatStableToken(this.props.priceInStableToken)}\r\n                            mainUnit={$.contracts.stableToken.symbol}\r\n                            detail={$.convert.formatNativeToken(1 / this.props.priceInNativeToken)}\r\n                            detailUnit={`${this.props.token.details.symbol}/${$.contracts.nativeToken.symbol}`}\r\n                        />\r\n                        <PriceBox\r\n                            title={(<><span className=\"mr-1\">Balance</span><StyledPopover children={popoverSenderBalanceContent} /></>)}\r\n                            main={$.convert.formatMainToken(senderBalance)}\r\n                            mainUnit={this.props.token.details.symbol}\r\n                            detail={$.convert.formatMainToken(senderBalance * this.props.priceInStableToken)}\r\n                            detailUnit={$.contracts.stableToken.symbol}\r\n                        />\r\n                        <PriceBox\r\n                            title=\"Pending Reward\"\r\n                            main={$.convert.formatMainToken(senderPendingReward, 4, 4)}\r\n                            mainUnit={this.props.token.details.symbol}\r\n                            detail={this.props.token.isSenderNonrewardable ? \"Nonrewardable\" : $.convert.formatStableToken(senderPendingReward * this.props.priceInStableToken, 2, 2)}\r\n                            detailUnit={this.props.token.isSenderNonrewardable ? null : $.contracts.stableToken.symbol}\r\n                            mainClassName=\"neon\"\r\n                            detailClassName={`${this.props.token.isSenderNonrewardable ? \"font-display uppercase text-red-400\" : \"\"}`}\r\n                        />\r\n                        <PriceBox\r\n                            containerClassName=\"auto-rows-auto\"\r\n                            title={(\r\n                                <>\r\n                                    Last Harvest\r\n                                    {this.props.token.isDirectHarvestingEnabled\r\n                                        ? (<i className=\"bi bi-lightning-charge-fill text-green-500\" />)\r\n                                        : null}\r\n                                    {this.props.token.isSenderDirectHarvester\r\n                                        ? (<i className=\"bi bi-lightning-charge-fill text-red-500\" />)\r\n                                        : null}\r\n                                </>\r\n                            )}\r\n                            main={this.props.showHarvestButton && lastHarvest}\r\n                            info={!this.props.showHarvestButton && lastHarvest}\r\n                            detail={(\r\n                                <>\r\n                                    {this.props.showHarvestButton &&\r\n                                        <div className=\"sm:container font-display mt-1\">\r\n                                            <button\r\n                                                autoFocus={true}\r\n                                                type=\"button\"\r\n                                                className=\"w-full h-9 btn btn-green\"\r\n                                                disabled={this.state.isInteractionDisabled || senderPendingReward === 0}\r\n                                                onClick={async () => {\r\n                                                    await this.execute(() => this.props.harvestPendingReward());\r\n                                                }}\r\n                                            >\r\n                                                Harvest the Reward\r\n                                            </button>\r\n                                        </div>\r\n                                    }\r\n                                </>\r\n                            )}\r\n                            mainClassName={this.props.showHarvestButton ? \"text-[0.875em]\" : \"\"}\r\n                            infoClassName={!this.props.showHarvestButton ? \"text-[1.4em] self-end\" : \"\"}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                {(this.state.isDetailed && this.props.showHeader) &&\r\n                    <>\r\n                        {/* Supply View */}\r\n                        <div className={`card bg-weeb-card1/40 bg-diagonal-lines`}>\r\n                            <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4 text-[80%]\">\r\n                                <span className=\"group-title light-box opacity-75 col-span-2 sm:col-span-4\">Supply Details</span>\r\n                                <PriceBox\r\n                                    title=\"Circulating Supply\"\r\n                                    main={$.convert.formatMainToken(totalSupply)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Market Cap.\"\r\n                                    main={$.convert.formatStableToken(totalSupply * this.props.priceInStableToken)}\r\n                                    mainUnit={$.contracts.stableToken.symbol}\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Initial Supply\"\r\n                                    main={$.convert.formatMainToken(initialSupply)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(initialSupply * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                />\r\n                                {(maximumSupply > 0)\r\n                                    ? <PriceBox\r\n                                        title=\"Maximum Supply\"\r\n                                        main={$.convert.formatMainToken(maximumSupply)}\r\n                                        mainUnit={this.props.token.details.symbol}\r\n                                        detail={$.convert.formatStableToken(maximumSupply * this.props.priceInStableToken)}\r\n                                        detailUnit={$.contracts.stableToken.symbol}\r\n                                    />\r\n                                    : <PriceBox\r\n                                        title=\"Maximum Supply\"\r\n                                        main=\"Dynamic\"\r\n                                        mainClassName=\"font-display\"\r\n                                    />\r\n                                }\r\n\r\n                                <div className={`col-span-2 sm:col-span-4 ${this.props.borderBottom}`}></div>\r\n\r\n                                <PriceBox\r\n                                    title={(<><span className=\"mr-1\">Total Locked Supply</span><StyledPopover isTooltip={true} children={(<span>{tooltipTotalLockedSupplyText}</span>)} /></>)}\r\n                                    main={$.convert.formatMainToken(totalLockedSupply)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(totalLockedSupply * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Total Staked\"\r\n                                    main={$.convert.formatMainToken(totalStaked)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(totalStaked * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Supply in Contracts\"\r\n                                    main={$.convert.formatMainToken(supplyInContracts)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(supplyInContracts * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Supply in Nonrewardables\"\r\n                                    main={$.convert.formatMainToken(supplyInNonrewardables)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(supplyInNonrewardables * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Reward View */}\r\n                        <div className={`card bg-weeb-card1/40 bg-diagonal-lines`}>\r\n                            <div className=\"grid grid-cols-6 gap-x-2 gap-y-4 text-[80%]\">\r\n                                <span className=\"group-title light-box opacity-75 col-span-6\">Token Emission</span>\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title=\"Reward Per Block [Min, Max]\"\r\n                                    main={`[${$.convert.formatMainToken(baseRewardPerBlock)}, ${maximumRewardPerBlock === 0 ? \"-\" : $.convert.formatMainToken(maximumRewardPerBlock)}]`}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title=\"Reward Multiplier\"\r\n                                    main={$.convert.formatNumberScaled(1 + rewardMultiplier)}\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title={(<><span className=\"sm:hidden\">Avg. </span><span className=\"hidden sm:inline\">Average </span>Block Time</>)}\r\n                                    main={this.props.blockTime}\r\n                                    mainUnit=\"s\"\r\n                                />\r\n                                {/* <PriceBox\r\n                                    title={(<><span className=\"mr-1\">Maximum Reward Per Block</span>{!isRegularEmission && <StyledPopover children={popoverMaxRewardPerBlockContent} />}</>)}\r\n                                    main={$.convert.formatMainToken(maximumRewardPerBlock)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(maximumRewardPerBlock * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    mainClassName=\"glow\"\r\n                                /> */}\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title={(<><span className=\"mr-1 hidden sm:inline\">Current Reward Per Block</span><span className=\"mr-1 sm:hidden\">Current Reward/Block</span><StyledPopover children={popoverCurrentRewardPerBlockContent} /></>)}\r\n                                    main={$.convert.formatMainToken(currentRewardPerBlock)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(currentRewardPerBlock * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    mainClassName=\"neon\"\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title=\"Pending Pool Reward\"\r\n                                    main={$.convert.formatMainToken(pendingPoolReward, 4, 4)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(pendingPoolReward * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    // info={this.getActivity2(blocksFromRewardLastDistributed, timeFromRewardLastDistributed)}\r\n                                    info={(<span><i className=\"bi bi-calendar2-check mr-1\" />{$.convert.formatInteger(rewardLastDistributedBlock)} / {$.convert.formatInteger(blocksFromRewardLastDistributed)}</span>)}\r\n                                    infoClassName=\"opacity-25 light-box\"\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title=\"Your Total Harvested\"\r\n                                    main={$.convert.formatMainToken(senderTotalHarvested)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(senderTotalHarvested * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    info={this.getActivity(this.props.token.senderTotalHarvested.count, this.props.token.senderTotalHarvested.timestamp, now)}\r\n                                />\r\n\r\n                                <div className={`col-span-6 ${this.props.borderBottom}`}></div>\r\n\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title=\"Transfer Burn Rate (TBR)\"\r\n                                    main={$.convert.formatPercentage(transferBurnRate)}\r\n                                    mainUnit=\"%\"\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title={(<><span className=\"mr-1\">Your Transfer Burn Rate</span><StyledPopover children={popoverSenderTransferBurnRateContent} /></>)}\r\n                                    main={this.props.token.isSenderNonburnable ? (<s>{$.convert.formatPercentage(senderTransferBurnRate)}</s>) : $.convert.formatPercentage(senderTransferBurnRate)}\r\n                                    mainUnit=\"%\"\r\n                                    info={this.props.token.isSenderNonburnable ? (<span className=\"font-display\">You're Burn Free</span>) : null}\r\n                                    infoClassName=\"opacity-75 font-semibold uppercase text-red-500\"\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title=\"Sales Burn Rates [Min, Max]\"\r\n                                    main={`[${$.convert.formatPercentage(salesBaseBurnRate)}, ${salesMaximumBurnRate === 0 ? \"-\" : $.convert.formatPercentage(salesMaximumBurnRate)}]`}\r\n                                    mainUnit=\"%\"\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title=\"Sales Burn Multiplier\"\r\n                                    main={$.convert.formatNumberScaled(1 + burnMultiplier)}\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title=\"Current Sales Burn Rate (CSBR)\"\r\n                                    main={$.convert.formatPercentage(currentSalesBurnRate)}\r\n                                    mainUnit=\"%\"\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title={(<><span className=\"mr-1\">Your Sales Burn Rate</span><StyledPopover children={popoverSenderSalesBurnRateContent} /></>)}\r\n                                    main={this.props.token.isSenderNonburnable ? (<s>{$.convert.formatPercentage(senderSalesBurnRate)}</s>) : $.convert.formatPercentage(senderSalesBurnRate)}\r\n                                    mainUnit=\"%\"\r\n                                    info={this.props.token.isSenderNonburnable ? (<span className=\"font-display\">You're Burn Free</span>) : null}\r\n                                    infoClassName=\"opacity-75 font-semibold uppercase text-red-500\"\r\n                                />\r\n\r\n                                <div className={`col-span-6 ${this.props.borderBottom}`}></div>\r\n\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3\"\r\n                                    title={(<><span className=\"mr-1\">Your Total Rebated</span><StyledPopover isTooltip={true} children={(<span>{tooltipSenderTotalRebatedText}</span>)} /></>)}\r\n                                    main={$.convert.formatMainToken(senderTotalRebated)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(senderTotalRebated * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    info={this.getActivity(this.props.token.senderTotalRebated.count, this.props.token.senderTotalRebated.timestamp, now)}\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3\"\r\n                                    title=\"Your Total Burnt\"\r\n                                    main={$.convert.formatMainToken(senderTotalBurnt)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(senderTotalBurnt * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    info={this.getActivity(this.props.token.senderTotalBurnt.count, this.props.token.senderTotalBurnt.timestamp, now)}\r\n                                />\r\n\r\n                                <span className=\"group-title light-box opacity-75 col-span-6\">Inflation Regulator</span>\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title=\"Time From Last Regulation\"\r\n                                    main={$.convert.formatTimespan(now - regulationTimestamp)}\r\n                                    mainClassName={now - regulationTimestamp > regulationInterval ? \"text-red-500\" : null}\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title=\"Regulation Interval\"\r\n                                    main={$.convert.formatTimespan(regulationInterval)}\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-2\"\r\n                                    title=\"Interval Average Price\"\r\n                                    main={$.convert.formatStableToken(priceAverage * nativeTokenPriceInStableToken)}\r\n                                    mainUnit={$.contracts.stableToken.symbol}\r\n                                    detail={priceAverage == 0 ? \"-\" : $.convert.formatNativeToken(1 / priceAverage)}\r\n                                    detailUnit={`${this.props.token.details.symbol}/${$.contracts.nativeToken.symbol}`}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Info View */}\r\n                        <div className={`card bg-weeb-card1/40 bg-diagonal-lines`}>\r\n                            <div className=\"grid grid-cols-4 gap-x-2 gap-y-4 text-[80%]\">\r\n                                <span className=\"group-title light-box opacity-75 col-span-4\">Current Percentage Yield</span>\r\n                                <PriceBox\r\n                                    title=\"Daily\"\r\n                                    main={$.convert.formatPercentage(cdpy, 4)}\r\n                                    mainUnit=\"%\"\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Weekly\"\r\n                                    main={$.convert.formatPercentage(cwpy, 3)}\r\n                                    mainUnit=\"%\"\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Monthly\"\r\n                                    main={$.convert.formatPercentage(cmpy)}\r\n                                    mainUnit=\"%\"\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Annual\"\r\n                                    main={$.convert.formatPercentage(capy)}\r\n                                    mainUnit=\"%\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* General View */}\r\n                        <div className={`card bg-weeb-card1/40 bg-diagonal-lines`}>\r\n                            <div className=\"grid grid-cols-6 sm:grid-cols-5 gap-x-2 gap-y-4 text-[80%]\">\r\n                                <span className=\"group-title light-box opacity-75 col-span-6 sm:col-span-5\">Liquidity & Others</span>\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-1\"\r\n                                    title=\"Total Liquidity\"\r\n                                    main={$.convert.formatMainToken(this.props.token.tokenReserve)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatNativeToken(this.props.token.nativeTokenReserve)}\r\n                                    detailClassName=\"text-[1.4em] before:content-['+'] before:block before:text-[0.75em]\"\r\n                                    detailUnit={$.contracts.nativeToken.symbol}\r\n                                    detailUnitClassName=\"text-[0.75em]\"\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-3 sm:col-span-1\"\r\n                                    title=\"Initial Liquidity\"\r\n                                    main={$.convert.formatMainToken(this.props.token.initialTokenReserve)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatNativeToken(this.props.token.initialNativeTokenReserve)}\r\n                                    detailClassName=\"text-[1.4em] before:content-['+'] before:block before:text-[0.75em]\"\r\n                                    detailUnit={$.contracts.nativeToken.symbol}\r\n                                    detailUnitClassName=\"text-[0.75em]\"\r\n                                />\r\n\r\n                                <div className={`col-span-6 sm:hidden ${this.props.borderBottom}`}></div>\r\n\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-2 sm:col-span-1\"\r\n                                    title={(<><span className=\"mr-1\">Seigniorage Fee</span><StyledPopover isTooltip={true} children={(<span>{tooltipSeigniorageFeeText}</span>)} /></>)}\r\n                                    main={$.convert.formatPercentage(seigniorageFee)}\r\n                                    mainUnit=\"%\"\r\n                                    detail={(<a href={seignioryExplorerUri} rel=\"noreferrer\" target=\"_blank\" className=\"numeric\">{$.convert.formatAccount(this.props.token.seigniory)}</a>)}\r\n                                    info={this.props.token.isSenderSeignory ? (<span className=\"font-display\">You're Seignory</span>) : null}\r\n                                    infoClassName=\"opacity-75 light-box font-semibold uppercase text-red-500\"\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-2 sm:col-span-1\"\r\n                                    title=\"Transfers\"\r\n                                    main={$.convert.formatInteger(this.props.token.transfers)}\r\n                                />\r\n                                <PriceBox\r\n                                    containerClassName=\"col-span-2 sm:col-span-1\"\r\n                                    title=\"Holders\"\r\n                                    main={$.convert.formatInteger(this.props.token.holders)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Totals View */}\r\n                        <div className={`card bg-weeb-card1/40 bg-diagonal-lines`}>\r\n                            <div className=\"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-6 gap-x-2 gap-y-4 text-[80%]\">\r\n                                <span className=\"group-title light-box opacity-75 col-span-2 md:col-span-3 xl:col-span-6\">Statistics</span>\r\n                                <PriceBox\r\n                                    title={(<>Total Transacted<span className=\"hidden sm:inline\"> Volume</span></>)}\r\n                                    main={$.convert.formatMainToken(totalTransacted)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(totalTransacted * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    info={this.getActivity(this.props.token.totalTransacted.count, this.props.token.totalTransacted.timestamp, now)}\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Seigniorage Collected\"\r\n                                    main={$.convert.formatMainToken(seigniorageFeeCollected)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(seigniorageFeeCollected * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    info={this.getActivity(this.props.token.seigniorageFee.collected.count, this.props.token.seigniorageFee.collected.timestamp, now)}\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Total Rebated\"\r\n                                    main={$.convert.formatMainToken(totalRebated)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(totalRebated * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    info={this.getActivity(this.props.token.totalRebated.count, this.props.token.totalRebated.timestamp, now)}\r\n                                />\r\n\r\n                                <div className={`hidden md:block md:col-span-3 xl:hidden ${this.props.borderBottom}`}></div>\r\n\r\n                                <PriceBox\r\n                                    title=\"Total Burnt\"\r\n                                    main={$.convert.formatMainToken(totalBurnt)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(totalBurnt * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    info={this.getActivity(this.props.token.totalBurnt.count, this.props.token.totalBurnt.timestamp, now)}\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Total Rewarded\"\r\n                                    main={$.convert.formatMainToken(totalRewarded)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(totalRewarded * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Total Harvested\"\r\n                                    main={$.convert.formatMainToken(totalHarvested)}\r\n                                    mainUnit={this.props.token.details.symbol}\r\n                                    detail={$.convert.formatStableToken(totalHarvested * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    info={this.getActivity(this.props.token.totalHarvested.count, this.props.token.totalHarvested.timestamp, now)}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Content generators\r\n    getActivity(count, timestamp, now) {\r\n        return (\r\n            <div className=\"flex justify-evenly space-x-1\">\r\n                <span className=\"light-box w-full\"><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(count)}</span>\r\n                <span className=\"light-box w-full\"><i className=\"bi bi-clock mr-1\" />{timestamp > 0 ? $.convert.formatTimespan(now - timestamp) : \"-\"}</span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getActivity2(count, timespan) {\r\n        return (\r\n            <div className=\"flex justify-evenly space-x-1\">\r\n                <span className=\"light-box w-full\"><i className=\"bi bi-calendar2-check mr-1\" />{$.convert.formatInteger(count)}</span>\r\n                <span className=\"light-box w-full\"><i className=\"bi bi-clock mr-1\" />{timespan > 0 ? $.convert.formatTimespan(timespan) : \"-\"}</span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getSimulatedRewardPerBlockValues(rewardPerBlock, reducedEmissionHolderLimit) {\r\n        const values = [];\r\n\r\n        for (let i = 0; i <= reducedEmissionHolderLimit;) {\r\n            values.push({\r\n                holder: i,\r\n                rewardPerBlock: rewardPerBlock * i / reducedEmissionHolderLimit\r\n            });\r\n\r\n            i += 100;\r\n\r\n            // if (i <= 10) {\r\n            //     i += 1;\r\n            // } else if (i <= 100) {\r\n            //     i += 10;\r\n            // } else {\r\n            //     i += 100;\r\n            // }\r\n        }\r\n\r\n        return values;\r\n    }\r\n\r\n    // Actions\r\n    toggleDetailedVisibility() {\r\n        this.setState({ isDetailed: !this.state.isDetailed });\r\n    }\r\n\r\n    async execute(func) {\r\n        this.setState({ isInteractionDisabled: true });\r\n\r\n        try {\r\n            await func();\r\n        } catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            this.setState({ isInteractionDisabled: false });\r\n        }\r\n    }\r\n}\r\n","export function getQuoteAssetInflowRequiredToIncreaseThePriceByFactorOf(factor, reserveQuoteAsset) {\r\n    return (Math.sqrt(factor) - 1) * reserveQuoteAsset;\r\n}\r\n\r\nexport function getBaseAssetOutflowRequiredToDecreaseThePriceByFactorOf(factor, reserveBaseAsset) {\r\n    return (1 / Math.sqrt(factor) - 1) * reserveBaseAsset;\r\n}\r\n\r\nexport function getPriceIncreaseFactorFromQuoteAssetInflow(inflowQuoteAssetAmount, reserveQuoteAsset) {\r\n    return Math.pow((inflowQuoteAssetAmount / reserveQuoteAsset + 1), 2);\r\n}\r\n\r\nexport function getPriceDecreaseFactorFromBaseAssetOutflow(outflowBaseAssetAmount, reserveBaseAsset) {\r\n    return Math.pow(1 / (outflowBaseAssetAmount / reserveBaseAsset + 1), 2);\r\n}\r\n\r\nexport function getAmountOut(amount0In, reserve0, reserve1) {\r\n    return amount0In * reserve1 / (amount0In + reserve0);\r\n}","import { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport { MainText } from \"../../../InfoBox\";\r\n\r\nexport default function RangeInput({\r\n    isDisabled,\r\n    min,\r\n    max,\r\n    decimals,\r\n    percentages,\r\n    valueClassName,\r\n    rangeClassName,\r\n    buttonClassName,\r\n    setValue,\r\n    setPercentage\r\n}) {\r\n    const [value, setValueInternal] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const v = parseFloat(value);\r\n        const m = parseFloat(max);\r\n\r\n        if (v > m) {\r\n            updateValues(m);\r\n        }\r\n    }, [max]);\r\n\r\n    function format(x) {\r\n        return x ? parseFloat(parseFloat(x).toFixed(decimals)) : 0;\r\n    }\r\n\r\n    function getStep() {\r\n        return !isNaN(decimals) ? Math.pow(10, -decimals) : 0;\r\n    }\r\n\r\n    function updateValues(n) {\r\n        const mx = parseFloat(max);\r\n        const mn = parseFloat(min);\r\n\r\n        if (n > mx) {\r\n            n = mx;\r\n        }\r\n\r\n        if (n < mn) {\r\n            n = mn;\r\n        }\r\n\r\n        setValueInternal(n);\r\n        setValue(n);\r\n\r\n        // Update the percentage.\r\n        const r = mx - mn;\r\n        setPercentage(r !== 0 ? n / r : 0);\r\n    }\r\n\r\n    function onValueChanged(e) {\r\n        updateValues(e.target.value != null ? format(e.target.value) : 0);\r\n    }\r\n\r\n    function setPercentageFormatted(percentage) {\r\n        const mx = parseFloat(max);\r\n        const mn = parseFloat(min);\r\n\r\n        const n = mn + (mx - mn) * percentage / 100;\r\n        updateValues(n);\r\n    }\r\n\r\n    function getSelectablePercentages() {\r\n        const items = [];\r\n\r\n        for (let i = 0; i < percentages.length; ++i) {\r\n            const percentage = percentages[i];\r\n\r\n            items.push((\r\n                <button key={i}\r\n                    type=\"button\"\r\n                    className={`${buttonClassName} ${i < 2 ? \"hidden lg:inline\" : \"\"}`}\r\n                    onClick={() => setPercentageFormatted(percentage)}\r\n                >\r\n                    <MainText\r\n                        sizeCount={1}\r\n                        main={percentage}\r\n                        mainUnit=\"%\"\r\n                        mainClassName=\"!text-[0.875em]\"\r\n                        mainUnitClassName=\"!text-[0.6875em] ml-0.5\"\r\n                    />\r\n                </button>\r\n            ));\r\n        }\r\n\r\n        return items;\r\n    }\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-1 gap-y-1\">\r\n            <input\r\n                disabled={isDisabled}\r\n                type=\"number\"\r\n                className={`text-[2em] numeric text-right h-fit ${valueClassName}`}\r\n                min={format(min)}\r\n                max={format(max)}\r\n                step={format(getStep())}\r\n                value={format(value)}\r\n                onInput={onValueChanged}\r\n            />\r\n            <input\r\n                disabled={isDisabled}\r\n                type=\"range\"\r\n                list=\"tickmarks\"\r\n                className={`border-0 focus:border-0 ring-0 focus:ring-0 ${rangeClassName}`}\r\n                min={format(min)}\r\n                max={format(max)}\r\n                step={format(getStep())}\r\n                value={format(value)}\r\n                onInput={onValueChanged}\r\n            />\r\n            {/* <datalist id=\"tickmarks\">\r\n                <option value=\"0\" label=\"0%\"></option>\r\n                <option value=\"10\"></option>\r\n                <option value=\"20\"></option>\r\n                <option value=\"30\"></option>\r\n                <option value=\"40\"></option>\r\n                <option value=\"50\" label=\"50%\"></option>\r\n                <option value=\"60\"></option>\r\n                <option value=\"70\"></option>\r\n                <option value=\"80\"></option>\r\n                <option value=\"90\"></option>\r\n                <option value=\"100\" label=\"100%\"></option>\r\n            </datalist> */}\r\n            <div className=\"flex items-center justify-center space-x-2 lg:justify-evenly\">\r\n                {getSelectablePercentages()}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nRangeInput.propTypes = {\r\n    percentages: PropTypes.array,\r\n    buttonClassName: PropTypes.string\r\n};\r\n\r\nRangeInput.defaultProps = {\r\n    percentages: [1, 2, 5, 10, 25, 50, 75, 100],\r\n    buttonClassName: \"btn btn-indigo text-violet-50 numeric w-11 h-7\"\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function DelayedInput({\r\n    delay,\r\n    type,\r\n    id,\r\n    className,\r\n    defaultValue,\r\n    placeholder,\r\n    list,\r\n    min,\r\n    max,\r\n    step,\r\n    onInput\r\n}) {\r\n    const [input, setInput] = useState();\r\n\r\n    useEffect(() => {\r\n        //if (!input) {\r\n            setInput(defaultValue);\r\n        //}\r\n    }, [defaultValue]);\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(() => onInput(input), delay);\r\n        return () => clearTimeout(timerId);\r\n    }, [input]);\r\n\r\n    return (\r\n        <input\r\n            type={type}\r\n            autoComplete=\"off\"\r\n            id={id}\r\n            className={className}\r\n            value={input ? type === \"number\" && isNaN(input) ? \"\" : input : \"\"}\r\n            placeholder={placeholder}\r\n            list={list}\r\n            min={min}\r\n            max={max}\r\n            step={step}\r\n            onChange={e => setInput(e.target.value)}\r\n        />\r\n    )\r\n}\r\n\r\nDelayedInput.propTypes = {\r\n    delay: PropTypes.number,\r\n    type: PropTypes.string,\r\n    id: PropTypes.string,\r\n    className: PropTypes.string,\r\n    defaultValue: PropTypes.any,\r\n    placeholder: PropTypes.string,\r\n    list: PropTypes.string,\r\n    step: PropTypes.any,\r\n    onInput: PropTypes.func\r\n}\r\n\r\nDelayedInput.defaultProps = {\r\n    delay: 400,\r\n    type: \"search\",\r\n    placeholder: \"Search here...\",\r\n    onInput: () => {\r\n    }\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { Switch } from \"@headlessui/react\";\r\nimport Web3 from \"web3\";\r\n\r\nimport $ from \"./core/Services\";\r\n\r\nimport { getAmountOut } from \"../../utils/PriceExtensions\";\r\n\r\nimport RangeInput from \"./dialogs/core/RangeInput\";\r\nimport DelayedInput from \"./dialogs/core/DelayedInput\";\r\n\r\nimport { MainText, PriceBox } from \"../InfoBox\";\r\nimport Configuration from \"../../Configuration\";\r\n\r\nexport default function Swap({\r\n    isDarkTheme,\r\n    nativeCoinBalance,\r\n    token,\r\n    nativeTokenPriceInStableToken,\r\n    swap\r\n}) {\r\n    const Mode = Object.freeze({\r\n        Buy: 0,\r\n        Sell: 1\r\n    });\r\n\r\n    const [showSlippageTolerance, setShowSlippageTolerance] = useState(false);\r\n    const [isInteractionDisabled, setIsInteractionDisabled] = useState(false);\r\n\r\n    const [mode, setMode] = useState(Mode.Buy);\r\n    const [amount, setAmount] = useState(0);\r\n    const [percentage, setPercentage] = useState(0);\r\n    const [recipient, setRecipient] = useState();\r\n\r\n    const [maxReceived, setMaxReceived] = useState(0);\r\n    const [minReceived, setMinReceived] = useState(0);\r\n    const [maxPriceImpact, setMaxPriceImpact] = useState(0);\r\n    const [minPriceImpact, setMinPriceImpact] = useState(0);\r\n\r\n    const tokenBalance = $.convert.fromWeiMainToken(token.senderFreeBalance);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            if (amount > 0) {\r\n                const tokenPriceInNativeToken = token.nativeTokenReserve / token.tokenReserve;\r\n                const swapFee = Configuration.getSwapRouterSwapFee($.chainId, Configuration.getDefaultSwapRouter($.chainId)) / 10000;\r\n\r\n                console.log({ tokenReserve: token.tokenReserve, nativeTokenReserve: token.nativeTokenReserve });\r\n                console.log(`initial price: ${nativeTokenPriceInStableToken * tokenPriceInNativeToken}`);\r\n\r\n                if (mode === Mode.Buy) {\r\n                    // const max = await $.router.getMainTokenAmountFromNativeCoin(amount);\r\n                    // setMaxReceived(max);\r\n\r\n                    const max = getAmountOut(amount * (1 - swapFee), token.nativeTokenReserve, token.tokenReserve);\r\n                    setMaxReceived(max);\r\n\r\n                    const min = max - max * $.settings.getSlippageTolerance() / 10000;\r\n                    setMinReceived(min);\r\n\r\n                    let finalTokenPriceInNativeToken = (amount * (1 - swapFee) + token.nativeTokenReserve) / (token.tokenReserve - max);\r\n                    let priceImpact = (finalTokenPriceInNativeToken - tokenPriceInNativeToken) / tokenPriceInNativeToken;\r\n                    setMaxPriceImpact(priceImpact);\r\n\r\n                    finalTokenPriceInNativeToken = (amount * (1 - swapFee) + token.nativeTokenReserve) / (token.tokenReserve - min);\r\n                    priceImpact = (finalTokenPriceInNativeToken - tokenPriceInNativeToken) / tokenPriceInNativeToken;\r\n                    setMinPriceImpact(priceImpact);\r\n\r\n                    console.log(`mainTokenOut: ${max}; price: ${nativeTokenPriceInStableToken * finalTokenPriceInNativeToken}`);\r\n                } else {\r\n                    // const max = await $.router.getNativeCoinAmountFromMainToken(amount);\r\n                    // setMaxReceived(max);\r\n\r\n                    const max = getAmountOut(amount * (1 - swapFee), token.tokenReserve, token.nativeTokenReserve);\r\n                    setMaxReceived(max);\r\n\r\n                    const min = max - max * $.settings.getSlippageTolerance() / 10000;\r\n                    setMinReceived(min);\r\n\r\n                    let finalTokenPriceInNativeToken = (token.nativeTokenReserve - max) / (token.tokenReserve + amount * (1 - swapFee));\r\n                    let priceImpact = (finalTokenPriceInNativeToken - tokenPriceInNativeToken) / tokenPriceInNativeToken;\r\n                    setMaxPriceImpact(priceImpact);\r\n\r\n                    finalTokenPriceInNativeToken = (token.nativeTokenReserve - min) / (token.tokenReserve + amount * (1 - swapFee));\r\n                    priceImpact = (finalTokenPriceInNativeToken - tokenPriceInNativeToken) / tokenPriceInNativeToken;\r\n                    setMinPriceImpact(priceImpact);\r\n\r\n                    console.log(`nativeTokenOut: ${max}; price: ${nativeTokenPriceInStableToken * finalTokenPriceInNativeToken}`);\r\n                }\r\n            }\r\n        })();\r\n    }, [amount, token.tokenReserve, token.nativeTokenReserve]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"grid grid-cols-1 gap-y-3\">\r\n                <div className=\"flex items-center justify-between group-title light-box opacity-75 h-9 px-2\">\r\n                    <Switch.Group>\r\n                        <div className=\"flex items-center\">\r\n                            <Switch\r\n                                checked={mode === Mode.Buy}\r\n                                onChange={toggleMode}\r\n                                className={`${isDarkTheme ? \"bg-violet-900/80\" : \"bg-violet-300\"} relative inline-flex items-center h-5 rounded-full w-11 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-violet-300/50`}\r\n                            >\r\n                                <span className=\"sr-only\">Swap mode</span>\r\n                                <span className={`${mode === Mode.Buy ? \"translate-x-6\" : \"translate-x-1\"} inline-block w-4 h-4 transform ${isDarkTheme ? \"bg-violet-300\" : \"bg-slate-800\"} rounded-full transition-transform`} />\r\n                            </Switch>\r\n                            <Switch.Label className=\"leading-6 ml-1.5\">\r\n                                {mode === Mode.Buy ? \"Buy\" : \"Sell\"} {$.contracts.token.symbol}\r\n                            </Switch.Label>\r\n                        </div>\r\n                    </Switch.Group>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 gap-y-0.5\">\r\n                    <div className=\"flex items-center justify-between leading-6\">\r\n                        <span className=\"input-label\">\r\n                            Amount:\r\n                            <span className=\"ml-1\">\r\n                                (\r\n                                <MainText\r\n                                    main={$.convert.formatPercentage(percentage)}\r\n                                    mainUnit=\"%\"\r\n                                    mainClassName=\"text-[1em]\"\r\n                                    mainUnitClassName=\"ml-0.5\"\r\n                                />\r\n                                )\r\n                            </span>\r\n                        </span>\r\n                        <span className=\"input-label\">\r\n                            Balance:\r\n                            <MainText\r\n                                main={mode === Mode.Buy ? nativeCoinBalance ? $.convert.formatNativeCoin(nativeCoinBalance) : \"-\" : tokenBalance ? $.convert.formatMainToken(tokenBalance) : \"-\"}\r\n                                mainUnit={mode === Mode.Buy ? $.nativeCoin.symbol : $.contracts.token.symbol}\r\n                                mainClassName=\"text-[1em] ml-1\"\r\n                                mainUnitClassName=\"ml-0.5\"\r\n                            />\r\n                        </span>\r\n                    </div>\r\n                    <div className={`${isDarkTheme ? \"accent-violet-300\" : \"\"}`}>\r\n                        <RangeInput\r\n                            min={0}\r\n                            max={mode === Mode.Buy ? nativeCoinBalance ? nativeCoinBalance : 0 : tokenBalance ? tokenBalance : 0}\r\n                            decimals={Math.min(mode === Mode.Buy ? $.nativeCoin.decimals : $.contracts.token.decimals, 4)}\r\n                            setValue={setAmount}\r\n                            setPercentage={setPercentage}\r\n                            valueClassName={`${isDarkTheme ? \"bg-violet-900/80\" : \"\"}`}\r\n                            rangeClassName={`${isDarkTheme ? \"bg-violet-900/80\" : \"\"}`}\r\n                            buttonClassName={`btn btn-violet text-indigo-50 numeric w-11 h-7 ${isDarkTheme ? \"bg-violet-900/80\" : \"bg-violet-900/20\"} hover:text-violet-900 focus:hover:text-violet-200`}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"grid grid-cols-1 gap-y-1\">\r\n                    <label htmlFor=\"recipient\" className=\"flex leading-6\">\r\n                        <span className=\"input-label\">Recipient:</span>\r\n                    </label>\r\n                    <DelayedInput\r\n                        delay={400}\r\n                        type=\"search\"\r\n                        id=\"recipient\"\r\n                        className={`numeric !text-[1em] text-right ${isDarkTheme ? \"bg-violet-900/80\" : \"\"}`}\r\n                        placeholder={`Enter recipient address${$.account ? \" or leave blank if it's you\" : \"\"}`}\r\n                        onInput={value => setRecipient(value)}\r\n                    />\r\n                </div>\r\n                <div className=\"flex items-start justify-between\">\r\n                    <div className=\"lg:col-span-2 justify-self-start\">\r\n                        <span\r\n                            className=\"cursor-pointer text-[1.125em] leading-none shadow-none\"\r\n                            onClick={() => {\r\n                                toggleSlippageTolerance();\r\n                            }}\r\n                        >\r\n                            {showSlippageTolerance\r\n                                ? <i className=\"bi bi-gear-fill\" />\r\n                                : <i className=\"bi bi-gear\" />\r\n                            }\r\n                        </span>\r\n                        <span className=\"ml-2\">\r\n                            <input\r\n                                type=\"number\"\r\n                                className={`w-20 numeric !text-[1em] text-right transition origin-left ${showSlippageTolerance ? \"scale-x-100\" : \"scale-x-0\"} ${isDarkTheme ? \"bg-violet-900/80\" : \"\"}`}\r\n                                defaultValue={$.settings.getSlippageTolerance() / 100}\r\n                                placeholder=\"Enter slippage tolerance\"\r\n                                min={0}\r\n                                step={0.01}\r\n                                onChange={e => {\r\n                                    $.settings.setSlippageTolerance(parseFloat(e.target.value) * 100);\r\n                                }}\r\n                            />\r\n                            <span className={`ml-1 numeric transition ${showSlippageTolerance ? null : \"hidden\"}`}>%</span>\r\n                        </span>\r\n                    </div>\r\n                    <button\r\n                        type=\"button\"\r\n                        className={`lg:col-span-2 w-28 h-9 text-[0.75em] btn btn-green justify-self-end ${isDarkTheme ? \"text-violet-50\" : \"\"}`}\r\n                        disabled={isInteractionDisabled || amount === 0 || !(recipient ? Web3.utils.isAddress(recipient.toLowerCase()) : true)}\r\n                        onClick={async () => {\r\n                            await execute(() => swap(amount, minReceived, recipient, mode === Mode.Buy));\r\n                        }}>\r\n                        {mode === Mode.Buy ? \"Buy\" : \"Sell\"}\r\n                    </button>\r\n                </div>\r\n                <div className=\"grid grid-cols-2 gap-y-4 gap-x-2 items-center text-[80%]\">\r\n                    <PriceBox\r\n                        title=\"To be Received (Min, Max)\"\r\n                        main={mode === Mode.Buy ? $.convert.formatNativeCoin(minReceived) : $.convert.formatMainToken(minReceived)}\r\n                        mainUnit={mode === Mode.Buy ? $.contracts.token.symbol : $.nativeCoin.symbol}\r\n                        detail={mode === Mode.Buy ? $.convert.formatNativeCoin(maxReceived) : $.convert.formatMainToken(maxReceived)}\r\n                        detailUnit={mode === Mode.Buy ? $.contracts.token.symbol : $.nativeCoin.symbol}\r\n                        detailClassName=\"opacity-100 text-[1.4em]\"\r\n                        detailUnitClassName=\"!opacity-75 !text-[0.75em]\"\r\n                    />\r\n                    <PriceBox\r\n                        title=\"Price Impact (Min, Max)\"\r\n                        detail={$.convert.formatPercentage(maxPriceImpact, 4, 2)}\r\n                        detailUnit=\"%\"\r\n                        main={$.convert.formatPercentage(minPriceImpact, 4, 2)}\r\n                        mainUnit=\"%\"\r\n                        detailClassName=\"opacity-100 text-[1.4em]\"\r\n                        detailUnitClassName=\"!opacity-75 !text-[0.75em]\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n\r\n    function toggleMode() {\r\n        if (mode === Mode.Buy) {\r\n            setMode(Mode.Sell);\r\n        } else {\r\n            setMode(Mode.Buy);\r\n        }\r\n    }\r\n\r\n    function toggleSlippageTolerance() {\r\n        setShowSlippageTolerance(!showSlippageTolerance);\r\n    }\r\n\r\n    async function execute(func) {\r\n        setIsInteractionDisabled(true);\r\n\r\n        try {\r\n            await func();\r\n        } catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            setIsInteractionDisabled(false);\r\n        }\r\n    }\r\n}\r\n","import { useState } from \"react\";\r\nimport Web3 from \"web3\";\r\n\r\nimport $ from \"./core/Services\";\r\n\r\nimport RangeInput from \"./dialogs/core/RangeInput\";\r\nimport DelayedInput from \"./dialogs/core/DelayedInput\";\r\n\r\nimport { MainText } from \"../InfoBox\";\r\n\r\nimport { MAX_UINT256 } from \"../../utils/Utils\";\r\n\r\nexport default function Transfer({\r\n    balance\r\n}) {\r\n    const [isInteractionDisabled, setIsInteractionDisabled] = useState(false);\r\n    const [amount, setAmount] = useState(0);\r\n    const [percentage, setPercentage] = useState(0);\r\n    const [recipient, setRecipient] = useState();\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-1 gap-y-3 items-center\">\r\n            <div className=\"flex items-center justify-center group-title light-box opacity-75 h-9 px-2\">\r\n                <span>\r\n                    Transfer {$.contracts.token.symbol}\r\n                </span>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 gap-y-0.5\">\r\n                <div className=\"flex items-center justify-between leading-6\">\r\n                    <span className=\"input-label\">\r\n                        Amount:\r\n                        <span className=\"ml-1\">\r\n                            (\r\n                            <MainText\r\n                                main={$.convert.formatPercentage(percentage)}\r\n                                mainUnit=\"%\"\r\n                                mainClassName=\"text-[1em]\"\r\n                                mainUnitClassName=\"ml-0.5\"\r\n                            />\r\n                            )\r\n                        </span>\r\n                    </span>\r\n                    <span className=\"input-label\">\r\n                        Balance:\r\n                        <MainText\r\n                            main={balance ? $.convert.formatMainToken(balance) : \"-\"}\r\n                            mainUnit={$.contracts.token.symbol}\r\n                            mainClassName=\"text-[1em] ml-1\"\r\n                            mainUnitClassName=\"ml-0.5\"\r\n                        />\r\n                    </span>\r\n                </div>\r\n                <div>\r\n                    <RangeInput\r\n                        min={0}\r\n                        max={balance ? balance : 0}\r\n                        decimals={Math.min($.contracts.token.decimals, 4)}\r\n                        setValue={setAmount}\r\n                        setPercentage={setPercentage}\r\n                        buttonClassName=\"btn btn-violet text-indigo-50 numeric w-11 h-7 bg-violet-900/20 hover:text-violet-900 focus:hover:text-violet-200\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"grid grid-cols-1 gap-y-1\">\r\n                <label htmlFor=\"recipient\" className=\"flex leading-6\">\r\n                    <span className=\"input-label\">Recipient:</span>\r\n                </label>\r\n                <DelayedInput\r\n                    delay={400}\r\n                    type=\"search\"\r\n                    id=\"recipient\"\r\n                    className=\"numeric !text-[1em] text-right\"\r\n                    placeholder=\"Enter recipient address\"\r\n                    onInput={value => setRecipient(value)}\r\n                />\r\n            </div>\r\n            <div className=\"flex items-start justify-end\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"w-28 h-9 text-[0.75em] btn btn-green\"\r\n                    disabled={isInteractionDisabled || !(recipient && Web3.utils.isAddress(recipient.toLowerCase())) || amount === 0}\r\n                    onClick={async () => {\r\n                        const value = amount === balance ? MAX_UINT256 : $.convert.toWeiMainToken(amount);\r\n                        await execute(() => $.token.transfer(recipient, value));\r\n                    }}>\r\n                    Send\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    async function execute(func) {\r\n        setIsInteractionDisabled(true);\r\n\r\n        try {\r\n            await func();\r\n        } catch (error) {\r\n            console.log(error);\r\n        } finally {\r\n            setIsInteractionDisabled(false);\r\n        }\r\n    }\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport $ from \"./core/Services\";\r\n\r\nimport DelayedInput from \"./dialogs/core/DelayedInput\";\r\nimport { PriceBox } from \"../InfoBox\";\r\n\r\nimport { getQuoteAssetInflowRequiredToIncreaseThePriceByFactorOf, getBaseAssetOutflowRequiredToDecreaseThePriceByFactorOf } from \"../../utils/PriceExtensions\";\r\n\r\nexport default function InflowOutflowCalculator({\r\n    tokenReserve,\r\n    nativeTokenReserve,\r\n    tokenPriceInStableToken,\r\n    nativeTokenPriceInStableToken\r\n}) {\r\n    const Mode = Object.freeze({\r\n        None: 0,\r\n        Inflow: 1,\r\n        Outflow: 2\r\n    });\r\n\r\n    const [targetPrice, setTargetPrice] = useState(0);\r\n    const [mode, setMode] = useState(Mode.None);\r\n    const [assetAmountRequired, setAssetAmountRequired] = useState();\r\n\r\n    useEffect(() => {\r\n        const factor = targetPrice / tokenPriceInStableToken;\r\n\r\n        if (targetPrice > tokenPriceInStableToken) {\r\n            const quoteAssetAmountRequired = getQuoteAssetInflowRequiredToIncreaseThePriceByFactorOf(factor, nativeTokenReserve);\r\n            setAssetAmountRequired(quoteAssetAmountRequired);\r\n            setMode(Mode.Inflow);\r\n        } else if (targetPrice < tokenPriceInStableToken) {\r\n            const baseAssetAmountRequired = getBaseAssetOutflowRequiredToDecreaseThePriceByFactorOf(factor, tokenReserve);\r\n            setAssetAmountRequired(baseAssetAmountRequired);\r\n            setMode(Mode.Outflow);\r\n        } else {\r\n            setAssetAmountRequired(undefined);\r\n            setMode(Mode.None);\r\n        }\r\n    }, [tokenReserve, nativeTokenReserve, tokenPriceInStableToken, nativeTokenPriceInStableToken, targetPrice]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"grid grid-cols-1 gap-x-2 gap-y-4\">\r\n                <div>\r\n                    <span className=\"text-[0.5em] text-violet-100/50 light-box block mb-4 min-h-[5.5em] xs:min-h-[4em]\">\r\n                        Calculates the amount of inflow or outflow required to bring the price to the desired level.\r\n                    </span>\r\n                    <div className=\"grid grid-cols-1 gap-y-1\">\r\n                        <label htmlFor=\"price\" className=\"flex leading-6\">\r\n                            <span className=\"input-label\">Target price</span>\r\n                        </label>\r\n                        <DelayedInput\r\n                            delay={400}\r\n                            type=\"number\"\r\n                            id=\"price\"\r\n                            className=\"numeric !text-[1em] text-right\"\r\n                            defaultValue={$.convert.formatStableToken(tokenPriceInStableToken * 2, 4, 0)}\r\n                            placeholder={`${$.contracts.token.symbol} price in ${$.contracts.stableToken.symbol}`}\r\n                            min={0}\r\n                            step={1}\r\n                            onInput={value => setTargetPrice(parseFloat(value))}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"text-[80%]\">\r\n                    {mode === Mode.Inflow &&\r\n                        <PriceBox\r\n                            title=\"Required Inflow\"\r\n                            main={$.convert.formatNativeToken(assetAmountRequired)}\r\n                            mainUnit={$.contracts.nativeToken.symbol}\r\n                            detail={$.convert.formatStableToken(assetAmountRequired * nativeTokenPriceInStableToken)}\r\n                            detailUnit={$.contracts.stableToken.symbol}\r\n                            mainUnitClassName=\"neon\"\r\n                        />\r\n                    }\r\n                    {mode === Mode.Outflow &&\r\n                        <PriceBox\r\n                            title=\"Required Outflow\"\r\n                            main={$.convert.formatMainToken(assetAmountRequired)}\r\n                            mainUnit={$.contracts.token.symbol}\r\n                            detail={$.convert.formatStableToken(assetAmountRequired * tokenPriceInStableToken)}\r\n                            detailUnit={$.contracts.stableToken.symbol}\r\n                            mainUnitClassName=\"glow\"\r\n                        />\r\n                    }\r\n                    {mode === Mode.None && <p>No change</p>}\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nInflowOutflowCalculator.propTypes = {\r\n    tokenReserve: PropTypes.number,\r\n    nativeTokenReserve: PropTypes.number,\r\n    tokenPriceInStableToken: PropTypes.number,\r\n    nativeTokenPriceInStableToken: PropTypes.number\r\n}\r\n\r\nInflowOutflowCalculator.defaultProps = {\r\n\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport { Switch } from \"@headlessui/react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport $ from \"./core/Services\";\r\n\r\nimport DelayedInput from \"./dialogs/core/DelayedInput\";\r\nimport { PriceBox } from \"../InfoBox\";\r\n\r\nimport { getPriceIncreaseFactorFromQuoteAssetInflow, getPriceDecreaseFactorFromBaseAssetOutflow } from \"../../utils/PriceExtensions\";\r\n\r\nexport default function TargetPriceCalculator({\r\n    tokenReserve,\r\n    nativeTokenReserve,\r\n    tokenPriceInStableToken,\r\n    nativeTokenPriceInStableToken\r\n}) {\r\n    const Mode = Object.freeze({\r\n        Inflow: 0,\r\n        Outflow: 1\r\n    });\r\n\r\n    const [mode, setMode] = useState(Mode.Inflow);\r\n    const [assetAmount, setAssetAmount] = useState(1);\r\n    const [targetPrice, setTargetPrice] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const factor = mode === Mode.Inflow\r\n            ? getPriceIncreaseFactorFromQuoteAssetInflow(assetAmount, nativeTokenReserve)\r\n            : getPriceDecreaseFactorFromBaseAssetOutflow(assetAmount, tokenReserve);\r\n        setTargetPrice(tokenPriceInStableToken * factor);\r\n    }, [tokenReserve, nativeTokenReserve, tokenPriceInStableToken, nativeTokenPriceInStableToken, mode, assetAmount]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"grid grid-cols-1 gap-x-2 gap-y-4\">\r\n                <div>\r\n                    <span className=\"text-[0.5em] text-violet-100/50 light-box block mb-4 min-h-[5.5em] xs:min-h-[4em]\">\r\n                        Calculates the level to which the given inflow or outflow amount brings the price.\r\n                    </span>\r\n                    <div className=\"grid grid-cols-1 gap-y-1\">\r\n                        <Switch.Group>\r\n                            <div className=\"flex items-center\">\r\n                                <Switch\r\n                                    checked={mode === Mode.Inflow}\r\n                                    onChange={toggleMode}\r\n                                    className=\"bg-violet-300 relative inline-flex items-center w-10 h-[1em] rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-800 focus:ring-violet-300/50\"\r\n                                >\r\n                                    <span className=\"sr-only\">Flow mode</span>\r\n                                    <span className={`${mode === Mode.Inflow ? \"translate-x-6\" : \"translate-x-1\"} inline-block w-[0.75em] h-[0.75em] transform bg-slate-800 rounded-full transition-transform`} />\r\n                                </Switch>\r\n                                <Switch.Label className=\"input-label leading-6 ml-1.5\">\r\n                                    {mode === Mode.Inflow ? `Inflow ${$.contracts.nativeToken.symbol}` : `Outflow ${$.contracts.token.symbol}`}\r\n                                </Switch.Label>\r\n                            </div>\r\n                        </Switch.Group>\r\n                        <DelayedInput\r\n                            delay={400}\r\n                            type=\"number\"\r\n                            id=\"assetAmount\"\r\n                            className=\"numeric !text-[1em] text-right\"\r\n                            defaultValue={assetAmount}\r\n                            placeholder=\"Asset amount\"\r\n                            min={0}\r\n                            step={1}\r\n                            onInput={value => setAssetAmount(parseFloat(value))} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"text-[80%]\">\r\n                    <PriceBox\r\n                        title=\"Target Price\"\r\n                        main={isNaN(targetPrice) ? \"-\" : $.convert.formatStableToken(targetPrice)}\r\n                        mainUnit={$.contracts.stableToken.symbol}\r\n                        detail={isNaN(targetPrice) ? \"-\" : $.convert.formatNativeToken(targetPrice / nativeTokenPriceInStableToken)}\r\n                        detailUnit={$.contracts.nativeToken.symbol}\r\n                        mainUnitClassName=\"glow\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n\r\n    function toggleMode() {\r\n        if (mode === Mode.Inflow) {\r\n            setMode(Mode.Outflow);\r\n        } else {\r\n            setMode(Mode.Inflow);\r\n        }\r\n    }\r\n}\r\n\r\nTargetPriceCalculator.propTypes = {\r\n    tokenReserve: PropTypes.number,\r\n    nativeTokenReserve: PropTypes.number,\r\n    tokenPriceInStableToken: PropTypes.number,\r\n    nativeTokenPriceInStableToken: PropTypes.number\r\n}\r\n\r\nTargetPriceCalculator.defaultProps = {\r\n\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport $ from \"./core/Services\";\r\n\r\nimport { DAYS_IN_WEEK, DAYS_IN_MONTH, DAYS_IN_YEAR, getRewardPerDay } from \"../../utils/InterestExtensions\";\r\n\r\nimport DelayedInput from \"./dialogs/core/DelayedInput\";\r\nimport { PriceBox } from \"../InfoBox\";\r\n\r\nexport default function RewardCalculator({\r\n    senderBalance,\r\n    totalStaked,\r\n    currentRewardPerBlock,\r\n    maxRewardPerBlock,\r\n    isMaximizedEmission,\r\n    blockTime,\r\n    tokenPriceInStableToken\r\n}) {\r\n    const [targetBalance, setTargetBalance] = useState();\r\n    const [currentRewards, setCurrentRewards] = useState([0, 0, 0, 0]);\r\n    const [maxRewards, setMaxRewards] = useState([0, 0, 0, 0]);\r\n\r\n    useEffect(() => {\r\n        if (!targetBalance) {\r\n            setTargetBalance(parseFloat(senderBalance));\r\n        }\r\n    }, [senderBalance]);\r\n\r\n    useEffect(() => {\r\n        const currentRewardPerD = getRewardPerDay(currentRewardPerBlock, blockTime, totalStaked, targetBalance);\r\n        const currentRewardPerW = currentRewardPerD * DAYS_IN_WEEK;\r\n        const currentRewardPerM = currentRewardPerD * DAYS_IN_MONTH;\r\n        const currentRewardPerY = currentRewardPerD * DAYS_IN_YEAR;\r\n\r\n        const maxRewardPerD = getRewardPerDay(maxRewardPerBlock, blockTime, totalStaked, targetBalance);\r\n        const maxRewardPerW = maxRewardPerD * DAYS_IN_WEEK;\r\n        const maxRewardPerM = maxRewardPerD * DAYS_IN_MONTH;\r\n        const maxRewardPerY = maxRewardPerD * DAYS_IN_YEAR;\r\n\r\n        setCurrentRewards([currentRewardPerD, currentRewardPerW, currentRewardPerM, currentRewardPerY]);\r\n        setMaxRewards([maxRewardPerD, maxRewardPerW, maxRewardPerM, maxRewardPerY]);\r\n    }, [totalStaked, currentRewardPerBlock, blockTime, targetBalance]);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"grid grid-cols-1 gap-x-2 gap-y-4\">\r\n                <div>\r\n                    <span className=\"text-[0.5em] text-violet-100/50 light-box block mb-4 min-h-[5.5em] xs:min-h-[4em]\">\r\n                        Calculates potential reward levels (daily, weekly, monthly, yearly) for the given balance.\r\n                    </span>\r\n                    <div className=\"grid grid-cols-1 gap-y-1\">\r\n                        <div className=\"flex items-center justify-between leading-6\">\r\n                            <label htmlFor=\"balance\" className=\"flex leading-6\">\r\n                                <span className=\"input-label\">Target balance</span>\r\n                            </label>\r\n                            <span\r\n                                className=\"cursor-pointer text-[1.125em] leading-none shadow-none\"\r\n                                onClick={() => {\r\n                                    setTargetBalance(parseFloat(senderBalance));\r\n                                }}\r\n                            >\r\n                                <i className=\"bi bi-arrow-clockwise\"></i>\r\n                            </span>\r\n                        </div>\r\n                        <DelayedInput\r\n                            delay={400}\r\n                            type=\"number\"\r\n                            id=\"balance\"\r\n                            className=\"numeric !text-[1em] text-right\"\r\n                            defaultValue={targetBalance}\r\n                            placeholder=\"Balance in WEEB\"\r\n                            min={0}\r\n                            step={1}\r\n                            onInput={value => setTargetBalance(parseFloat(value))}\r\n                        />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4 text-[80%]\">\r\n                    <span className=\"group-title opacity-75 col-span-2 sm:col-span-4 light-box\">Current Target Reward</span>\r\n                    <PriceBox\r\n                        sizeCount={1}\r\n                        title=\"Per Day\"\r\n                        main={isNaN(currentRewards[0]) ? \"\" : $.convert.formatMainToken(currentRewards[0])}\r\n                        mainUnit={$.contracts.token.symbol}\r\n                        detail={isNaN(currentRewards[0]) ? \"\" : $.convert.formatStableToken(currentRewards[0] * tokenPriceInStableToken)}\r\n                        detailUnit={$.contracts.stableToken.symbol}\r\n                    />\r\n                    <PriceBox\r\n                        sizeCount={1}\r\n                        title=\"Per Week\"\r\n                        main={isNaN(currentRewards[1]) ? \"\" : $.convert.formatMainToken(currentRewards[1])}\r\n                        mainUnit={$.contracts.token.symbol}\r\n                        detail={isNaN(currentRewards[1]) ? \"\" : $.convert.formatStableToken(currentRewards[1] * tokenPriceInStableToken)}\r\n                        detailUnit={$.contracts.stableToken.symbol}\r\n                    />\r\n                    <PriceBox\r\n                        sizeCount={1}\r\n                        title=\"Per Month\"\r\n                        main={isNaN(currentRewards[2]) ? \"\" : $.convert.formatMainToken(currentRewards[2])}\r\n                        mainUnit={$.contracts.token.symbol}\r\n                        detail={isNaN(currentRewards[2]) ? \"\" : $.convert.formatStableToken(currentRewards[2] * tokenPriceInStableToken)}\r\n                        detailUnit={$.contracts.stableToken.symbol}\r\n                    />\r\n                    <PriceBox\r\n                        sizeCount={1}\r\n                        title=\"Per Year\"\r\n                        main={isNaN(currentRewards[3]) ? \"\" : $.convert.formatMainToken(currentRewards[3])}\r\n                        mainUnit={$.contracts.token.symbol}\r\n                        detail={isNaN(currentRewards[3]) ? \"\" : $.convert.formatStableToken(currentRewards[3] * tokenPriceInStableToken)}\r\n                        detailUnit={$.contracts.stableToken.symbol}\r\n                    />\r\n\r\n                    {!isMaximizedEmission &&\r\n                        <>\r\n                            <span className=\"group-title opacity-75 col-span-2 sm:col-span-4 light-box\">Maximum Target Reward</span>\r\n                            <PriceBox\r\n                                sizeCount={1}\r\n                                title=\"Per Day\"\r\n                                main={isNaN(maxRewards[0]) ? \"\" : $.convert.formatMainToken(maxRewards[0])}\r\n                                mainUnit={$.contracts.token.symbol}\r\n                                detail={isNaN(maxRewards[0]) ? \"\" : $.convert.formatStableToken(maxRewards[0] * tokenPriceInStableToken)}\r\n                                detailUnit={$.contracts.stableToken.symbol}\r\n                            />\r\n                            <PriceBox\r\n                                sizeCount={1}\r\n                                title=\"Per Week\"\r\n                                main={isNaN(maxRewards[1]) ? \"\" : $.convert.formatMainToken(maxRewards[1])}\r\n                                mainUnit={$.contracts.token.symbol}\r\n                                detail={isNaN(maxRewards[1]) ? \"\" : $.convert.formatStableToken(maxRewards[1] * tokenPriceInStableToken)}\r\n                                detailUnit={$.contracts.stableToken.symbol}\r\n                            />\r\n                            <PriceBox\r\n                                sizeCount={1}\r\n                                title=\"Per Month\"\r\n                                main={isNaN(maxRewards[2]) ? \"\" : $.convert.formatMainToken(maxRewards[2])}\r\n                                mainUnit={$.contracts.token.symbol}\r\n                                detail={isNaN(maxRewards[2]) ? \"\" : $.convert.formatStableToken(maxRewards[2] * tokenPriceInStableToken)}\r\n                                detailUnit={$.contracts.stableToken.symbol}\r\n                            />\r\n                            <PriceBox\r\n                                sizeCount={1}\r\n                                title=\"Per Year\"\r\n                                main={isNaN(maxRewards[3]) ? \"\" : $.convert.formatMainToken(maxRewards[3])}\r\n                                mainUnit={$.contracts.token.symbol}\r\n                                detail={isNaN(maxRewards[3]) ? \"\" : $.convert.formatStableToken(maxRewards[3] * tokenPriceInStableToken)}\r\n                                detailUnit={$.contracts.stableToken.symbol}\r\n                            />\r\n                        </>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nRewardCalculator.propTypes = {\r\n    senderBalance: PropTypes.number,\r\n    totalStaked: PropTypes.number,\r\n    currentRewardPerBlock: PropTypes.number,\r\n    blockTime: PropTypes.number,\r\n    tokenPriceInStableToken: PropTypes.number\r\n}\r\n\r\nRewardCalculator.defaultProps = {\r\n\r\n};\r\n","import { fromWei } from \"../../utils/Web3Converter\";\r\n\r\nimport InflowOutflowCalculator from \"./InflowOutflowCalculator\";\r\nimport TargetPriceCalculator from \"./TargetPriceCalculator\";\r\nimport RewardCalculator from \"./RewardCalculator\";\r\n\r\nexport default function TokenCalculators({\r\n    token,\r\n    priceInNativeToken,\r\n    priceInStableToken,\r\n    blockTime\r\n}) {\r\n    const nativeTokenPriceInStableToken = priceInStableToken / priceInNativeToken;\r\n    const senderBalance = fromWeiToken(token.senderBalance);\r\n    const totalStaked = fromWeiToken(token.totalStaked);\r\n    const maxRewardPerBlock = fromWeiToken(token.maximumRewardPerBlock);\r\n    const currentRewardPerBlock = fromWeiToken(token.currentRewardPerBlock);\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-x-2 xs:gap-x-5 gap-y-5 text-center\">\r\n            <div className={`card bg-weeb-card1/30 bg-diagonal-lines`}>\r\n                <InflowOutflowCalculator\r\n                    tokenReserve={token.tokenReserve}\r\n                    nativeTokenReserve={token.nativeTokenReserve}\r\n                    tokenPriceInStableToken={priceInStableToken}\r\n                    nativeTokenPriceInStableToken={nativeTokenPriceInStableToken}\r\n                />\r\n            </div>\r\n            <div className={`card bg-weeb-card1/30 bg-diagonal-lines`}>\r\n                <TargetPriceCalculator\r\n                    tokenReserve={token.tokenReserve}\r\n                    nativeTokenReserve={token.nativeTokenReserve}\r\n                    tokenPriceInStableToken={priceInStableToken}\r\n                    nativeTokenPriceInStableToken={nativeTokenPriceInStableToken}\r\n                />\r\n            </div>\r\n            <div className={`card bg-weeb-card1/30 bg-diagonal-lines col-span-2`}>\r\n                <RewardCalculator\r\n                    senderBalance={senderBalance}\r\n                    totalStaked={totalStaked}\r\n                    currentRewardPerBlock={currentRewardPerBlock}\r\n                    maxRewardPerBlock={maxRewardPerBlock}\r\n                    isMaximizedEmission={token.isInflationRegulated}\r\n                    blockTime={blockTime}\r\n                    tokenPriceInStableToken={priceInStableToken}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    // Helpers\r\n    function fromWeiToken(value) {\r\n        return parseFloat(fromWei(value, token.details.decimals));\r\n    }\r\n}\r\n","export const BYTE_MAX_VALUE = 255;\r\n\r\nexport function getOutcomeText(outcomeCount, outcome) {\r\n    if (outcome === BYTE_MAX_VALUE) {\r\n        return \"Unknown\";\r\n    }\r\n\r\n    if (outcome > outcomeCount) {\r\n        throw `Outcome \"${outcome}\" is greater than outcome count: ${outcomeCount}`;\r\n    }\r\n\r\n    if (outcomeCount === 2) {\r\n        if (outcome === 0) {\r\n            return \"Heads\";\r\n        }\r\n\r\n        if (outcome === 1) {\r\n            return \"Tails\";\r\n        }\r\n    }\r\n\r\n    return `${outcome + 1}`;\r\n}\r\n\r\nexport function getOutcomeImage(outcomeCount, outcome) {\r\n    if (outcome === BYTE_MAX_VALUE) {\r\n        return \"Unknown\";\r\n    }\r\n\r\n    if (outcome > outcomeCount) {\r\n        throw `Outcome \"${outcome}\" is greater than outcome count: ${outcomeCount}`;\r\n    }\r\n\r\n    // https://miro.medium.com/max/1838/1*p-SahjISD2_mdOf_e-uF5A.png\r\n    if (outcomeCount === 2) {\r\n        if (outcome === 0) {\r\n            return (<img src=\"./images/heads-200px.png\" width=\"140\" height=\"140\" />);\r\n        }\r\n\r\n        if (outcome === 1) {\r\n            return (<img src=\"./images/tails-200px.png\" width=\"140\" height=\"140\" />);\r\n        }\r\n    } else if (outcomeCount === 6) {\r\n        return (<i className={`bi bi-dice-${outcome + 1} text-[2.5rem] sm:text-[3.5rem]`}></i>);\r\n    }\r\n\r\n    return `${outcome}`;\r\n}\r\n\r\nexport function getRandomizeText(outcomeCount) {\r\n    if (outcomeCount === 2) {\r\n        return \"Flip\";\r\n    }\r\n\r\n    if (outcomeCount === 6) {\r\n        return \"Roll\";\r\n    }\r\n\r\n    return \"Randomize\";\r\n}\r\n\r\nexport function getRandomInteger(min, max) {\r\n    return Math.floor(Math.random() * (max - min)) + min;\r\n}","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Web3 from \"web3\";\r\n\r\nimport $ from \"./core/Services\";\r\n\r\nimport Spinner from \"../../Spinner\";\r\nimport Configuration from \"../../Configuration\";\r\n\r\nimport { PriceBox } from \"../InfoBox\";\r\nimport { StyledPopover } from \"../StyledPopover\";\r\n\r\nimport { BYTE_MAX_VALUE, getOutcomeText, getRandomizeText } from \"./GameExtensions\";\r\n\r\n/*\r\n{\r\n    game,\r\n    balance,\r\n    priceInStableToken,\r\n    bet,\r\n    compound,\r\n    claim,\r\n    senderPoolSnapshots\r\n    blockTime\r\n}\r\n*/\r\nexport default class Game extends Component {\r\n    static propTypes = {\r\n        bet: PropTypes.func,\r\n        claim: PropTypes.func\r\n    }\r\n\r\n    static defaultProps = {\r\n        bet: async () => {\r\n        },\r\n        claim: async () => {\r\n        }\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            isInteractionDisabled: false,\r\n            showLastBetPool: false,\r\n            showSenderLastBetPool: false,\r\n            isPoolTotalsVisibile: false,\r\n            showYourBetHistory: false,\r\n            senderBetPools: [],\r\n            isLoading: false\r\n        };\r\n\r\n        this.format = $.format(this.props.game.tokenInfo.details.decimals);\r\n\r\n        this.toggleLastBetPoolVisibility = this.toggleLastBetPoolVisibility.bind(this);\r\n        this.toggleSenderLastBetPoolVisibility = this.toggleSenderLastBetPoolVisibility.bind(this);\r\n        this.togglePoolTotalsVisibility = this.togglePoolTotalsVisibility.bind(this);\r\n        this.toggleYourBetHistoryVisibility = this.toggleYourBetHistoryVisibility.bind(this);\r\n        this.loadSenderBetPools = this.loadSenderBetPools.bind(this);\r\n\r\n        this.execute = this.execute.bind(this);\r\n    }\r\n\r\n    render() {\r\n        const now = Date.now() / 1000;\r\n        const tokenExplorerUri = `${Configuration.getBlockExplorerLink($.chainId)}/token/${this.props.game.tokenInfo.token}`;\r\n        const swapRouterName = Configuration.getSwapRouterName($.chainId, Configuration.getDefaultSwapRouter($.chainId));\r\n        const minimumBet = this.props.game.isPercentage ? parseFloat(this.props.game.minimumBet) / 10000 : this.format.fromWei(this.props.game.minimumBet);\r\n\r\n        const unclaimedBalance = this.format.fromWei(this.props.game.unclaimedBalance);\r\n        const seigniorageFee = parseFloat(this.props.game.seigniorageFee.rate) / 10000;\r\n        const seigniorageFeeCollected = this.format.fromWei(this.props.game.seigniorageFee.collected.total);\r\n        const seignioryExplorerUri = `${Configuration.getBlockExplorerLink($.chainId)}/address/${this.props.game.seigniory}`;\r\n\r\n        const zero = Web3.utils.toBN(0);\r\n        const senderUnclaimedPrizeBN = Web3.utils.toBN(this.props.game.senderUnclaimedPrize.winningBet).add(Web3.utils.toBN(this.props.game.senderUnclaimedPrize.prize));\r\n        const isPrizeClaimable = senderUnclaimedPrizeBN.cmp(zero) === 1; // > 0\r\n        const senderUnclaimedPrize = this.format.fromWei(senderUnclaimedPrizeBN);\r\n        const currentBetPoolWinningPrize = this.format.fromWei(this.props.game.currentBetPool.statement.senderPrize);\r\n        const currentBetPoolPot = this.format.fromWei(this.props.game.currentBetPool.statement.allAggregatedBets.total);\r\n        const drawBlock = parseInt(this.props.game.currentPoolId) + parseInt(this.props.game.blockLength);\r\n        const blocksToDraw = drawBlock - parseInt(this.props.game.currentBlock);\r\n        const timeToDraw = blocksToDraw * this.props.blockTime;\r\n\r\n        const totalPlacedBets = this.format.fromWei(this.props.game.totalPosition.placedBets.total);\r\n        const totalClaimedBets = this.format.fromWei(this.props.game.totalPosition.claimedBets.total);\r\n        const totalClaimedPrizes = this.format.fromWei(this.props.game.totalPosition.claimedPrizes.total);\r\n\r\n        const senderAggregatedBets = this.format.fromWei(this.props.game.currentBetPool.statement.senderAggregatedBets.total);\r\n        const senderLosingBets = this.format.fromWei(this.props.game.currentBetPool.statement.senderLosingBets.total);\r\n        const senderPrize = this.format.fromWei(this.props.game.currentBetPool.statement.senderPrize);\r\n        const hasOpponent = this.isWinner(this.props.game.currentBetPool) > 0;\r\n        const senderPnL = hasOpponent ? (senderPrize - senderLosingBets) : senderAggregatedBets;\r\n\r\n        const tooltipSeigniorageFeeText = (<span className=\"tooltip\">Fee paid to the seignory (game owner) from claimed prize.</span>);\r\n\r\n        // 1. popoverGameRef\r\n        const popoverGameContent = (\r\n            <div className=\"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]\">\r\n                <PriceBox\r\n                    title=\"Bet Token\"\r\n                    main={(<a href={tokenExplorerUri} rel=\"noreferrer\" target=\"_blank\" className=\"font-display\">{this.props.game.tokenInfo.details.symbol}</a>)}\r\n                    detailUnit={swapRouterName}\r\n                />\r\n                <PriceBox\r\n                    title=\"Minimum Bet\"\r\n                    main={this.props.game.isPercentage ? $.convert.formatPercentage(minimumBet) : this.format.formatToken(minimumBet)}\r\n                    mainUnit={this.props.game.isPercentage ? \"%\" : this.props.game.tokenInfo.details.symbol}\r\n                    detail={this.props.game.isPercentage ? \"\" : $.convert.formatStableToken(minimumBet * this.props.priceInStableToken)}\r\n                    detailUnit={this.props.game.isPercentage ? /*this.props.game.tokenInfo.details.symbol*/\"Of Pending Reward\" : $.contracts.stableToken.symbol}\r\n                    mainClassName=\"glow\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Outcome Count\"\r\n                    main={$.convert.formatInteger(this.props.game.outcomeCount)}\r\n                />\r\n                <PriceBox\r\n                    title=\"Unclaimed Balance\"\r\n                    main={this.format.formatToken(unclaimedBalance)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(unclaimedBalance * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    mainClassName=\"glow\"\r\n                />\r\n                <PriceBox\r\n                    title={(<><span className=\"mr-1\">Seigniorage Fee</span><StyledPopover isTooltip={true} children={tooltipSeigniorageFeeText} /></>)}\r\n                    main={$.convert.formatPercentage(seigniorageFee)}\r\n                    mainUnit=\"%\"\r\n                    detail={(<a href={seignioryExplorerUri} rel=\"noreferrer\" target=\"_blank\" className=\"numeric\">{$.convert.formatAccount(this.props.game.seigniory)}</a>)}\r\n                    info={this.props.game.isSenderSeignory ? (<span className=\"font-display\">You're Seignory</span>) : null}\r\n                    infoClassName=\"opacity-75 light-box font-semibold uppercase text-red-500\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Seigniorage Collected\"\r\n                    main={this.format.formatToken(seigniorageFeeCollected)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(seigniorageFeeCollected * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    info={this.getActivity(this.props.game.seigniorageFee.collected.count, this.props.game.seigniorageFee.collected.timestamp, now)}\r\n                />\r\n            </div>\r\n        );\r\n\r\n        const isCurrentBetPoolSenderUnderWin = this.isSenderUnderWin(this.props.game.currentBetPool.statement);\r\n\r\n        return (\r\n            <div className=\"grid grid-cols-1 gap-y-3\">\r\n                <div className={`card bg-indigo-900/25 bg-diagonal-lines`}>\r\n                    <div className=\"grid grid-cols-12 gap-x-2 gap-y-0.5\">\r\n                        <div className=\"col-span-5\">\r\n                            <span className=\"card-header-title-text opacity-75\">\r\n                                <span className=\"mr-1\">{this.props.game.name}</span>\r\n                                <StyledPopover children={popoverGameContent} />\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div className=\"col-span-7 flex items-center justify-end card-header-item-text\">\r\n                            <span className=\"uppercase opacity-50\">Time to Draw</span>\r\n                            <span className=\"numeric opacity-75 ml-1 glow\">{$.convert.formatTimespan(timeToDraw)}</span>\r\n                            <span className=\"2xs:hidden xs:block numeric opacity-75 ml-2\">{blocksToDraw}</span>\r\n                            <span className=\"2xs:hidden xs:block uppercase opacity-50 ml-1\">blocks</span>\r\n                        </div>\r\n\r\n                        <div className=\"col-span-8 flex items-center justify-start card-header-item-text\">\r\n                            <span className=\"2xs:hidden xs:block opacity-25\">Draws every</span>\r\n                            <span className=\"2xs:hidden xs:block numeric opacity-50 ml-1\">{this.props.game.blockLength}</span>\r\n                            <span className=\"2xs:hidden xs:block opacity-25 ml-1 mr-2\">blocks.</span>\r\n                            <span className=\"uppercase opacity-50\">Pool Id</span>\r\n                            <span className=\"numeric opacity-25 ml-1\">{$.convert.formatInteger(this.props.game.currentBetPool.poolId)}</span>\r\n                        </div>\r\n\r\n                        <div className=\"col-span-4 flex items-center justify-end card-header-item-text\">\r\n                            <span className=\"numeric opacity-25\">\r\n                                <i className=\"bi bi-box mr-1\" />\r\n                                {$.convert.formatInteger(this.props.game.currentBlock)}\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div className=\"col-span-12 mt-0.5 mb-3 border-bottom-t2 border-2\"></div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 gap-y-3\">\r\n                        <div className=\"grid grid-cols-2 gap-x-2\">\r\n                            <PriceBox\r\n                                title=\"Your Unclaimed Prize\"\r\n                                main={this.format.formatToken(senderUnclaimedPrize)}\r\n                                mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                                detail={$.convert.formatStableToken(senderUnclaimedPrize * this.props.priceInStableToken)}\r\n                                detailUnit={$.contracts.stableToken.symbol}\r\n                                mainClassName=\"glow\"\r\n                            />\r\n                            <div className=\"grid grid-cols-2 gap-x-2 gap-y-3 leading-none auto-rows-auto text-[0.75em]\">\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"w-full h-full justify-self-end self-end btn btn-green\"\r\n                                    disabled={this.state.isInteractionDisabled || !isPrizeClaimable} onClick={async () => {\r\n                                        await this.execute(() => this.props.claim());\r\n                                    }}\r\n                                >\r\n                                    <span className=\"xs:hidden\">Claim Prize</span>\r\n                                    <span className=\"hidden xs:inline-block\">Claim the Prize</span>\r\n                                </button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"w-full h-full justify-self-start self-end btn btn-blue\"\r\n                                    disabled={this.state.isInteractionDisabled || !isPrizeClaimable} onClick={async () => {\r\n                                        await this.execute(() => this.props.compound());\r\n                                    }}\r\n                                >\r\n                                    <span className=\"xs:hidden\">Bet Prize</span>\r\n                                    <span className=\"hidden xs:inline-block\">Bet the Prize</span>\r\n                                </button>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    className=\"w-full h-full justify-self-center self-start col-span-2 btn btn-red\"\r\n                                    disabled={this.state.isInteractionDisabled || this.props.balance === 0} onClick={async () => {\r\n                                        await this.execute(() => this.props.bet());\r\n                                    }}\r\n                                >\r\n                                    Place a Bet\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"border-bottom-t2\"></div>\r\n\r\n                        <div className=\"grid grid-cols-2 xl:grid-cols-4 gap-x-2 gap-y-4 text-[80%]\">\r\n                            <PriceBox\r\n                                title=\"Winning Outcome\"\r\n                                main={getOutcomeText(parseInt(this.props.game.outcomeCount), parseInt(this.props.game.currentBetPool.outcome))}\r\n                                detailUnit={parseInt(this.props.game.currentBetPool.outcome) === BYTE_MAX_VALUE ? (<><span className=\"animate-pulse\">Place a Bet</span></>) : (<><span className=\"animate-pulse\">Bet to Change</span></>)}\r\n                                titleClassName=\"light-box\"\r\n                                mainClassName=\"font-display neon\"\r\n                            />\r\n                            <PriceBox\r\n                                title=\"Pot\"\r\n                                main={this.format.formatToken(currentBetPoolPot)}\r\n                                mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                                detail={$.convert.formatStableToken(currentBetPoolPot * this.props.priceInStableToken)}\r\n                                detailUnit={$.contracts.stableToken.symbol}\r\n                                // info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(this.props.game.currentBetPool.statement.allAggregatedBets.count)}</span>)}\r\n                                titleClassName=\"light-box\"\r\n                            />\r\n\r\n                            <PriceBox\r\n                                title=\"Potential Prize\"\r\n                                main={this.format.formatToken(currentBetPoolWinningPrize)}\r\n                                mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                                detail={$.convert.formatStableToken(currentBetPoolWinningPrize * this.props.priceInStableToken)}\r\n                                detailUnit={$.contracts.stableToken.symbol}\r\n                                info={isCurrentBetPoolSenderUnderWin ? \"Under Win\" : null}\r\n                                titleClassName=\"light-box\"\r\n                                mainClassName=\"neon\"\r\n                                infoClassName={`glow ${isCurrentBetPoolSenderUnderWin ? \" blinker\" : null}}`}\r\n                            />\r\n                            <PriceBox\r\n                                title=\"PnL\"\r\n                                main={this.format.formatToken(senderPnL)}\r\n                                mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                                detail={$.convert.formatStableToken(senderPnL * this.props.priceInStableToken)}\r\n                                detailUnit={$.contracts.stableToken.symbol}\r\n                                titleClassName=\"light-box\"\r\n                                mainClassName=\"glow\"\r\n                            />\r\n\r\n                            <div className=\"col-span-2 xl:col-span-4\">\r\n                                {this.getBetInfo(this.props.game.currentBetPool, this.props.game.outcomeCount)}\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"border-bottom-t2\"></div>\r\n\r\n                        <div className=\"grid grid-cols-2 gap-x-2 text-[0.75em]\">\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"w-full h-9 btn btn-dark\"\r\n                                disabled={parseInt(this.props.game.lastBetPool.poolId) === 0}\r\n                                onClick={this.toggleLastBetPoolVisibility}>\r\n                                Last Bet Pool{this.state.showLastBetPool && <i className=\"bi bi-caret-down-fill ml-1\" />}\r\n                            </button>\r\n                            <button\r\n                                type=\"button\"\r\n                                className=\"w-full h-9 btn btn-dark\"\r\n                                disabled={parseInt(this.props.game.senderLastBetPool.poolId) === 0}\r\n                                onClick={this.toggleSenderLastBetPoolVisibility}>\r\n                                Your Last Bet Pool{this.state.showSenderLastBetPool && <i className=\"bi bi-caret-down-fill ml-1\" />}\r\n                            </button>\r\n                        </div>\r\n\r\n                        <div className=\"border-bottom-t2\"></div>\r\n\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <span className=\"card-header-item-text uppercase opacity-75 cursor-pointer\" onClick={this.togglePoolTotalsVisibility}><i className={`bi ${(this.state.isPoolTotalsVisibile ? \"bi-caret-down-fill\" : \"bi-caret-right-fill\")} mr-1`} />\r\n                                Pool Totals\r\n                            </span>\r\n                            <span className={`card-header-item-text opacity-25 ${parseInt(this.props.game.senderBetPoolCount) === 0 ? \"disabled\" : \"cursor-pointer\"}`} onClick={() => {\r\n                                if (parseInt(this.props.game.senderBetPoolCount) > 0) {\r\n                                    this.toggleYourBetHistoryVisibility();\r\n                                }\r\n                            }}>\r\n                                <i className=\"bi bi-calendar3 mr-1\" />\r\n                                Your Bet History (<span className=\"numeric\">{$.convert.formatInteger(this.props.game.senderBetPoolCount)}</span>)\r\n                            </span>\r\n                        </div>\r\n\r\n                        {this.state.isPoolTotalsVisibile &&\r\n                            <div className=\"grid grid-cols-3 gap-x-2 text-[80%]\">\r\n                                <PriceBox\r\n                                    title=\"Placed Bets\"\r\n                                    main={this.format.formatToken(totalPlacedBets)}\r\n                                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                                    detail={$.convert.formatStableToken(totalPlacedBets * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    info={this.getActivity(this.props.game.totalPosition.placedBets.count, this.props.game.totalPosition.placedBets.timestamp, now)}\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Claimed Bets\"\r\n                                    main={this.format.formatToken(totalClaimedBets)}\r\n                                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                                    detail={$.convert.formatStableToken(totalClaimedBets * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    info={this.getActivity(this.props.game.totalPosition.claimedBets.count, this.props.game.totalPosition.claimedBets.timestamp, now)}\r\n                                />\r\n                                <PriceBox\r\n                                    title=\"Claimed Prizes\"\r\n                                    main={this.format.formatToken(totalClaimedPrizes)}\r\n                                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                                    detail={$.convert.formatStableToken(totalClaimedPrizes * this.props.priceInStableToken)}\r\n                                    detailUnit={$.contracts.stableToken.symbol}\r\n                                    info={this.getActivity(this.props.game.totalPosition.claimedPrizes.count, this.props.game.totalPosition.claimedPrizes.timestamp, now)}\r\n                                />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n\r\n                {this.state.showLastBetPool && this.getBetPool(\"Last Bet Pool\", this.props.game.lastBetPool, this.props.game.outcomeCount)}\r\n                {this.state.showSenderLastBetPool && this.getBetPool(\"Your Last Bet Pool\", this.props.game.senderLastBetPool, this.props.game.outcomeCount)}\r\n                {this.state.showYourBetHistory && this.getSenderBetPools()}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getSenderBetPools() {\r\n        const items = [];\r\n\r\n        for (let i = 0; i < this.state.senderBetPools.length; ++i) {\r\n            items.push(<div key={i}>{this.getBetPool(`Your Bet Pool #${i + 1}`, this.state.senderBetPools[i])}</div>);\r\n        }\r\n\r\n        return (\r\n            <>\r\n                {items}\r\n                <div className=\"flex items-center justify-center text-[0.75em] mb-3\">\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"w-48 h-9 btn btn-dark\"\r\n                        disabled={(this.state.isLoading || this.state.senderBetPools.length === parseInt(this.props.game.senderBetPoolCount))}\r\n                        onClick={this.loadSenderBetPools}>Load more</button>\r\n                </div>\r\n                {this.state.isLoading && <Spinner type=\"cloud\" title={`Loading ${$.convert.formatInteger(this.props.game.senderBetPoolCount)} pools.`} />}\r\n            </>\r\n        );\r\n    }\r\n\r\n    getBetPool(title, betPool, outcomeCount) {\r\n        const blocksFromDraw = parseInt(this.props.game.currentBlock) - parseInt(betPool.poolId);\r\n        const lastBetPoolPot = this.format.fromWei(betPool.statement.allAggregatedBets.total);\r\n        const lastBetPoolWinningPrize = this.format.fromWei(betPool.statement.senderPrize);\r\n        const isUnderWin = this.isSenderUnderWin(betPool.statement);\r\n\r\n        const senderAggregatedBets = this.format.fromWei(betPool.statement.senderAggregatedBets.total);\r\n        const senderLosingBets = this.format.fromWei(betPool.statement.senderLosingBets.total);\r\n        const senderPrize = this.format.fromWei(betPool.statement.senderPrize);\r\n        const hasOpponent = this.isWinner(betPool) > 0;\r\n        const senderPnL = hasOpponent ? (senderPrize - senderLosingBets) : senderAggregatedBets;\r\n\r\n        return (\r\n            <>\r\n                <div className={`card bg-white/5 bg-diagonal-lines`}>\r\n                    <div className=\"grid grid-cols-12 gap-x-2 gap-y-0.5\">\r\n                        <div className=\"col-span-5\">\r\n                            <span className=\"card-header-title-text opacity-75\">\r\n                                {title}\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"col-span-7 flex items-center justify-end card-header-item-text\">\r\n                            <span className=\"uppercase opacity-50\">Time from Draw</span>\r\n                            <span className=\"numeric opacity-75 ml-1 glow\">{betPool.poolId > 0 ? $.convert.formatTimespan(blocksFromDraw * this.props.blockTime) : \"-\"}</span>\r\n                            <span className=\"2xs:hidden xs:block numeric opacity-75 ml-2\">{betPool.poolId > 0 ? $.convert.formatInteger(blocksFromDraw) : \"-\"}</span>\r\n                            <span className=\"2xs:hidden xs:block uppercase opacity-50 ml-1\">blocks</span>\r\n                        </div>\r\n                        <div className=\"col-span-7 flex items-center justify-start card-header-item-text\">\r\n                            <span className=\"uppercase opacity-50\">Pool Id</span>\r\n                            <span className=\"numeric opacity-25 ml-1\">{betPool.poolId > 0 ? $.convert.formatInteger(betPool.poolId) : \"-\"}</span>\r\n                        </div>\r\n                        <div className=\"col-span-5 flex items-center justify-end card-header-item-text\">\r\n                            <span className=\"opacity-25\">\r\n                                You {this.isWinnerText(betPool)}\r\n                            </span>\r\n                        </div>\r\n\r\n                        <div className=\"col-span-12 mt-0.5 mb-3 border-bottom-t2 border-2\"></div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4 text-[80%]\">\r\n                        <PriceBox\r\n                            title=\"Outcome\"\r\n                            main={getOutcomeText(parseInt(this.props.game.outcomeCount), parseInt(betPool.outcome))}\r\n                            titleClassName=\"light-box\"\r\n                            mainClassName=\"font-display neon\"\r\n                        />\r\n                        <PriceBox\r\n                            title=\"Pot\"\r\n                            main={this.format.formatToken(lastBetPoolPot)}\r\n                            mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                            detail={$.convert.formatStableToken(lastBetPoolPot * this.props.priceInStableToken)}\r\n                            detailUnit={$.contracts.stableToken.symbol}\r\n                            // info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(betPool.statement.allAggregatedBets.count)}</span>)}\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n\r\n                        <PriceBox\r\n                            title=\"Your Prize\"\r\n                            main={this.format.formatToken(lastBetPoolWinningPrize)}\r\n                            mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                            detail={$.convert.formatStableToken(lastBetPoolWinningPrize * this.props.priceInStableToken)}\r\n                            detailUnit={$.contracts.stableToken.symbol}\r\n                            info={isUnderWin ? \"Under Win\" : null}\r\n                            titleClassName=\"light-box\"\r\n                            mainClassName=\"neon\"\r\n                            infoClassName={`glow ${isUnderWin ? \" blinker\" : null}}`}\r\n                        />\r\n                        <PriceBox\r\n                            title=\"PnL\"\r\n                            main={this.format.formatToken(senderPnL)}\r\n                            mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                            detail={$.convert.formatStableToken(senderPnL * this.props.priceInStableToken)}\r\n                            detailUnit={$.contracts.stableToken.symbol}\r\n                            titleClassName=\"light-box\"\r\n                            mainClassName=\"glow\"\r\n                        />\r\n\r\n                        <div className=\"col-span-2 sm:col-span-4\">\r\n                            {this.getBetInfo(betPool, outcomeCount)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n    isSenderUnderWin(winningStatement) {\r\n        const senderPrize = this.format.fromWei(winningStatement.senderPrize);\r\n        const senderLosingBets = this.format.fromWei(winningStatement.senderLosingBets.total);\r\n\r\n        return senderPrize > 0 && senderPrize < senderLosingBets;\r\n    }\r\n\r\n    getPopoverWinningStatementAllBetsDetail(winningStatement) {\r\n        const allAggregatedBets = this.format.fromWei(winningStatement.allAggregatedBets.total);\r\n        const allWinningBets = this.format.fromWei(winningStatement.allWinningBets.total);\r\n        const allLosingBets = this.format.fromWei(winningStatement.allLosingBets.total);\r\n\r\n        return (\r\n            <div className=\"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]\">\r\n                <PriceBox\r\n                    title=\"All Bets\"\r\n                    main={this.format.formatToken(allAggregatedBets)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(allAggregatedBets * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(winningStatement.allAggregatedBets.count)}</span>)}\r\n                />\r\n                <PriceBox\r\n                    title=\"Winning Bets\"\r\n                    main={this.format.formatToken(allWinningBets)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(allWinningBets * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(winningStatement.allWinningBets.count)}</span>)}\r\n                />\r\n                <PriceBox\r\n                    title=\"Losing Bets\"\r\n                    main={this.format.formatToken(allLosingBets)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(allLosingBets * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(winningStatement.allLosingBets.count)}</span>)}\r\n                    mainClassName=\"glow\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Payout\"\r\n                    main={`${$.convert.formatNumberScaled(allWinningBets === 0 ? 0 : allLosingBets / allWinningBets, 2)}`}\r\n                    mainClassName=\"neon\"\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getPopoverWinningStatementSenderBetsDetail(winningStatement) {\r\n        const allWinningBets = this.format.fromWei(winningStatement.allWinningBets.total);\r\n\r\n        const senderAggregatedBets = this.format.fromWei(winningStatement.senderAggregatedBets.total);\r\n        const senderWinningBets = this.format.fromWei(winningStatement.senderWinningBets.total);\r\n        const senderLosingBets = this.format.fromWei(winningStatement.senderLosingBets.total);\r\n\r\n        return (\r\n            <div className=\"grid grid-cols-2 gap-x-2 gap-y-4 text-[80%]\">\r\n                <PriceBox\r\n                    title=\"All Bets\"\r\n                    main={this.format.formatToken(senderAggregatedBets)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderAggregatedBets * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(winningStatement.senderAggregatedBets.count)}</span>)}\r\n                />\r\n                <PriceBox\r\n                    title=\"Winning Bets\"\r\n                    main={this.format.formatToken(senderWinningBets)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderWinningBets * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(winningStatement.senderWinningBets.count)}</span>)}\r\n                    mainClassName=\"neon\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Losing Bets\"\r\n                    main={this.format.formatToken(senderLosingBets)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderLosingBets * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(winningStatement.senderLosingBets.count)}</span>)}\r\n                    mainClassName=\"glow\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Winning Share\"\r\n                    main={$.convert.formatPercentage(allWinningBets === 0 ? 0 : parseFloat(senderWinningBets) / parseFloat(allWinningBets))}\r\n                    mainUnit=\"%\"\r\n                    mainClassName=\"neon\"\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getPopoverBetPoolWinningStatementDetail(winningStatement) {\r\n        const allAggregatedBets = this.format.fromWei(winningStatement.allAggregatedBets.total);\r\n        const allWinningBets = this.format.fromWei(winningStatement.allWinningBets.total);\r\n        const allLosingBets = this.format.fromWei(winningStatement.allLosingBets.total);\r\n\r\n        const senderAggregatedBets = this.format.fromWei(winningStatement.senderAggregatedBets.total);\r\n        const senderWinningBets = this.format.fromWei(winningStatement.senderWinningBets.total);\r\n        const senderLosingBets = this.format.fromWei(winningStatement.senderLosingBets.total);\r\n\r\n        const senderPrize = this.format.fromWei(winningStatement.senderPrize);\r\n        const senderPnL = senderPrize - senderLosingBets;\r\n\r\n        return (\r\n            <div className=\"grid grid-cols-4 gap-x-2 gap-y-4 text-[80%]\">\r\n                <span className=\"group-title opacity-75 col-span-4 glass-box\">Total Position</span>\r\n                <PriceBox\r\n                    title=\"All Bets\"\r\n                    main={this.format.formatToken(allAggregatedBets)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(allAggregatedBets * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(winningStatement.allAggregatedBets.count)}</span>)}\r\n                />\r\n                <PriceBox\r\n                    title=\"Winning Bets\"\r\n                    main={this.format.formatToken(allWinningBets)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(allWinningBets * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(winningStatement.allWinningBets.count)}</span>)}\r\n                />\r\n                <PriceBox\r\n                    title=\"Losing Bets\"\r\n                    main={this.format.formatToken(allLosingBets)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(allLosingBets * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(winningStatement.allLosingBets.count)}</span>)}\r\n                    mainClassName=\"glow\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Payout\"\r\n                    main={`${$.convert.formatNumberScaled(allWinningBets === 0 ? 0 : allLosingBets / allWinningBets, 2)}`}\r\n                    mainClassName=\"neon\"\r\n                />\r\n\r\n                <span className=\"group-title opacity-75 col-span-4 glass-box\">Your Position</span>\r\n                <PriceBox\r\n                    title=\"All Bets\"\r\n                    main={this.format.formatToken(senderAggregatedBets)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderAggregatedBets * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(winningStatement.senderAggregatedBets.count)}</span>)}\r\n                />\r\n                <PriceBox\r\n                    title=\"Winning Bets\"\r\n                    main={this.format.formatToken(senderWinningBets)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderWinningBets * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(winningStatement.senderWinningBets.count)}</span>)}\r\n                    mainClassName=\"neon\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Losing Bets\"\r\n                    main={this.format.formatToken(senderLosingBets)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderLosingBets * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    info={(<span><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(winningStatement.senderLosingBets.count)}</span>)}\r\n                    mainClassName=\"glow\"\r\n                />\r\n                <PriceBox\r\n                    title=\"PnL\"\r\n                    main={this.format.formatToken(senderPnL)}\r\n                    mainUnit={this.props.game.tokenInfo.details.symbol}\r\n                    detail={$.convert.formatStableToken(senderPnL * this.props.priceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    mainClassName=\"glow\"\r\n                />\r\n                <PriceBox\r\n                    containerClassName=\"col-span-4\"\r\n                    title=\"Winning Share\"\r\n                    main={$.convert.formatPercentage(allWinningBets === 0 ? 0 : parseFloat(senderWinningBets) / parseFloat(allWinningBets))}\r\n                    mainUnit=\"%\"\r\n                    mainClassName=\"neon\"\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getActivity(count, timestamp, now) {\r\n        return (\r\n            <div className=\"flex justify-evenly space-x-1\">\r\n                <span className=\"light-box w-full\"><i className=\"hidden xs:inline-block bi bi-app-indicator mr-1\" />{$.convert.formatInteger(count)}</span>\r\n                <span className=\"light-box w-full\"><i className=\"hidden xs:inline-block bi bi-clock mr-1\" />{timestamp > 0 ? $.convert.formatTimespan(now - timestamp) : \"-\"}</span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Game functions.\r\n    getPayoutOf(betPool, outcome) {\r\n        const zero = Web3.utils.toBN(0);\r\n\r\n        let winningBets = zero;\r\n        let losingBets = zero;\r\n\r\n        const allBets = betPool.allBets;\r\n\r\n        for (let i = 0; i < allBets.length; ++i) {\r\n            var bet = allBets[i];\r\n\r\n            if (i === outcome)\r\n                winningBets = winningBets.add(Web3.utils.toBN(bet.total));\r\n            else\r\n                losingBets = losingBets.add(Web3.utils.toBN(bet.total));\r\n        }\r\n\r\n        if (winningBets.cmp(zero) === 0) {\r\n            return null;\r\n        }\r\n\r\n        return this.format.fromWei(losingBets) / this.format.fromWei(winningBets);\r\n    }\r\n\r\n    // Content generators\r\n    getOutcomeNames() {\r\n        const items = [];\r\n\r\n        for (let i = 0; i < this.props.game.outcomeCount; ++i) {\r\n            items.push((<th key={i} className=\"text-[1em] font-normal light-box px-2\">{getOutcomeText(parseInt(this.props.game.outcomeCount), i)}</th>));\r\n        }\r\n\r\n        return items;\r\n    }\r\n\r\n    getBetCounts(bets) {\r\n        const items = [];\r\n\r\n        for (let i = 0; i < this.props.game.outcomeCount; ++i) {\r\n            items.push((<td key={i} className=\"text-[1em] lighter-box px-2\">{bets[i]?.count ? $.convert.formatInteger(bets[i].count) : 0}</td>));\r\n        }\r\n\r\n        return items;\r\n    }\r\n\r\n    getBetAmounts(bets) {\r\n        const items = [];\r\n\r\n        for (let i = 0; i < this.props.game.outcomeCount; ++i) {\r\n            items.push((<td key={i}><span className=\"text-[1em] px-2 py-1\">{bets[i]?.total ? this.format.formatToken(this.format.fromWei(bets[i].total)) : 0}</span></td>));\r\n        }\r\n\r\n        return items;\r\n    }\r\n\r\n    getBetsSum(bets) {\r\n        let sum = 0;\r\n\r\n        for (let i = 0; i < this.props.game.outcomeCount; ++i) {\r\n            sum += bets[i]?.total ? this.format.fromWei(bets[i].total) : 0;\r\n        }\r\n\r\n        return sum;\r\n    }\r\n\r\n    getPayouts(betPool) {\r\n        const payouts = [];\r\n\r\n        for (let i = 0; i < this.props.game.outcomeCount; ++i) {\r\n            payouts.push(this.getPayoutOf(betPool, i));\r\n        }\r\n\r\n        const max = Math.max(...payouts);\r\n        const items = [];\r\n\r\n        for (let i = 0; i < payouts.length; ++i) {\r\n            items.push((<td key={i}><span className={`text-[1em] px-2 py-1 ${payouts[i] === max ? \" glow\" : \"\"}`}>{payouts[i] ? $.convert.formatNumberScaled(payouts[i], 2) : \"\"}</span></td>));\r\n        }\r\n\r\n        return items;\r\n    }\r\n\r\n    getAllBets(betPool) {\r\n        return (\r\n            <table className=\"mx-auto table-fixed border-separate leading-none w-full\">\r\n                <thead className=\"group-title uppercase tracking-wider\">\r\n                    <tr>\r\n                        {this.getOutcomeNames()}\r\n                    </tr>\r\n                </thead>\r\n                <tbody className=\"numeric\">\r\n                    <tr className=\"opacity-75\">\r\n                        {this.getBetCounts(betPool.allBets)}\r\n                    </tr>\r\n                    <tr>\r\n                        {this.getBetAmounts(betPool.allBets)}\r\n                    </tr>\r\n                    <tr>\r\n                        {this.getPayouts(betPool)}\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        )\r\n    }\r\n\r\n    getSenderBets(betPool) {\r\n        return (\r\n            <table className=\"mx-auto table-fixed border-separate leading-none w-full\">\r\n                <thead className=\"group-title uppercase tracking-wider\">\r\n                    <tr>\r\n                        {this.getOutcomeNames()}\r\n                    </tr>\r\n                </thead>\r\n                <tbody className=\"numeric\">\r\n                    <tr className=\"opacity-75\">\r\n                        {this.getBetCounts(betPool.senderBets)}\r\n                    </tr>\r\n                    <tr>\r\n                        {this.getBetAmounts(betPool.senderBets)}\r\n                    </tr>\r\n                    <tr>\r\n                        <td colSpan={this.props.game.outcomeCount}>\r\n                            {/* &nbsp; */}\r\n                            {/* <span className=\"text-[14px] px-2 py-1 glow\">\r\n                                {this.format.formatToken(this.getBetsSum(betPool.senderBets))}\r\n                            </span> */}\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        );\r\n    }\r\n\r\n    getBetInfo(betPool, outcomeCount) {\r\n        return (\r\n            <>\r\n                <div className={`grid ${outcomeCount > 2 ? \"grid-cols-1 sm:grid-cols-2\" : \"grid-cols-2\"} gap-x-2 gap-y-2 text-center`}>\r\n                    <div className=\"flex flex-col items-center\">\r\n                        <span className=\"group-title light-box w-full uppercase tracking-wider\">\r\n                            <span className=\"mr-1\">Total Bets</span>\r\n                            <StyledPopover children={this.getPopoverWinningStatementAllBetsDetail(betPool.statement)} />\r\n                        </span>\r\n                        {/* <span className=\"group-title opacity-25 mt-1\">{this.props.game.tokenInfo.details.symbol}</span> */}\r\n                        <div className=\"overflow-x-auto overflow-y-hidden section\">\r\n                            {this.getAllBets(betPool)}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"flex flex-col items-center\">\r\n                        <span className=\"group-title light-box w-full uppercase tracking-wider\">\r\n                            <span className=\"mr-1\">Your Bets</span>\r\n                            <StyledPopover children={this.getPopoverWinningStatementSenderBetsDetail(betPool.statement)} />\r\n                        </span>\r\n                        {/* <span className=\"group-title opacity-25 mt-1\">{this.props.game.tokenInfo.details.symbol}</span> */}\r\n                        <div className=\"overflow-x-auto overflow-y-hidden section\">\r\n                            {this.getSenderBets(betPool)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        );\r\n    }\r\n\r\n    isWinner(betPool) {\r\n        if (betPool.senderBets.length > 0) {\r\n            return betPool.senderBets[betPool.outcome].count > 0\r\n                ? Web3.utils.toBN(betPool.statement.allLosingBets.count).cmp(Web3.utils.toBN(0)) === 1 ? 1 : -1\r\n                : Web3.utils.toBN(betPool.statement.allWinningBets.count).cmp(Web3.utils.toBN(0)) === 1 ? 2 : -1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    }\r\n\r\n    isWinnerText(betPool) {\r\n        switch (this.isWinner(betPool)) {\r\n            case -1:\r\n                return \"had no opponent\";\r\n            case 0:\r\n                return \"didn't bet\";\r\n            case 1:\r\n                return \"won\";\r\n            case 2:\r\n                return \"lost\";\r\n        }\r\n    }\r\n\r\n    // Actions\r\n    togglePoolTotalsVisibility() {\r\n        this.setState({ isPoolTotalsVisibile: !this.state.isPoolTotalsVisibile });\r\n    }\r\n\r\n    toggleLastBetPoolVisibility() {\r\n        this.setState({ showLastBetPool: !this.state.showLastBetPool });\r\n    }\r\n\r\n    toggleSenderLastBetPoolVisibility() {\r\n        this.setState({ showSenderLastBetPool: !this.state.showSenderLastBetPool });\r\n    }\r\n\r\n    async execute(func) {\r\n        this.setState({ isInteractionDisabled: true });\r\n\r\n        try {\r\n            await func();\r\n        } catch (error) {\r\n            console.log(`${error.code}: ${error.message}`);\r\n        } finally {\r\n            this.setState({ isInteractionDisabled: false });\r\n        }\r\n    }\r\n\r\n    async toggleYourBetHistoryVisibility() {\r\n        const show = this.state.showYourBetHistory;\r\n        this.setState({ showYourBetHistory: !show });\r\n\r\n        if (!show) {\r\n            await this.loadSenderBetPools();\r\n        }\r\n    }\r\n\r\n    async loadSenderBetPools() {\r\n        this.setState({ isLoading: true });\r\n\r\n        try {\r\n            await this.loadSenderBetPoolsInternal();\r\n        } catch (error) {\r\n            console.error(error);\r\n        } finally {\r\n            this.setState({ isLoading: false });\r\n        }\r\n    }\r\n\r\n    async loadSenderBetPoolsInternal() {\r\n        const pageLength = 3;\r\n\r\n        const senderBetPoolCount = parseInt(this.props.game.senderBetPoolCount);\r\n        const remaining = senderBetPoolCount - this.state.senderBetPools.length;\r\n\r\n        if (remaining > 0) {\r\n            let offset;\r\n            let count;\r\n\r\n            offset = this.state.senderBetPools.length;\r\n\r\n            if (remaining > pageLength) {\r\n                count = pageLength;\r\n            } else {\r\n                count = remaining;\r\n            }\r\n\r\n            let pools = [...await this.props.senderPoolSnapshots(offset, count)];\r\n\r\n            if (pools.length > 0 && parseInt(pools[pools.length - 1].poolId) === parseInt(this.props.game.currentPoolId)) {\r\n                pools = pools.slice(0, pools.length - 1);\r\n            }\r\n\r\n            this.setState({ senderBetPools: [...this.state.senderBetPools, ...pools] });\r\n        }\r\n    }\r\n}","import Configuration from \"../../Configuration\";\r\n\r\nexport function getSupportedSwapRouterName(chainId, pool) {\r\n    const supportedSwapRouters = Configuration.getSwapRouters(chainId);\r\n    const address = pool.depositToken.router;\r\n\r\n    return address == null || supportedSwapRouters == null ? null : supportedSwapRouters[address].name ?? null;\r\n}\r\n\r\nexport function getDepositTokenSymbol(pool) {\r\n    return pool.isLiquidityToken ? `${pool.token0Details.symbol}/${pool.token1Details.symbol}` : pool.depositToken.details.symbol;\r\n}\r\n\r\nexport function getDepositTokenDecimals(pool) {\r\n    return pool.isLiquidityToken ? Math.min(pool.token0Details.decimals, pool.token1Details.decimals) : pool.depositToken.details.decimals;\r\n}","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Configuration from \"../../Configuration\";\r\n\r\nimport $ from \"./core/Services\";\r\n\r\nimport { getSupportedSwapRouterName } from \"./FarmPoolExtensions\";\r\n\r\nimport { PriceBox } from \"../InfoBox\";\r\nimport { StyledPopover } from \"../StyledPopover\";\r\n\r\n/*\r\n{\r\n    creditToken,\r\n    pool,\r\n    nativeTokenPriceInStableToken,\r\n    deposit,\r\n    withdraw,\r\n    blockTime,\r\n    currentBlock\r\n}\r\n*/\r\nexport default class FarmPool extends Component {\r\n    static propTypes = {\r\n        deposit: PropTypes.func,\r\n        withdraw: PropTypes.func,\r\n    }\r\n\r\n    static defaultProps = {\r\n        deposit: async () => {\r\n        },\r\n        withdraw: async () => {\r\n        }\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isInteractionDisabled: false,\r\n            isPoolTotalsVisibile: false,\r\n            // depositTokenPriceInStableToken: 0,\r\n            // creditTokenPriceInStableToken: 0\r\n        };\r\n\r\n        this.onTick = this.onTick.bind(this);\r\n\r\n        this.formatDepositToken = $.format(this.props.pool.depositToken.details.decimals);\r\n        this.formatCreditToken = $.format(this.props.creditToken.details.decimals);\r\n\r\n        this.togglePoolTotalsVisibility = this.togglePoolTotalsVisibility.bind(this);\r\n\r\n        this.execute = this.execute.bind(this);\r\n\r\n        this.popoverFarmPoolRef = React.createRef();\r\n        this.tooltipSeigniorageFeeRef = React.createRef();\r\n    }\r\n\r\n    async componentDidMount() {\r\n        if (await this.initialize()) {\r\n            console.log(\"Initialized on component mount.\");\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.stopTimer();\r\n    }\r\n\r\n    async componentDidUpdate() {\r\n        if (await this.initialize()) {\r\n            console.log(\"Initialized on component update.\");\r\n        }\r\n    }\r\n\r\n    async initialize() {\r\n        if (this.isInitializing) {\r\n            return false;\r\n        }\r\n\r\n        this.isInitializing = true;\r\n\r\n        try {\r\n            if (!this.timerId) {\r\n                this.startTimer(this.props.blockTime * 1000);\r\n\r\n                return true;\r\n            }\r\n\r\n            return false;\r\n        } finally {\r\n            this.isInitializing = false;\r\n        }\r\n    }\r\n\r\n    startTimer(blockTime) {\r\n        this.timerId = setInterval(async () => await this.onTick(), blockTime);\r\n        console.log(`Started timer: ${this.timerId}; Interval: ${blockTime} ms`);\r\n    }\r\n\r\n    stopTimer() {\r\n        const timerId = this.timerId;\r\n\r\n        if (timerId) {\r\n            clearInterval(timerId);\r\n            this.timerId = undefined;\r\n\r\n            console.log(`Stopped timer: ${timerId}`);\r\n        }\r\n    }\r\n\r\n    async onTick() {\r\n        try {\r\n            const depositTokenPriceInStableToken = await $.iziSwap.getTokenPriceInStableToken(this.props.pool.depositToken.token, this.props.pool.depositToken.details.decimals, this.props.pool.isLiquidityToken);\r\n            const creditTokenPriceInStableToken = await $.iziSwap.getTokenPriceInStableToken(this.props.creditToken.token, this.props.creditToken.details.decimals, false);\r\n\r\n            this.setState({\r\n                depositTokenPriceInStableToken,\r\n                creditTokenPriceInStableToken\r\n            });\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const now = Date.now() / 1000;\r\n        const creditMultiplier = parseFloat(this.props.pool.creditMultiplier) / 10000;\r\n        const depositFeeRate = parseFloat(this.props.pool.depositFee.rate) / 10000;\r\n        const creditLiquidationRate = parseFloat(this.props.pool.creditLiquidationRate) / 10000;\r\n        const liquidatorFeeRate = parseFloat(this.props.pool.liquidatorFee.rate) / 10000;\r\n        const senderBalance = this.formatDepositToken.fromWei(this.props.pool.senderBalance);\r\n        const senderDeposited = this.formatDepositToken.fromWei(this.props.pool.senderPosition.deposited);\r\n        const senderCredited = this.formatCreditToken.fromWei(this.props.pool.senderPosition.credited);\r\n        const senderLiquidated = this.formatDepositToken.fromWei(this.props.pool.senderPosition.liquidated.total);\r\n        const senderCreditLiquidationLevel = this.formatCreditToken.fromWei(this.props.pool.senderPosition.creditLiquidationLevel);\r\n        const senderCurrentCredit = this.formatCreditToken.fromWei(this.props.pool.senderCurrentCredit);\r\n        const requiresRebalancing = senderCurrentCredit > senderCredited || senderCurrentCredit < senderCreditLiquidationLevel;\r\n        const totalDeposited = this.formatDepositToken.fromWei(this.props.pool.totalPosition.deposited);\r\n        const totalCredited = this.formatCreditToken.fromWei(this.props.pool.totalPosition.credited);\r\n        const totalLiquidated = this.formatDepositToken.fromWei(this.props.pool.totalPosition.liquidated.total);\r\n        const seigniorageFee = parseFloat(this.props.pool.seigniorageFee.rate) / 10000;\r\n        const seigniorageFeeCollected = $.convert.fromWeiNativeToken(this.props.pool.seigniorageFee.collected.total);\r\n        const seignioryExplorerUri = `${Configuration.getBlockExplorerLink($.chainId)}/address/${this.props.pool.seigniory}`;\r\n\r\n        let updatedBlockId = parseInt(this.props.pool.senderPosition.updatedBlockId);\r\n        const senderTimeFromUpdate = updatedBlockId > 0 ? (parseInt(this.props.currentBlock) - updatedBlockId) * this.props.blockTime : 0;\r\n\r\n        updatedBlockId = parseInt(this.props.pool.totalPosition.updatedBlockId);\r\n        const totalTimeFromUpdate = updatedBlockId > 0 ? (parseInt(this.props.currentBlock) - updatedBlockId) * this.props.blockTime : 0;\r\n\r\n        const tooltipSeigniorageFeeText = (<span className=\"tooltip text-[80%]\">Fee paid to the seignory (token owner) from burns.</span>);\r\n\r\n        const popoverFarmPoolContent = (\r\n            <div className=\"grid grid-cols-3 gap-x-2 gap-y-4 text-[80%]\">\r\n                <PriceBox\r\n                    title=\"Investor Count\"\r\n                    main={$.convert.formatInteger(this.props.pool.investorCount)}\r\n                />\r\n                <PriceBox\r\n                    title={(<><span className=\"mr-1\">Seigniorage Fee</span><StyledPopover isTooltip={true} children={tooltipSeigniorageFeeText} /></>)}\r\n                    main={$.convert.formatPercentage(seigniorageFee)}\r\n                    mainUnit=\"%\"\r\n                    detail={(<a href={seignioryExplorerUri} rel=\"noreferrer\" target=\"_blank\" className=\"numeric\">{$.convert.formatAccount(this.props.pool.seigniory)}</a>)}\r\n                    info={this.props.pool.isSenderSeignory ? (<span className=\"font-display\">You're Seignory</span>) : null}\r\n                    infoClassName=\"opacity-75 light-box font-semibold uppercase text-red-500\"\r\n                />\r\n                <PriceBox\r\n                    title=\"Seigniorage Collected\"\r\n                    main={$.convert.formatNativeToken(seigniorageFeeCollected)}\r\n                    mainUnit={$.contracts.nativeToken.symbol}\r\n                    detail={$.convert.formatStableToken(seigniorageFeeCollected * this.props.nativeTokenPriceInStableToken)}\r\n                    detailUnit={$.contracts.stableToken.symbol}\r\n                    infoText={this.getActivity(this.props.pool.seigniorageFee.collected.count, this.props.pool.seigniorageFee.collected.timestamp, now)}\r\n                />\r\n            </div>\r\n        );\r\n\r\n        return (\r\n            <div className={`card bg-[#1e0f3c80] bg-diagonal-lines`}>\r\n                <div className=\"grid grid-cols-12 gap-x-2 gap-y-0.5\">\r\n                    <div className=\"col-span-5\">\r\n                        <span className=\"block opacity-75 text-uppercase fs-6 m-0\">\r\n                            <span className=\"mr-1\">{$.farm.getDepositTokenSymbol(this.props.pool)}</span><StyledPopover children={popoverFarmPoolContent} />\r\n                        </span>\r\n                        <span className=\"opacity-25 text-[0.75em]\">\r\n                            {getSupportedSwapRouterName($.chainId, this.props.pool)}\r\n                        </span>\r\n                    </div>\r\n                    <div className=\"col-span-7 flex items-center justify-end text-[0.75em]\">\r\n                        {this.props.pool.isLiquidityToken\r\n                            ? <>\r\n                                <div className=\"avatar\">\r\n                                    <span className=\"card-title opacity-25 text-uppercase m-0\" style={{ fontSize: \"x-small\" }}>{this.props.pool.token0Details.symbol}</span>\r\n                                </div>\r\n                                <div className=\"avatar\">\r\n                                    <span className=\"card-title opacity-25 text-uppercase m-0\" style={{ fontSize: \"x-small\" }}>{this.props.pool.token1Details.symbol}</span>\r\n                                </div>\r\n                            </>\r\n                            : <div className=\"avatar\">\r\n                                <span className=\"card-title opacity-25 text-uppercase m-0\" style={{ fontSize: \"x-small\" }}>{this.props.pool.depositToken.details.symbol}</span>\r\n                            </div>\r\n                        }\r\n                    </div>\r\n\r\n                    <div className=\"col-span-12 mt-0.5 mb-3 border-bottom-t4 border-2\"></div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 gap-x-2 gap-y-4\">\r\n                    <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4 text-[80%]\">\r\n                        <PriceBox\r\n                            title=\"Credit Multiplier\"\r\n                            main={`${$.convert.formatNumberScaled(1 + creditMultiplier, 2)}`}\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n                        <PriceBox\r\n                            title=\"Deposit Fee\"\r\n                            main={$.convert.formatPercentage(depositFeeRate)}\r\n                            mainUnit=\"%\"\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n                        <PriceBox\r\n                            title=\"Credit Liq. Rate\"\r\n                            main={$.convert.formatPercentage(creditLiquidationRate)}\r\n                            mainUnit=\"%\"\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n                        <PriceBox\r\n                            title=\"Liquidator Fee\"\r\n                            main={$.convert.formatPercentage(liquidatorFeeRate)}\r\n                            mainUnit=\"%\"\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"text-[80%] -mb-2\">\r\n                        <div className=\"flex items-center justify-between group-title opacity-75 light-box px-2\">\r\n                            <span>Your Position</span>\r\n                            <span className=\"numeric opacity-25\">\r\n                                <i className=\"bi bi-clock mr-1\" />\r\n                                {$.convert.formatTimespan(senderTimeFromUpdate)}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-3 gap-x-2 gap-y-4 text-[80%]\">\r\n                        <PriceBox\r\n                            title=\"Balance\"\r\n                            main={this.formatDepositToken.formatCurrency(senderBalance)}\r\n                            mainUnit={$.farm.getDepositTokenSymbol(this.props.pool)}\r\n                            detail={this.state.depositTokenPriceInStableToken ? $.convert.formatStableToken(this.state.depositTokenPriceInStableToken * senderBalance) : \"-\"}\r\n                            detailUnit={$.contracts.stableToken.symbol}\r\n                            isMainUnitOnTop={true}\r\n                            mainUnitClassName=\"!opacity-25 mb-3\"\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n                        <PriceBox\r\n                            title=\"Deposited\"\r\n                            main={this.formatDepositToken.formatCurrency(senderDeposited)}\r\n                            mainUnit={$.farm.getDepositTokenSymbol(this.props.pool)}\r\n                            detail={this.state.depositTokenPriceInStableToken ? $.convert.formatStableToken(this.state.depositTokenPriceInStableToken * senderDeposited) : \"-\"}\r\n                            detailUnit={$.contracts.stableToken.symbol}\r\n                            isMainUnitOnTop={true}\r\n                            mainUnitClassName=\"!opacity-25 mb-3\"\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n                        <PriceBox\r\n                            title=\"Credited\"\r\n                            main={this.formatCreditToken.formatCurrency(senderCredited)}\r\n                            mainUnit={this.props.creditToken.details.symbol}\r\n                            detail={this.state.creditTokenPriceInStableToken ? $.convert.formatStableToken(this.state.creditTokenPriceInStableToken * senderCredited) : \"-\"}\r\n                            detailUnit={$.contracts.stableToken.symbol}\r\n                            isMainUnitOnTop={true}\r\n                            mainUnitClassName=\"!opacity-25 mb-3\"\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n\r\n                        <PriceBox\r\n                            title=\"Current Level\"\r\n                            main={this.formatCreditToken.formatCurrency(senderCurrentCredit)}\r\n                            mainUnit={this.props.creditToken.details.symbol}\r\n                            isMainUnitOnTop={true}\r\n                            mainClassName={`${senderCurrentCredit > senderCredited ? \"animate-pulse neon\" : senderCurrentCredit < senderCreditLiquidationLevel ? \"animate-pulse glow\" : \"\"}`}\r\n                            mainUnitClassName=\"!opacity-25 mb-3\"\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n                        <PriceBox\r\n                            title=\"Liquidation Level\"\r\n                            main={this.formatCreditToken.formatCurrency(senderCreditLiquidationLevel)}\r\n                            mainUnit={this.props.creditToken.details.symbol}\r\n                            isMainUnitOnTop={true}\r\n                            mainUnitClassName=\"!opacity-25 mb-3\"\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n                        <PriceBox\r\n                            title=\"Liquidated\"\r\n                            main={this.formatDepositToken.formatCurrency(senderLiquidated)}\r\n                            mainUnit={$.farm.getDepositTokenSymbol(this.props.pool)}\r\n                            detail={this.state.depositTokenPriceInStableToken ? $.convert.formatStableToken(this.state.depositTokenPriceInStableToken * senderLiquidated) : \"-\"}\r\n                            detailUnit={$.contracts.stableToken.symbol}\r\n                            info={this.getActivity(this.props.pool.senderPosition.liquidated.count, this.props.pool.senderPosition.liquidated.timestamp, now)}\r\n                            isMainUnitOnTop={true}\r\n                            mainUnitClassName=\"!opacity-25 mb-3\"\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-4 gap-x-2 gap-y-4 leading-none auto-rows-auto text-[0.75em]\">\r\n                        <button type=\"button\" className=\"h-9 btn btn-blue\" disabled={this.state.isInteractionDisabled || senderBalance === 0}\r\n                            onClick={async () => {\r\n                                await this.execute(() => this.props.deposit(this.state.depositTokenPriceInStableToken));\r\n                            }}\r\n                        >\r\n                            Deposit\r\n                        </button>\r\n                        <button type=\"button\" className=\"h-9 btn btn-slate\" disabled={this.state.isInteractionDisabled || senderDeposited === 0}\r\n                            onClick={async () => {\r\n                                await this.execute(() => this.props.withdraw(this.state.creditTokenPriceInStableToken));\r\n                            }}\r\n                        >\r\n                            Withdraw\r\n                        </button>\r\n                        <button type=\"button\" className=\"h-9 btn btn-green\" disabled={this.state.isInteractionDisabled || senderDeposited === 0 || !requiresRebalancing}\r\n                            onClick={async () => {\r\n                                await this.execute(() => $.farm.rebalance(this.props.pool.poolId));\r\n                            }}\r\n                        >\r\n                            <span className={`${requiresRebalancing ? \"animate-pulse\" : \"\"}`}>Rebalance</span>\r\n                        </button>\r\n                        <button type=\"button\" className=\"h-9 btn btn-red\" disabled={this.state.isInteractionDisabled || senderDeposited === 0}\r\n                            onClick={async () => {\r\n                                await this.execute(() => $.farm.liquidate(this.props.pool.poolId));\r\n                            }}\r\n                        >\r\n                            Liquidate\r\n                        </button>\r\n\r\n                        <div className=\"col-span-4 border-bottom-t4\"></div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between -mt-2\">\r\n                        <span className=\"text-[0.75em] uppercase opacity-75 cursor-pointer\" onClick={this.togglePoolTotalsVisibility}><i className={`bi ${(this.state.isPoolTotalsVisibile ? \"bi-caret-down-fill\" : \"bi-caret-right-fill\")} mr-1`} />\r\n                            Pool Totals\r\n                        </span>\r\n                        <span className=\"numeric text-[0.75em] opacity-25\">\r\n                            <i className=\"bi bi-clock mr-1\" />\r\n                            {$.convert.formatTimespan(totalTimeFromUpdate)}\r\n                        </span>\r\n                    </div>\r\n\r\n                    {this.state.isPoolTotalsVisibile &&\r\n                        <div className=\"grid grid-cols-3 gap-x-2 text-[80%]\">\r\n                            <PriceBox\r\n                                title=\"Deposited\"\r\n                                main={this.formatDepositToken.formatCurrency(totalDeposited)}\r\n                                mainUnit={$.farm.getDepositTokenSymbol(this.props.pool)}\r\n                                detail={this.state.depositTokenPriceInStableToken ? $.convert.formatStableToken(this.state.depositTokenPriceInStableToken * totalDeposited) : \"-\"}\r\n                                detailUnit={$.contracts.stableToken.symbol}\r\n                                isMainUnitOnTop={true}\r\n                                mainUnitClassName=\"!opacity-25 mb-3\"\r\n                                titleClassName=\"light-box\"\r\n                            />\r\n                            <PriceBox\r\n                                title=\"Credited\"\r\n                                main={this.formatCreditToken.formatCurrency(totalCredited)}\r\n                                mainUnit={this.props.creditToken.details.symbol}\r\n                                detail={this.state.creditTokenPriceInStableToken ? $.convert.formatStableToken(this.state.creditTokenPriceInStableToken * totalCredited) : \"-\"}\r\n                                detailUnit={$.contracts.stableToken.symbol}\r\n                                isMainUnitOnTop={true}\r\n                                mainUnitClassName=\"!opacity-25 mb-3\"\r\n                                titleClassName=\"light-box\"\r\n                            />\r\n                            <PriceBox\r\n                                title=\"Liquidated\"\r\n                                main={this.formatDepositToken.formatCurrency(totalLiquidated)}\r\n                                mainUnit={$.farm.getDepositTokenSymbol(this.props.pool)}\r\n                                detail={this.state.depositTokenPriceInStableToken ? $.convert.formatStableToken(this.state.depositTokenPriceInStableToken * totalLiquidated) : \"-\"}\r\n                                detailUnit={$.contracts.stableToken.symbol}\r\n                                info={this.getActivity(this.props.pool.totalPosition.liquidated.count, this.props.pool.totalPosition.liquidated.timestamp, now)}\r\n                                isMainUnitOnTop={true}\r\n                                mainUnitClassName=\"!opacity-25 mb-3\"\r\n                                titleClassName=\"light-box\"\r\n                            />\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getTokenAvatars() {\r\n        return this.props.pool.isLiquidityToken\r\n            ? (<>\r\n                <div className=\"avatar\">\r\n                    <span className=\"card-title opacity-25 text-uppercase m-0\">{this.props.pool.token0Details.symbol}</span>\r\n                </div>\r\n                <div className=\"avatar\">\r\n                    <span className=\"card-title opacity-25 text-uppercase m-0\">{this.props.pool.token1Details.symbol}</span>\r\n                </div>\r\n            </>)\r\n            : (<div className=\"avatar\">\r\n                <span className=\"card-title opacity-25 text-uppercase m-0\">{this.props.pool.depositToken.details.symbol}</span>\r\n            </div>);\r\n    }\r\n\r\n    getActivity(count, timestamp, now) {\r\n        return (\r\n            <div className=\"flex justify-evenly space-x-1\">\r\n                <span className=\"light-box w-full\"><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(count)}</span>\r\n                <span className=\"light-box w-full\"><i className=\"bi bi-clock mr-1\" />{timestamp > 0 ? $.convert.formatTimespan(now - timestamp) : \"-\"}</span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Actions\r\n    togglePoolTotalsVisibility() {\r\n        this.setState({ isPoolTotalsVisibile: !this.state.isPoolTotalsVisibile });\r\n    }\r\n\r\n    async execute(func) {\r\n        this.setState({ isInteractionDisabled: true });\r\n\r\n        try {\r\n            await func();\r\n        } catch (error) {\r\n            console.log(`${error.code}: ${error.message}`);\r\n        } finally {\r\n            this.setState({ isInteractionDisabled: false });\r\n        }\r\n    }\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Web3 from \"web3\";\r\n\r\nimport $ from \"./core/Services\";\r\n\r\nimport { contains } from \"../../utils/Utils\";\r\n\r\nimport { getSupportedSwapRouterName } from \"./FarmPoolExtensions\";\r\nimport FarmPool from \"./FarmPool\";\r\n\r\nimport DelayedInput from \"./dialogs/core/DelayedInput\";\r\nimport { PriceBox, TitleText, MainText } from \"../InfoBox\";\r\n\r\nexport default function FarmPools({\r\n    farm,\r\n    nativeTokenPriceInStableToken,\r\n    deposit,\r\n    withdraw,\r\n    blockTime\r\n}) {\r\n    const SortBy = Object.freeze({\r\n        CreditMultiplier: 0,\r\n        DepositFee: 1,\r\n        CreditLiquidationRate: 2,\r\n        LiquidatorFee: 3,\r\n        Credited: 4\r\n    });\r\n\r\n    const SortDirection = Object.freeze({\r\n        Ascending: 0,\r\n        Descending: 1\r\n    });\r\n\r\n    const TokenType = Object.freeze({\r\n        All: 0,\r\n        Single: 1,\r\n        Liquidity: 2\r\n    });\r\n\r\n    const [activePools, setActivePools] = useState(farm.pools);\r\n    const [filter, setFilter] = useState();\r\n    const [sortBy, setSortBy] = useState(SortBy.CreditMultiplier);\r\n    const [sortDirection, setSortDirection] = useState(SortDirection.Descending);\r\n    const [tokenType, setTokenType] = useState(TokenType.All);\r\n\r\n    const format = $.format(farm.creditToken.details.decimals);\r\n\r\n    const totalLiquidityProvided = format.fromWei(farm.totalLiquidityProvided.total);\r\n    const totalCreditSupplied = farm.pools.reduce((sum, pool) => sum + format.fromWei(pool.totalPosition.credited, farm.creditToken.details.decimals), 0);\r\n\r\n    useEffect(() => {\r\n        const pools = farm.pools.filter(p => {\r\n            let found = true;\r\n\r\n            if (filter && filter.length > 0) {\r\n                const supportedSwapRouterName = getSupportedSwapRouterName($.chainId, p.pool);\r\n                const depositTokenSymbol = $.farm.getDepositTokenSymbol(p.pool);\r\n\r\n                found = contains(supportedSwapRouterName, filter) || contains(depositTokenSymbol, filter);\r\n            }\r\n\r\n            if (tokenType !== TokenType.All) {\r\n                if (tokenType === TokenType.Single) {\r\n                    found &= !p.pool.isLiquidityToken;\r\n                } else if (tokenType === TokenType.Liquidity) {\r\n                    found &= p.pool.isLiquidityToken;\r\n                }\r\n            }\r\n\r\n            return found;\r\n        });\r\n\r\n        pools.sort(function (a, b) {\r\n            let x;\r\n            let y;\r\n\r\n            if (sortDirection === SortDirection.Ascending) {\r\n                x = a;\r\n                y = b;\r\n            } else {\r\n                x = b;\r\n                y = a;\r\n            }\r\n\r\n            if (sortBy === SortBy.CreditMultiplier) {\r\n                return Web3.utils.toBN(x.creditMultiplier).cmp(Web3.utils.toBN(y.creditMultiplier));\r\n            }\r\n\r\n            if (sortBy === SortBy.DepositFee) {\r\n                return Web3.utils.toBN(x.depositFee.rate).cmp(Web3.utils.toBN(y.depositFee.rate));\r\n            }\r\n\r\n            if (sortBy === SortBy.CreditLiquidationRate) {\r\n                return Web3.utils.toBN(x.creditLiquidationRate).cmp(Web3.utils.toBN(y.creditLiquidationRate));\r\n            }\r\n\r\n            if (sortBy === SortBy.LiquidatorFee) {\r\n                return Web3.utils.toBN(x.liquidatorFee.rate).cmp(Web3.utils.toBN(y.liquidatorFee.rate));\r\n            }\r\n\r\n            if (sortBy === SortBy.Credited) {\r\n                return Web3.utils.toBN(x.senderPosition.credited).cmp(Web3.utils.toBN(y.senderPosition.credited));\r\n            }\r\n        });\r\n\r\n        // Pools where sender has deposits come first.\r\n        // TODO: Select the owners pools and append the rest so that they will appear at the top.\r\n        // pools.sort(function (a, b) {\r\n        //     return Web3.utils.toBN(b.pool.senderPosition.deposited).cmp(Web3.utils.toBN(a.pool.senderPosition.deposited));\r\n        // });\r\n\r\n        setActivePools(pools);\r\n    }, [filter, tokenType, sortBy, sortDirection, farm]);\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-1 gap-x-2 gap-y-10\">\r\n            <div className=\"card bg-[#1e0f3c99] bg-diagonal-lines text-center\">\r\n                <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4 text-[80%]\">\r\n                    <PriceBox\r\n                        title=\"Credit Token\"\r\n                        main={farm.creditToken.details.symbol}\r\n                        mainUnit=\"&nbsp;\"\r\n                        isMainUnitOnTop={true}\r\n                        titleClassName=\"light-box\"\r\n                        mainClassName=\"font-display\"\r\n                        mainUnitClassName=\"mb-3\"\r\n                    />\r\n                    <PriceBox\r\n                        title=\"Farm Pools\"\r\n                        main={$.convert.formatInteger(farm.pools.length)}\r\n                        mainUnit=\"&nbsp;\"\r\n                        isMainUnitOnTop={true}\r\n                        titleClassName=\"light-box\"\r\n                        mainUnitClassName=\"mb-3\"\r\n                    />\r\n                    <PriceBox\r\n                        title=\"Total Liquidity Added\"\r\n                        main={$.convert.formatCurrency(totalLiquidityProvided, Math.min(farm.creditToken.details.decimals, $.contracts.nativeToken.decimals))}\r\n                        mainUnit={`${farm.creditToken.details.symbol}/${$.contracts.nativeToken.symbol}`}\r\n                        isMainUnitOnTop={true}\r\n                        titleClassName=\"light-box\"\r\n                        mainUnitClassName=\"!opacity-25 mb-3\"\r\n                    />\r\n                    <PriceBox\r\n                        title=\"Total Credit Supplied\"\r\n                        main={$.convert.formatCurrency(totalCreditSupplied, farm.creditToken.details.decimals)}\r\n                        mainUnit={farm.creditToken.details.symbol}\r\n                        isMainUnitOnTop={true}\r\n                        titleClassName=\"light-box\"\r\n                        mainUnitClassName=\"!opacity-25 mb-3\"\r\n                    />\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"card bg-[#1e0f3c99] bg-diagonal-lines\">\r\n                <div className=\"grid grid-cols-12 gap-x-2 gap-y-4 justify-between\">\r\n                    <div className=\"col-span-12\">\r\n                        <label htmlFor=\"price\">\r\n                            <TitleText title=\"Filter pools\" titleClassName=\"opacity-100 leading-6\" />\r\n                        </label>\r\n                        <DelayedInput\r\n                            delay={400}\r\n                            type=\"search\"\r\n                            id=\"filter\"\r\n                            className=\"!text-[1em] px-2\"\r\n                            placeholder=\"WEEB, Uniswap\"\r\n                            onInput={value => {\r\n                                console.log(`filter: ${value}`);\r\n                                setFilter(value);\r\n                            }}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"col-span-12 xl:col-span-8 accent-violet-600\">\r\n                        <label>\r\n                            <TitleText title=\"Sort by\" titleClassName=\"opacity-100 leading-6\" />\r\n                        </label>\r\n                        <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-x-2 gap-y-0.5 justify-between\">\r\n                            <div className=\"flex items-center space-x-1\">\r\n                                <input className=\"w-4 h-4\" type=\"radio\" name=\"sortBy\" id=\"sortBy1\" value={SortBy.CreditMultiplier} checked={sortBy === SortBy.CreditMultiplier} onChange={onSortByChanged} />\r\n                                <label htmlFor=\"sortBy1\">\r\n                                    <TitleText title=\"Credit Multiplier\" titleClassName=\"opacity-100 normal-case text-[0.75em]\" />\r\n                                </label>\r\n                            </div>\r\n                            <div className=\"flex items-center space-x-1\">\r\n                                <input className=\"w-4 h-4\" type=\"radio\" name=\"sortBy\" id=\"sortBy2\" value={SortBy.DepositFee} checked={sortBy === SortBy.DepositFee} onChange={onSortByChanged} />\r\n                                <label htmlFor=\"sortBy2\">\r\n                                    <TitleText title=\"Deposit Fee\" titleClassName=\"opacity-100 normal-case text-[0.75em]\" />\r\n                                </label>\r\n                            </div>\r\n                            <div className=\"flex items-center space-x-1\">\r\n                                <input className=\"w-4 h-4\" type=\"radio\" name=\"sortBy\" id=\"sortBy3\" value={SortBy.CreditLiquidationRate} checked={sortBy === SortBy.CreditLiquidationRate} onChange={onSortByChanged} />\r\n                                <label htmlFor=\"sortBy3\">\r\n                                    <TitleText title=\"Credit Liq. Rate\" titleClassName=\"opacity-100 normal-case text-[0.75em]\" />\r\n                                </label>\r\n                            </div>\r\n                            <div className=\"flex items-center space-x-1\">\r\n                                <input className=\"w-4 h-4\" type=\"radio\" name=\"sortBy\" id=\"sortBy4\" value={SortBy.LiquidatorFee} checked={sortBy === SortBy.LiquidatorFee} onChange={onSortByChanged} />\r\n                                <label htmlFor=\"sortBy4\">\r\n                                    <TitleText title=\"Liquidator Fee\" titleClassName=\"opacity-100 normal-case text-[0.75em]\" />\r\n                                </label>\r\n                            </div>\r\n                            <div className=\"flex items-center space-x-1\">\r\n                                <input className=\"w-4 h-4\" type=\"radio\" name=\"sortBy\" id=\"sortBy5\" value={SortBy.Credited} checked={sortBy === SortBy.Credited} onChange={onSortByChanged} />\r\n                                <label htmlFor=\"sortBy5\">\r\n                                    <TitleText title=\"Credited Amount\" titleClassName=\"opacity-100 normal-case text-[0.75em]\" />\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-span-12 xl:col-span-4 accent-violet-600\">\r\n                        <div className=\"grid grid-cols-2 gap-x-2 gap-y-0.5 justify-between\">\r\n                            <div>\r\n                                <label>\r\n                                    <TitleText title=\"Sort direction\" titleClassName=\"opacity-100\" />\r\n                                </label>\r\n                                <div className=\"flex items-center space-x-2\">\r\n                                    <div className=\"flex items-center space-x-1\">\r\n                                        <input className=\"w-4 h-4\" type=\"radio\" name=\"sortDirection\" id=\"sortDirection1\" value={SortDirection.Ascending} checked={sortDirection === SortDirection.Ascending} onChange={onSortDirectionChanged} />\r\n                                        <label htmlFor=\"sortDirection1\">\r\n                                            <TitleText title={(<i className=\"bi bi-sort-numeric-down text-[20px]\" />)} titleClassName=\"opacity-100 normal-case\" />\r\n                                        </label>\r\n                                    </div>\r\n                                    <div className=\"flex items-center space-x-1\">\r\n                                        <input className=\"w-4 h-4\" type=\"radio\" name=\"sortDirection\" id=\"sortDirection2\" value={SortDirection.Descending} checked={sortDirection === SortDirection.Descending} onChange={onSortDirectionChanged} />\r\n                                        <label htmlFor=\"sortDirection2\">\r\n                                            <TitleText title={(<i className=\"bi bi-sort-numeric-down-alt text-[20px]\"></i>)} titleClassName=\"opacity-100 normal-case\" />\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div>\r\n                                <label>\r\n                                    <TitleText title=\"Token type\" titleClassName=\"opacity-100\" />\r\n                                </label>\r\n                                <div className=\"flex flex-wrap items-center gap-2\">\r\n                                    <div className=\"flex items-center space-x-1\">\r\n                                        <input className=\"w-4 h-4\" type=\"radio\" name=\"tokenType\" id=\"tokenType1\" value={TokenType.All} checked={tokenType === TokenType.All} onChange={onTokenTypeChanged} />\r\n                                        <label htmlFor=\"tokenType1\">\r\n                                            <TitleText title=\"All\" titleClassName=\"opacity-100 normal-case text-[0.75em]\" />\r\n                                        </label>\r\n                                    </div>\r\n                                    <div className=\"flex items-center space-x-1\">\r\n                                        <input className=\"w-4 h-4\" type=\"radio\" name=\"tokenType\" id=\"tokenType2\" value={TokenType.Single} checked={tokenType === TokenType.Single} onChange={onTokenTypeChanged} />\r\n                                        <label htmlFor=\"tokenType2\">\r\n                                            <TitleText title=\"Single\" titleClassName=\"opacity-100 normal-case text-[0.75em]\" />\r\n                                        </label>\r\n                                    </div>\r\n                                    <div className=\"flex items-center space-x-1\">\r\n                                        <input className=\"w-4 h-4\" type=\"radio\" name=\"tokenType\" id=\"tokenType3\" value={TokenType.Liquidity} checked={tokenType === TokenType.Liquidity} onChange={onTokenTypeChanged} />\r\n                                        <label htmlFor=\"tokenType3\">\r\n                                            <TitleText title=\"Liquidity\" titleClassName=\"opacity-100 normal-case text-[0.75em]\" />\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-x-5 gap-y-10\">\r\n                {getFarmPools(activePools)}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    function onTokenTypeChanged(e) {\r\n        const { name, value } = e.target;\r\n        setTokenType(parseInt(value));\r\n    }\r\n\r\n    function onSortByChanged(e) {\r\n        const { name, value } = e.target;\r\n        setSortBy(parseInt(value));\r\n    }\r\n\r\n    function onSortDirectionChanged(e) {\r\n        const { name, value } = e.target;\r\n        setSortDirection(parseInt(value));\r\n    }\r\n\r\n    function indexPools(pools) {\r\n        return pools.map((pool, poolId) => {\r\n            return { poolId, pool };\r\n        });\r\n    }\r\n\r\n    function getFarmPools(pools) {\r\n        const items = [];\r\n\r\n        pools.forEach((pool, i) => {\r\n            items.push((\r\n                <div key={i} className=\"max-h-full\">\r\n                    <FarmPool\r\n                        creditToken={farm.creditToken}\r\n                        pool={pool}\r\n                        nativeTokenPriceInStableToken={nativeTokenPriceInStableToken}\r\n                        deposit={depositTokenPriceInStableToken => deposit(pool.poolId, depositTokenPriceInStableToken)}\r\n                        withdraw={creditTokenPriceInStableToken => withdraw(pool.poolId, creditTokenPriceInStableToken)}\r\n                        blockTime={blockTime}\r\n                        currentBlock={farm.currentBlock}\r\n                    />\r\n                    <hr className=\"border-0 h-[2px]\" style={{ backgroundImage: \"linear-gradient(to right, transparent, rgb(196 181 253), transparent)\" }} />\r\n                </div>\r\n            ));\r\n        });\r\n\r\n        return items;\r\n    }\r\n}\r\n\r\n\r\nFarmPools.propTypes = {\r\n    borderBottom: PropTypes.string,\r\n    deposit: PropTypes.func,\r\n    withdraw: PropTypes.func,\r\n    rebalance: PropTypes.func,\r\n    liquidate: PropTypes.func\r\n};\r\n\r\nFarmPools.defaultProps = {\r\n    deposit: async (poolId, amount) => {\r\n    },\r\n    withdraw: async (poolId, amount) => {\r\n    },\r\n    rebalance: async (poolId) => {\r\n    },\r\n    liquidate: async (poolId) => {\r\n    }\r\n};\r\n","import React, { Component, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Configuration from \"../../Configuration\";\r\n\r\nimport $ from \"./core/Services\";\r\n\r\nimport { getSupportedSwapRouterName } from \"./FarmPoolExtensions\";\r\n\r\nimport { PriceBox, TitleText, MainText, DetailText, InfoText } from \"../InfoBox\";\r\n\r\n/*\r\n{\r\n    creditToken,\r\n    poolLiquidatable,\r\n    blockTime,\r\n    currentBlock\r\n}\r\n*/\r\nexport default class FarmLiquidatable extends Component {\r\n    static propTypes = {\r\n        liquidate: PropTypes.func,\r\n        blockTime: PropTypes.number\r\n    }\r\n\r\n    static defaultProps = {\r\n        liquidate: async () => {\r\n        }\r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            isInteractionDisabled: {}\r\n        };\r\n\r\n        this.formatDepositToken = $.format(this.props.poolLiquidatable.pool.depositToken.details.decimals);\r\n        this.formatCreditToken = $.format(this.props.creditToken.details.decimals);\r\n\r\n        this.execute = this.execute.bind(this);\r\n    }\r\n\r\n    render() {\r\n        const now = Date.now() / 1000;\r\n        const creditMultiplier = parseFloat(this.props.poolLiquidatable.pool.creditMultiplier) / 10000;\r\n        const depositFeeRate = parseFloat(this.props.poolLiquidatable.pool.depositFee.rate) / 10000;\r\n        const creditLiquidationRate = parseFloat(this.props.poolLiquidatable.pool.creditLiquidationRate) / 10000;\r\n        const liquidatorFeeRate = parseFloat(this.props.poolLiquidatable.pool.liquidatorFee.rate) / 10000;\r\n        const senderBalance = this.formatDepositToken.fromWei(this.props.poolLiquidatable.pool.senderBalance);\r\n        const senderDeposited = this.formatDepositToken.fromWei(this.props.poolLiquidatable.pool.senderPosition.deposited);\r\n        const senderCredited = this.formatCreditToken.fromWei(this.props.poolLiquidatable.pool.senderPosition.credited);\r\n        const senderLiquidated = this.formatDepositToken.fromWei(this.props.poolLiquidatable.pool.senderPosition.liquidated.total);\r\n        const senderCreditLiquidationLevel = this.formatCreditToken.fromWei(this.props.poolLiquidatable.pool.senderPosition.creditLiquidationLevel);\r\n        const senderCurrentCredit = this.formatCreditToken.fromWei(this.props.poolLiquidatable.pool.senderCurrentCredit);\r\n        const totalDeposited = this.formatDepositToken.fromWei(this.props.poolLiquidatable.pool.totalPosition.deposited);\r\n        const totalCredited = this.formatCreditToken.fromWei(this.props.poolLiquidatable.pool.totalPosition.credited);\r\n        const totalLiquidated = this.formatDepositToken.fromWei(this.props.poolLiquidatable.pool.totalPosition.liquidated.total);\r\n        const seigniorageFee = parseFloat(this.props.poolLiquidatable.pool.seigniorageFee.rate) / 10000;\r\n        const seigniorageFeeCollected = $.convert.fromWeiNativeToken(this.props.poolLiquidatable.pool.seigniorageFee.collected.total);\r\n        const seignioryExplorerUri = `${Configuration.getBlockExplorerLink($.chainId)}/address/${this.props.poolLiquidatable.pool.seigniory}`;\r\n\r\n        let updatedBlockId = parseInt(this.props.poolLiquidatable.pool.senderPosition.updatedBlockId);\r\n        const senderTimeFromUpdate = updatedBlockId > 0 ? (parseInt(this.props.currentBlock) - updatedBlockId) * this.props.blockTime : 0;\r\n\r\n        updatedBlockId = parseInt(this.props.poolLiquidatable.pool.totalPosition.updatedBlockId);\r\n        const totalTimeFromUpdate = updatedBlockId > 0 ? (parseInt(this.props.currentBlock) - updatedBlockId) * this.props.blockTime : 0;\r\n\r\n        const totalLiquidity = this.formatCreditToken.fromWei(this.props.poolLiquidatable.totalLiquidity.total);\r\n        const totalLiquidatorFee = this.formatCreditToken.fromWei(this.props.poolLiquidatable.totalLiquidatorFee.total);\r\n\r\n        const { fee, count } = this.getPoolSelfTotals(this.props.creditToken, this.props.poolLiquidatable);\r\n        const netLiquidatorFee = parseFloat(totalLiquidatorFee) - fee;\r\n\r\n        return (\r\n            <div className=\"card bg-[#1e0f3c80] bg-diagonal-lines\">\r\n                <div className=\"grid grid-cols-1 gap-y-4\">\r\n                    <div className=\"grid grid-cols-3 gap-x-2 gap-y-4 text-[80%]\">\r\n                        <PriceBox\r\n                            title=\"Deposit Token\"\r\n                            main={$.farm.getDepositTokenSymbol(this.props.poolLiquidatable.pool)}\r\n                            mainUnit={getSupportedSwapRouterName($.chainId, this.props.poolLiquidatable.pool)}\r\n                            isMainUnitOnTop={true}\r\n                            mainClassName=\"font-display\"\r\n                            mainUnitClassName=\"!opacity-25 mb-3 font-display\"\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n                        <PriceBox\r\n                            title=\"Total Liquidity\"\r\n                            main={this.formatCreditToken.formatCurrency(totalLiquidity)}\r\n                            mainUnit={this.props.creditToken.details.symbol}\r\n                            info={(<><div className=\"flex justify-evenly space-x-1\"><span className=\"light-box w-full\"><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(this.props.poolLiquidatable.totalLiquidity.count)}</span></div></>)}\r\n                            isMainUnitOnTop={true}\r\n                            mainUnitClassName=\"!opacity-25 mb-3\"\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n                        <PriceBox\r\n                            title=\"Total Liquidator Fee\"\r\n                            main={this.formatCreditToken.formatCurrency(netLiquidatorFee)}\r\n                            mainUnit={this.props.creditToken.details.symbol}\r\n                            info={(<><div className=\"flex justify-evenly space-x-1\"><span className=\"light-box w-full\"><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(parseInt(this.props.poolLiquidatable.totalLiquidatorFee.count) - count)}</span></div></>)}\r\n                            isMainUnitOnTop={true}\r\n                            mainUnitClassName=\"!opacity-25 mb-3\"\r\n                            titleClassName=\"light-box\"\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-4 gap-x-2 gap-y-2 text-center text-[80%]\">\r\n                        <div className=\"flex flex-col\">\r\n                            <TitleText title=\"Investor\" titleClassName=\"light-box\" />\r\n                            <MainText\r\n                                mainUnit={getSupportedSwapRouterName($.chainId, this.props.poolLiquidatable.pool)}\r\n                                isMainUnitOnTop={true}\r\n                                mainClassName=\"font-display\"\r\n                                mainUnitClassName=\"!opacity-25 mt-3 font-display\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"flex flex-col\">\r\n                            <TitleText title=\"Liquidity\" titleClassName=\"light-box\" />\r\n                            <MainText\r\n                                mainUnit={this.props.creditToken.details.symbol}\r\n                                isMainUnitOnTop={true}\r\n                                mainUnitClassName=\"!opacity-25 mt-3\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"flex flex-col\">\r\n                            <TitleText title=\"Liquidator Fee\" titleClassName=\"light-box\" />\r\n                            <MainText\r\n                                mainUnit={this.props.creditToken.details.symbol}\r\n                                isMainUnitOnTop={true}\r\n                                mainUnitClassName=\"!opacity-25 mt-3\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"flex flex-col\">\r\n                            <TitleText title=\"Action\" titleClassName=\"light-box\" />\r\n                            <MainText\r\n                                mainUnit=\"&nbsp;\"\r\n                                isMainUnitOnTop={true}\r\n                                mainUnitClassName=\"!opacity-25 mt-3\"\r\n                            />\r\n                        </div>\r\n                        {this.getFarmLiquidatables(this.props.poolLiquidatable.pool.poolId, this.props.poolLiquidatable.investorLiquidatables)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // Content generators\r\n    getActivity(count, timestamp, now) {\r\n        return (\r\n            <div className=\"flex justify-evenly space-x-1\">\r\n                <span className=\"light-box w-full\"><i className=\"bi bi-app-indicator mr-1\" />{$.convert.formatInteger(count)}</span>\r\n                <span className=\"light-box w-full\"><i className=\"bi bi-clock mr-1\" />{timestamp > 0 ? $.convert.formatTimespan(now - timestamp) : \"-\"}</span>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getFarmLiquidatables(poolId, investorLiquidatables) {\r\n        const items = [];\r\n\r\n        investorLiquidatables.forEach((investorLiquidatable, i) => {\r\n            items.push((\r\n                <Fragment key={i}>\r\n                    <div>\r\n                        <MainText\r\n                            main={$.convert.formatAccount(investorLiquidatable.investor)}\r\n                            mainClassName=\"text-[0.875em]\"\r\n                        />\r\n                        {investorLiquidatable.isSelf &&\r\n                            <div>\r\n                                <DetailText\r\n                                    detail=\"You\"\r\n                                    detailClassName=\"font-display rounded-lg bg-red-600 px-1\"\r\n                                />\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                    <MainText main={this.formatCreditToken.formatCurrency(this.formatCreditToken.fromWei(investorLiquidatable.liquidity))}\r\n                    />\r\n                    <MainText main={investorLiquidatable.isSelf\r\n                        ? (<del>{this.formatCreditToken.formatCurrency(this.formatCreditToken.fromWei(investorLiquidatable.liquidatorFee))}</del>)\r\n                        : (this.formatCreditToken.formatCurrency(this.formatCreditToken.fromWei(investorLiquidatable.liquidatorFee)))\r\n                    }\r\n                    />\r\n                    <button\r\n                        type=\"button\"\r\n                        className=\"h-7 btn btn-red px-2\"\r\n                        disabled={this.state.isInteractionDisabled[i]}\r\n                        onClick={async () => {\r\n                            await this.execute(i, () => $.farm.liquidateAccount(poolId, investorLiquidatable.investor));\r\n                        }}\r\n                    >\r\n                        Liquidate\r\n                    </button>\r\n                </Fragment>\r\n            ));\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    getPoolSelfTotals(creditToken, pool) {\r\n        const liquidatables = pool.investorLiquidatables.filter(i => i.isSelf);\r\n        const fee = liquidatables.reduce((sum, liquidatable) => sum + $.convert.fromWei(liquidatable.liquidatorFee, creditToken.details.decimals), 0);\r\n\r\n        return { fee, count: liquidatables.length };\r\n    }\r\n\r\n    async execute(i, func) {\r\n        this.setState((prevState, props) => ({\r\n            isInteractionDisabled: { ...prevState.isInteractionDisabled, [i]: true }\r\n        }));\r\n\r\n        try {\r\n            await func();\r\n        } catch (error) {\r\n            console.log(`${error.code}: ${error.message}`);\r\n        } finally {\r\n            this.setState((prevState, props) => ({\r\n                isInteractionDisabled: { ...prevState.isInteractionDisabled, [i]: false }\r\n            }));\r\n        }\r\n    }\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Web3 from \"web3\";\r\n\r\nimport { fromWei } from \"../../utils/Web3Converter\";\r\nimport { formatInteger, formatCurrency } from \"../../utils/Format\";\r\n\r\nimport { PriceBox, TitleText, MainText, DetailText, InfoText } from \"../InfoBox\";\r\nimport FarmLiquidatable from \"./FarmLiquidatable\";\r\n\r\nexport default function FarmLiquidatables({\r\n    farm,\r\n    balance,\r\n    priceInStableToken,\r\n    nativeTokenPriceInStableToken,\r\n    blockTime,\r\n}) {\r\n    const [activePools, setActivePools] = useState(farm.poolLiquidatables);\r\n\r\n    const totalLiquidity = parseFloat(fromWei(farm.totalLiquidity.total, farm.creditToken.details.decimals));\r\n    const totalLiquidatorFee = parseFloat(fromWei(farm.totalLiquidatorFee.total, farm.creditToken.details.decimals));\r\n\r\n    useEffect(() => {\r\n        const pools = [...farm.poolLiquidatables];\r\n\r\n        pools.sort(function (a, b) {\r\n            return Web3.utils.toBN(b.totalLiquidity.total).cmp(Web3.utils.toBN(a.totalLiquidity.total));\r\n        });\r\n\r\n        // Pools where sender has deposits come first.\r\n        pools.sort(function (a, b) {\r\n            return Web3.utils.toBN(b.pool.senderPosition.deposited).cmp(Web3.utils.toBN(a.pool.senderPosition.deposited));\r\n        });\r\n\r\n        setActivePools(pools);\r\n    }, [farm]);\r\n\r\n    return (\r\n        <>\r\n            {activePools.length > 0\r\n                ? <>\r\n                    <div className=\"card bg-[#1e0f3c80] bg-diagonal-lines text-center\">\r\n                        <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-x-2 gap-y-4 text-[80%]\">\r\n                            <PriceBox\r\n                                title=\"Credit Token\"\r\n                                main={farm.creditToken.details.symbol}\r\n                                mainUnit=\"&nbsp;\"\r\n                                isMainUnitOnTop={true}\r\n                                titleClassName=\"light-box\"\r\n                                mainClassName=\"font-display\"\r\n                                mainUnitClassName=\"mb-3\"\r\n                            />\r\n                            <PriceBox\r\n                                title=\"Liquidatable Pools\"\r\n                                main={formatInteger(farm.poolLiquidatables.length)}\r\n                                mainUnit=\"&nbsp;\"\r\n                                isMainUnitOnTop={true}\r\n                                titleClassName=\"light-box\"\r\n                                mainUnitClassName=\"mb-3\"\r\n                            />\r\n                            <PriceBox\r\n                                title=\"Total Liquidity\"\r\n                                main={formatCurrency(totalLiquidity, farm.creditToken.details.decimals)}\r\n                                mainUnit={farm.creditToken.details.symbol}\r\n                                isMainUnitOnTop={true}\r\n                                titleClassName=\"light-box\"\r\n                                mainUnitClassName=\"!opacity-25 mb-3\"\r\n                            />\r\n                            <PriceBox\r\n                                title=\"Total Liquidator Fee\"\r\n                                main={formatCurrency(totalLiquidatorFee, farm.creditToken.details.decimals)}\r\n                                mainUnit={farm.creditToken.details.symbol}\r\n                                isMainUnitOnTop={true}\r\n                                titleClassName=\"light-box\"\r\n                                mainUnitClassName=\"!opacity-25 mb-3\"\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-x-5 gap-y-10\">\r\n                        {getFarmLiquidatables(activePools)}\r\n                    </div>\r\n                </>\r\n                : <div className=\"card bg-[#1e0f3c80] bg-diagonal-lines text-center\">\r\n                    <p className=\"light-box text-red-500 \">No liquidatable pools found.</p>\r\n                </div>\r\n            }\r\n        </>\r\n    );\r\n\r\n    function getFarmLiquidatables(poolLiquidatables) {\r\n        const items = [];\r\n\r\n        poolLiquidatables.forEach((poolLiquidatable, i) => {\r\n            items.push((\r\n                <div key={i} className=\"max-h-full\">\r\n                    <div className=\"rounded-lg border-2 border-white/10\">\r\n                        <FarmLiquidatable\r\n                            creditToken={farm.creditToken}\r\n                            poolLiquidatable={poolLiquidatable}\r\n                            nativeTokenPriceInStableToken={nativeTokenPriceInStableToken}\r\n                            blockTime={blockTime}\r\n                            currentBlock={farm.currentBlock}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            ));\r\n        });\r\n\r\n        return items;\r\n    }\r\n}\r\n\r\nFarmLiquidatables.propTypes = {\r\n    liquidate: PropTypes.func\r\n};\r\n\r\nFarmLiquidatables.defaultProps = {\r\n    liquidate: async (poolId, investor) => {\r\n    }\r\n};\r\n","import ModalDialog from \"./core/ModalDialog\";\r\n\r\nexport default function BuyCryptoDialog({\r\n    isOpen,\r\n    setIsOpen,\r\n    canceled\r\n}) {\r\n    return (\r\n        <ModalDialog\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            disableBackgroundCancel={true}\r\n            body={(\r\n                <>\r\n                    <iframe\r\n                        src=\"https://widget.onramper.com?color=266677&apiKey=pk_test_x5M_5fdXzn1fxK04seu0JgFjGsu7CH8lOvS9xZWzuSM0\"\r\n                        height=\"595px\"\r\n                        width=\"100%\"\r\n                        title=\"Onramper widget\"\r\n                        frameBorder=\"0\"\r\n                        allow=\"accelerometer; autoplay; camera; gyroscope; payment\"\r\n                        className=\"rounded-lg\"\r\n                    >\r\n                        <a href=\"https://widget.onramper.com\" target=\"_blank\">Buy crypto</a>\r\n                    </iframe>\r\n                </>\r\n            )}\r\n            title=\"Buy crypto with credit card\"\r\n            hideSubmitButton={true}\r\n            hideCancelButton={true}\r\n            canceled={canceled}\r\n        />\r\n    )\r\n}\r\n","import ModalDialog from \"./core/ModalDialog\";\r\n\r\nimport Swap from \"../Swap\";\r\n\r\nexport default function SwapDialog({\r\n    isOpen,\r\n    setIsOpen,\r\n    nativeCoinBalance,\r\n    token,\r\n    nativeTokenPriceInStableToken,\r\n    swap,\r\n    canceled\r\n}) {\r\n    return (\r\n        <ModalDialog\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            disableBackgroundCancel={true}\r\n            body={(\r\n                <>\r\n                    <Swap\r\n                        isDarkTheme={true}\r\n                        nativeCoinBalance={nativeCoinBalance}\r\n                        token={token}\r\n                        nativeTokenPriceInStableToken={nativeTokenPriceInStableToken}\r\n                        swap={swap}\r\n                    />\r\n                </>\r\n            )}\r\n            title={`Buy-Sell ${token.details.symbol}`}\r\n            hideSubmitButton={true}\r\n            cancelButtonText=\"Close\"\r\n            canceled={canceled}\r\n        />\r\n    )\r\n}\r\n","import ModalDialog from \"./core/ModalDialog\";\r\n\r\nexport default function ApproveRouterDialog({\r\n    isOpen,\r\n    setIsOpen,\r\n    submitted,\r\n    canceled\r\n}) {\r\n    return (\r\n        <ModalDialog\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            disableBackgroundCancel={false}\r\n            body={(\r\n                <>\r\n                    <p>The router contract needs to be approved <u>once</u>.</p>\r\n                    <p>Action will resume after approval.</p>\r\n                </>\r\n            )}\r\n            title=\"Approve the Router\"\r\n            submitButtonText=\"Approve\"\r\n            submitted={submitted}\r\n            canceled={canceled}\r\n        />\r\n    )\r\n}\r\n","import ModalDialog from \"./core/ModalDialog\";\r\n\r\nexport default function ApproveHarvesterDialog({\r\n    isOpen,\r\n    setIsOpen,\r\n    submitted,\r\n    canceled\r\n}) {\r\n    return (\r\n        <ModalDialog\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            disableBackgroundCancel={false}\r\n            body={(\r\n                <>\r\n                    <p>Harvesting of rewards is performed thru the game contract. A percentage of your pendig reward goes to a game of your choice and the rest is added to your balance.</p>\r\n                    <p>The game contract needs to be approved <u>once</u>.</p>\r\n                    <p>Action will resume after approval.</p>\r\n                </>\r\n            )}\r\n            title=\"Approve the Harvester\"\r\n            submitButtonText=\"Approve\"\r\n            submitted={submitted}\r\n            canceled={canceled}\r\n        />\r\n    )\r\n}\r\n","import { getOutcomeImage, getOutcomeText, getRandomizeText, getRandomInteger } from \"../GameExtensions\";\r\n\r\nexport default function OutcomeList({\r\n    outcomeCount,\r\n    defaultOutcome,\r\n    setOutcome\r\n}) {\r\n    function getOutcomeList() {\r\n        const items = [];\r\n\r\n        for (let outcome = 0; outcome < outcomeCount; ++outcome) {\r\n            const isActive = outcome === parseInt(defaultOutcome);\r\n\r\n            items.push((\r\n                <button\r\n                    key={outcome}\r\n                    type=\"button\"\r\n                    className={`group btn btn-outcome font-bold uppercase tracking-wide ${isActive ? \"active\" : \"\"} p-1`}\r\n                    onClick={() => setOutcome(outcome)}>\r\n                    {getOutcomeImage(parseInt(outcomeCount), outcome)}\r\n                    <div className={`text-[0.875em] mt-1 light-box group-active:text-violet-800 ${isActive ? \"text-violet-800\" : \"\"}`}>\r\n                        {getOutcomeText(parseInt(outcomeCount), outcome)}\r\n                    </div>\r\n                </button>\r\n            ));\r\n        }\r\n\r\n        return items;\r\n    }\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-1 gap-y-3\">\r\n            <div className=\"flex items-start justify-center space-x-2 h-[180px]\">\r\n                {getOutcomeList()}\r\n            </div>\r\n\r\n            <div className=\"mx-auto text-[80%]\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-randomize w-16 h-9 text-violet-50 mt-3\"\r\n                    onClick={() => setOutcome(getRandomInteger(0, parseInt(outcomeCount)))}\r\n                >\r\n                    {getRandomizeText(parseInt(outcomeCount))}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import $ from \"../core/Services\";\r\n\r\nexport default function GameList({\r\n    games,\r\n    defaultGameId,\r\n    setGameId\r\n}) {\r\n    function getGameList() {\r\n        const items = [];\r\n        let i = 0;\r\n\r\n        games.forEach((game, gameId) => {\r\n            var isActive = false;\r\n\r\n            if (i++ === 0) {\r\n                if (defaultGameId === -1 || defaultGameId > games.length) {\r\n                    isActive = true;\r\n                }\r\n            }\r\n\r\n            let minimumBet;\r\n            let unit;\r\n\r\n            if (game.isPercentage) {\r\n                minimumBet = $.convert.formatPercentage(parseFloat(game.minimumBet) / 10000);\r\n                unit = \"%\";\r\n            } else {\r\n                minimumBet = $.convert.formatCurrency($.convert.fromWei(game.minimumBet, game.tokenInfo.details.decimals), game.tokenInfo.details.decimals);\r\n                unit = game.tokenInfo.details.symbol;\r\n            }\r\n\r\n            items.push((\r\n                <button\r\n                    key={gameId}\r\n                    className={`card btn btn-violet ${isActive || gameId === defaultGameId ? \"active\" : \"\"}`}\r\n                    onClick={e => {\r\n                        e.preventDefault();\r\n                        setGameId(gameId);\r\n                    }}>\r\n                    <div className=\"grid grid-cols-1 gap-y-1 text-center\">\r\n                        <h6 className=\"card-header-title-text font-semibold\">\r\n                            {game.name}\r\n                        </h6>\r\n                        <div className=\"text-[0.5625em] opacity-80\">\r\n                            <div>\r\n                                Draws every\r\n                                <span className=\"numeric mx-1 font-bold\">{game.blockLength}</span>\r\n                                blocks\r\n                            </div>\r\n                            <div>\r\n                                Min. bet is\r\n                                <span className=\"mx-1 font-bold\">\r\n                                    <span className=\"numeric\">{minimumBet}</span> {unit}\r\n                                </span>\r\n                                {game.isPercentage ? \"of the reward\" : \"\"}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </button>\r\n            ));\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    return (\r\n        <div className=\"grid grid-cols-2 gap-x-2 gap-y-2 max-h-40 overflow-y-auto overflow-x-hidden section p-1\">\r\n            {getGameList()}\r\n        </div>\r\n    )\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nexport default function PredefinedValueSelector({\r\n    predefinedValueListTitle,\r\n    userSuppliedValueTitle,\r\n    predefinedValues,\r\n    defaultValue,\r\n    isValidValue,\r\n    delay,\r\n    onInput\r\n}) {\r\n    const [input, setInput] = useState();\r\n\r\n    useEffect(() => {\r\n        if (!input) {\r\n            setInput(defaultValue);\r\n        }\r\n    }, [defaultValue]);\r\n\r\n    useEffect(() => {\r\n        const timerId = setTimeout(() => onInput(input), delay);\r\n        return () => clearTimeout(timerId);\r\n    }, [input]);\r\n\r\n    return (\r\n        <>\r\n            {/* <div className=\"flex flex-row items-center justify-start space-x-2 space-y-0\"> */}\r\n            <div className=\"flex flex-col sm:flex-row items-center justify-start sm:space-x-2 space-y-2 sm:space-y-0\">\r\n                <div className=\"flex flex-col justify-center w-full\">\r\n                    <label className=\"flex leading-6 mb-0.5\" htmlFor=\"predefinedValueList\">\r\n                        <span className=\"input-label\">\r\n                            {predefinedValueListTitle}\r\n                        </span>\r\n                    </label>\r\n                    <select\r\n                        id=\"predefinedValueList\"\r\n                        className=\"text-indigo-900 bg-indigo-900/10 border-indigo-300/50 focus:ring-indigo-300/50\"\r\n                        value={input}\r\n                        onChange={e => setInput(e.target.value)}\r\n                    >\r\n                        {predefinedValues}\r\n                    </select>\r\n                </div>\r\n\r\n                <div className=\"w-full\">\r\n                    <label className=\"flex leading-6 mb-0.5\" htmlFor=\"userSuppliedValue\">\r\n                        <span className=\"input-label\">\r\n                            {userSuppliedValueTitle}\r\n                        </span>\r\n                    </label>\r\n                    <input\r\n                        type=\"search\"\r\n                        id=\"userSuppliedValue\"\r\n                        className={`numeric text-indigo-900 bg-indigo-900/10 border-indigo-300/50 focus:ring-indigo-300/50 ${isValidValue ? \"\" : \"bg-red-300\"}`}\r\n                        value={input ?? \"\"}\r\n                        onChange={e => setInput(e.target.value)}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nPredefinedValueSelector.propTypes = {\r\n    predefinedValueListTitle: PropTypes.string,\r\n    userSuppliedValueTitle: PropTypes.string,\r\n    predefinedValues: PropTypes.any,\r\n    defaultValue: PropTypes.string,\r\n    delay: PropTypes.number,\r\n    onInput: PropTypes.func\r\n}\r\n\r\nPredefinedValueSelector.defaultProps = {\r\n    delay: 400,\r\n    onInput: () => {\r\n    }\r\n};\r\n","import { useState, useEffect } from \"react\";\r\nimport Web3 from \"web3\";\r\n\r\nimport $ from \"../core/Services\";\r\n\r\nimport Configuration from \"../../../Configuration\";\r\n\r\nimport ModalDialog from \"./core/ModalDialog\";\r\nimport RangeInput from \"./core/RangeInput\";\r\nimport OutcomeList from \"./OutcomeList\";\r\nimport GameList from \"./GameList\";\r\nimport PredefinedValueSelector from \"./core/PredefinedValueSelector\";\r\n\r\nimport { MainText } from \"../../InfoBox\";\r\nimport { StyledPopover } from \"../../StyledPopover\";\r\n\r\n//import tokens from \"../../../tokens.json\";\r\n\r\nexport default function GameBetDialog({\r\n    isOpen,\r\n    setIsOpen,\r\n    title,\r\n    submitButtonText,\r\n    submitted,\r\n    canceled,\r\n    games,\r\n    defaultGameId,\r\n    defaultOutcome,\r\n    enableGameSelection,\r\n    enableAmountEntry,\r\n    token\r\n}) {\r\n    const [tokens, setTokens] = useState();\r\n    const [gameId, setGameId] = useState(defaultGameId);\r\n    const [outcome, setOutcome] = useState(defaultOutcome);\r\n    const [selectedToken, setSelectedToken] = useState();\r\n    const [tokenPriceInMainToken, setTokenPriceInMainToken] = useState(0);\r\n    const [tokenPriceInStableToken, setTokenPriceInStableToken] = useState(0);\r\n    const [amount, setAmount] = useState(0);\r\n    const [percentage, setPercentage] = useState(0);\r\n    const [isLoading, setIsLoading] = useState();\r\n    const [isValidAddress, setIsValidAddress] = useState();\r\n\r\n    console.log(`gameId: ${gameId} (${typeof gameId})`);\r\n    const game = games.get(gameId);\r\n\r\n    const tooltipHarvestDescriptionText = (\r\n        <div className=\"tooltip text-[80%]\">\r\n            <p>\r\n                Harvesting rewards though UI requires a minimum bet amount from the pending reward to be placed in a game.\r\n            </p>\r\n            <p>\r\n                The rest of the pending reward is added to your balance.\r\n            </p>\r\n            <p>\r\n                If you don't want to place a bet you need to trigger a transfer event either by claiming game prizes, placing bets, farming, liquidity hunting, etc. or by performing a manual wallet to wallet transfer.\r\n            </p>\r\n        </div>\r\n    );\r\n\r\n    const tooltipPlaceBetDescriptionText = (\r\n        <div className=\"tooltip text-[80%]\">\r\n            <p>\r\n                Placing a bet will automatically harvest the pending reward.\r\n            </p>\r\n            <p>\r\n                You can bet with any token available in your wallet, including liquidity provider (LP) tokens. The conversion will be held automatically.\r\n            </p>\r\n        </div>\r\n    );\r\n\r\n    if (outcome > game.outcomeCount) {\r\n        setOutcome(0);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if ($.account) {\r\n            fetch($.settings.getTokenListUri(), {\r\n                headers: {\r\n                    \"X-API-Key\": Configuration.getMoralisApiKey()\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(values => {\r\n                    setTokens(values);\r\n                })\r\n                .catch((error) => {\r\n                    setTokens([]);\r\n                    console.log(error)\r\n                });\r\n        } else {\r\n            setTokens([]);\r\n        }\r\n    }, [$.account, $.chainId]);\r\n\r\n    return (\r\n        <ModalDialog\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            disableBackgroundCancel={false}\r\n            body={(\r\n                <div className=\"grid grid-cols-1 gap-y-3\">\r\n                    {enableGameSelection &&\r\n                        <div>\r\n                            <span className=\"input-label\">\r\n                                Select a game:\r\n                            </span>\r\n                            <GameList\r\n                                games={games}\r\n                                defaultGameId={gameId}\r\n                                setGameId={setGameId}\r\n                            />\r\n                        </div>\r\n                    }\r\n\r\n                    <div>\r\n                        <div>\r\n                            <span className=\"input-label\">\r\n                                Bet on an outcome:\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"mt-1\">\r\n                            <OutcomeList\r\n                                outcomeCount={game.outcomeCount}\r\n                                defaultOutcome={outcome}\r\n                                setOutcome={setOutcome}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n\r\n                    {!enableGameSelection && enableAmountEntry &&\r\n                        <div className=\"flex flex-col justify-between\">\r\n                            {tokens &&\r\n                                <PredefinedValueSelector\r\n                                    predefinedValueListTitle=\"Select the token to bet:\"\r\n                                    userSuppliedValueTitle=\"Or enter the token address:\"\r\n                                    predefinedValues={getTokenList()}\r\n                                    defaultValue={token.contractAddress}\r\n                                    isValidValue={isValidAddress}\r\n                                    delay={400}\r\n                                    onInput={async address => {\r\n                                        if (!Web3.utils.isAddress(address.toLowerCase())) {\r\n                                            setIsValidAddress(false);\r\n                                            console.log(`${address} is not a valid address.`);\r\n                                            return;\r\n                                        }\r\n\r\n                                        address = Web3.utils.toChecksumAddress(address);\r\n\r\n                                        setIsValidAddress(true);\r\n                                        setIsLoading(true);\r\n\r\n                                        try {\r\n                                            const results = await $.tokenFinder.findAll(address);\r\n\r\n                                            if (results.length == 0) {\r\n                                                return;\r\n                                            }\r\n\r\n                                            const i = getMaxReservesIndex(results);\r\n                                            const t = results[i];\r\n\r\n                                            setSelectedToken(t);\r\n\r\n                                            const tokenPriceInMainToken = await $.router.getTokenPriceInMainToken(address, t.info.details.decimals, t.isLiquidityToken);\r\n                                            setTokenPriceInMainToken(tokenPriceInMainToken);\r\n\r\n                                            const tokenPriceInStableToken = await $.router.getTokenPriceInStableToken(address, t.info.details.decimals, t.isLiquidityToken);\r\n                                            setTokenPriceInStableToken(tokenPriceInStableToken);\r\n                                        } catch (error) {\r\n                                            setSelectedToken(undefined);\r\n                                            console.error(\"Token selection error.\", error);\r\n                                        } finally {\r\n                                            setIsLoading(false);\r\n                                        }\r\n                                    }}\r\n                                />\r\n                            }\r\n                            <span className=\"text-[0.75em] font-medium text-right\">\r\n                                {isLoading\r\n                                    ? (<span className=\"animate-pulse\">Fetching...</span>)\r\n                                    : selectedToken ? `${selectedToken.info.details.name} @ ${Configuration.getSwapRouterName($.chainId, selectedToken.info.router)}` : \"-\"\r\n                                }\r\n                            </span>\r\n                        </div>\r\n                    }\r\n\r\n                    {enableAmountEntry &&\r\n                        <div className=\"grid grid-cols-1 gap-y-0.5\">\r\n                            <div className=\"flex items-center justify-between leading-6\">\r\n                                <span className=\"input-label\">\r\n                                    Amount:\r\n                                    <span className=\"ml-1\">\r\n                                        (\r\n                                        <MainText\r\n                                            main={$.convert.formatPercentage(percentage)}\r\n                                            mainUnit=\"%\"\r\n                                            mainClassName=\"text-[0.875em]\"\r\n                                            mainUnitClassName=\"ml-0.5\"\r\n                                        />\r\n                                        )\r\n                                    </span>\r\n                                </span>\r\n                                <span className=\"input-label\">\r\n                                    Balance:\r\n                                    <MainText\r\n                                        main={selectedToken ? $.convert.formatCurrency($.convert.fromWei(selectedToken.senderBalance, selectedToken.info.details.decimals), selectedToken.info.details.decimals) : \"-\"}\r\n                                        mainUnit={selectedToken?.info.details.symbol}\r\n                                        mainClassName=\"text-[0.875em] ml-1\"\r\n                                        mainUnitClassName=\"ml-0.5\"\r\n                                    />\r\n                                </span>\r\n                            </div>\r\n                            <div className={`${isLoading ? \"animate-pulse\" : \"\"}`}>\r\n                                <RangeInput\r\n                                    isDisabled={isLoading}\r\n                                    min={0}\r\n                                    max={selectedToken ? $.convert.fromWei(selectedToken.senderBalance, selectedToken.info.details.decimals) : 0}\r\n                                    decimals={selectedToken ? Math.min(4, selectedToken.info.details.decimals) : 0}\r\n                                    setValue={setAmount}\r\n                                    setPercentage={setPercentage}\r\n                                    valueClassName=\"text-indigo-900 border-indigo-300/50 focus:ring-indigo-300/50\"\r\n                                    rangeClassName=\"accent-indigo-900\"\r\n                                />\r\n                                <div className=\"grid grid-cols-2 gap-x-2 mt-3\">\r\n                                    <div className=\"justify-self-end\">\r\n                                        <MainText\r\n                                            main={$.convert.formatMainToken(amount * tokenPriceInMainToken)}\r\n                                            mainUnit={token.details.symbol}\r\n                                            mainClassName=\"text-[0.875em]\"\r\n                                        />\r\n                                    </div>\r\n                                    <div className=\"justify-self-start\">\r\n                                        <MainText\r\n                                            main={$.convert.formatStableToken(amount * tokenPriceInStableToken)}\r\n                                            mainUnit={$.contracts.stableToken.symbol}\r\n                                            mainClassName=\"text-[0.875em]\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            )}\r\n            title={title}\r\n            info={(<StyledPopover isTooltip={true} children={enableAmountEntry ? tooltipPlaceBetDescriptionText : tooltipHarvestDescriptionText} icon=\"bi-info\" />)}\r\n            submitButtonText={submitButtonText}\r\n            isSubmitButtonDisabled={enableAmountEntry && (isLoading || amount <= 0)}\r\n            submitted={async () => {\r\n                await submitted(gameId, selectedToken, amount, outcome, game.tokenInfo);\r\n            }}\r\n            canceled={canceled}\r\n        />\r\n    );\r\n\r\n    function getMaxReservesIndex(results) {\r\n        if (results.length == 0) {\r\n            return undefined;\r\n        }\r\n\r\n        let maxIndex;\r\n        let maxValue;\r\n\r\n        for (let i = 0; i < results.length; ++i) {\r\n            const reserve0 = $.convert.fromWei(results[i].reserveInfo.reserve0, results[i].info.details.decimals);\r\n            const reserve1 = $.convert.fromWei(results[i].reserveInfo.reserve1, results[i].info.details.decimals);\r\n\r\n            // Selected token's reserve is always returned as reserve0.\r\n            const price = reserve1 / reserve0;\r\n            const k = reserve0 * reserve1;\r\n\r\n            if (!maxValue || k > maxValue) {\r\n                maxIndex = i;\r\n                maxValue = k;\r\n            }\r\n        }\r\n\r\n        return maxIndex;\r\n    }\r\n\r\n    function getTokenList() {\r\n        const items = [\r\n            (<option key={\"\"} value=\"\">- Not in list -</option>),\r\n            (<option key={token.contractAddress} value={token.contractAddress}>{token.details.symbol}</option>)\r\n        ];\r\n\r\n        tokens.forEach(token => {\r\n            items.push((\r\n                <option key={token.address} value={token.address}>{token.symbol}</option>\r\n            ));\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    function getTokenList() {\r\n        const items = [\r\n            (<option key={\"\"} value=\"\">- Not in list -</option>),\r\n        ];\r\n\r\n        if (!tokens.map(t => t.token_address).includes(token.contractAddress)) {\r\n            items.push((<option key={token.contractAddress} value={token.contractAddress}>{token.details.symbol}</option>));\r\n        }\r\n\r\n        tokens.forEach(token => {\r\n            items.push((<option key={token.token_address} value={token.token_address}>{token.symbol}</option>));\r\n        });\r\n\r\n        return items;\r\n    }\r\n}\r\n","import ModalDialog from \"./core/ModalDialog\";\r\n\r\nexport default function ApproveFarmDialog({\r\n    isOpen,\r\n    setIsOpen,\r\n    submitted,\r\n    canceled\r\n}) {\r\n    return (\r\n        <ModalDialog\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            disableBackgroundCancel={false}\r\n            body={(\r\n                <>\r\n                    <p>The farm contract needs to be approved <u>once</u>.</p>\r\n                    <p>Action will resume after approval.</p>\r\n                </>\r\n            )}\r\n            title=\"Approve the Farm\"\r\n            submitButtonText=\"Approve\"\r\n            submitted={submitted}\r\n            canceled={canceled}\r\n        />\r\n    )\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport Web3 from \"web3\";\r\n\r\nimport $ from \"../core/Services\";\r\n\r\nimport Configuration from \"../../../Configuration\";\r\n\r\nimport ModalDialog from \"./core/ModalDialog\";\r\nimport RangeInput from \"./core/RangeInput\";\r\nimport PredefinedValueSelector from \"./core/PredefinedValueSelector\";\r\n\r\nimport { MainText } from \"../../InfoBox\";\r\nimport { StyledPopover } from \"../../StyledPopover\";\r\n\r\n//import tokens from \"../../../tokens.json\";\r\n\r\nexport default function FarmDepositDialog({\r\n    isOpen,\r\n    setIsOpen,\r\n    title,\r\n    submitButtonText,\r\n    submitted,\r\n    canceled,\r\n    pool\r\n}) {\r\n\r\n    const [tokens, setTokens] = useState();\r\n    const [selectedToken, setSelectedToken] = useState();\r\n    const [tokenPriceInDepositToken, setTokenPriceInDepositToken] = useState(0);\r\n    const [tokenPriceInStableToken, setTokenPriceInStableToken] = useState(0);\r\n    const [amount, setAmount] = useState(0);\r\n    const [percentage, setPercentage] = useState(0);\r\n    const [isLoading, setIsLoading] = useState();\r\n    const [isValidAddress, setIsValidAddress] = useState();\r\n\r\n    const tooltipDescriptionText = (\r\n        <div className=\"tooltip text-[80%]\">\r\n            <p>\r\n                Harvesting rewards though UI requires a minimum bet amount from the pending reward to be placed in a game.\r\n            </p>\r\n            <p>\r\n                The rest of the pending reward is added to your balance.\r\n            </p>\r\n            <p>\r\n                If you don't want to place a bet you need to trigger a transfer event either by claiming game prizes, placing bets, farming, liquidity hunting, etc. or by performing a manual wallet to wallet transfer.\r\n            </p>\r\n        </div>\r\n    );\r\n\r\n    useEffect(() => {\r\n        if ($.account) {\r\n            fetch($.settings.getTokenListUri(), {\r\n                headers: {\r\n                    \"X-API-Key\": Configuration.getMoralisApiKey()\r\n                }\r\n            })\r\n                .then(response => response.json())\r\n                .then(values => {\r\n                    setTokens(values);\r\n                })\r\n                .catch((error) => {\r\n                    setTokens([]);\r\n                    console.log(error)\r\n                });\r\n        } else {\r\n            setTokens([]);\r\n        }\r\n    }, [$.account, $.chainId]);\r\n\r\n    return (\r\n        <ModalDialog\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            disableBackgroundCancel={false}\r\n            body={(\r\n                <div className=\"grid grid-cols-1 gap-y-3\">\r\n                    <div className=\"flex flex-col justify-between\">\r\n                        {tokens &&\r\n                            <PredefinedValueSelector\r\n                                predefinedValueListTitle=\"Select the token to bet:\"\r\n                                userSuppliedValueTitle=\"Or enter the token address:\"\r\n                                predefinedValues={getTokenList()}\r\n                                defaultValue={pool.depositToken.token}\r\n                                isValidValue={isValidAddress}\r\n                                delay={400}\r\n                                onInput={async address => {\r\n                                    if (!Web3.utils.isAddress(address.toLowerCase())) {\r\n                                        setIsValidAddress(false);\r\n                                        console.log(`${address} is not a valid address.`);\r\n                                        return;\r\n                                    }\r\n\r\n                                    address = Web3.utils.toChecksumAddress(address);\r\n\r\n                                    setIsValidAddress(true);\r\n                                    setIsLoading(true);\r\n\r\n                                    try {\r\n                                        const results = await $.tokenFinder.findAll(address);\r\n\r\n                                        if (results.length == 0) {\r\n                                            return;\r\n                                        }\r\n\r\n                                        const i = getMaxReservesIndex(results);\r\n                                        const t = results[i];\r\n\r\n                                        setSelectedToken(t);\r\n\r\n                                        const tokenPriceInDepositToken = await $.farm.getTokenPriceInDepositToken(t, pool);\r\n                                        setTokenPriceInDepositToken(tokenPriceInDepositToken);\r\n\r\n                                        const tokenPriceInStableToken = await $.iziSwap.getTokenPriceInStableToken(address, t.info.details.decimals, t.isLiquidityToken);\r\n                                        setTokenPriceInStableToken(tokenPriceInStableToken);\r\n                                    } catch (error) {\r\n                                        setSelectedToken(undefined);\r\n                                        console.error(\"Token selection error.\", error);\r\n                                    } finally {\r\n                                        setIsLoading(false);\r\n                                    }\r\n                                }}\r\n                            />\r\n                        }\r\n                        <span className=\"text-[0.75em] font-medium text-right\">\r\n                            {isLoading\r\n                                ? (<span className=\"animate-pulse\">Fetching...</span>)\r\n                                : selectedToken ? `${getDepositTokenSymbol(selectedToken)} @ ${Configuration.getSwapRouterName($.chainId, selectedToken.info.router)}` : \"-\"\r\n                            }\r\n                        </span>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-1 gap-y-0.5\">\r\n                        <div className=\"flex items-center justify-between leading-6\">\r\n                            <span className=\"input-label\">\r\n                                Amount:\r\n                                <span className=\"ml-1\">\r\n                                    (\r\n                                    <MainText\r\n                                        main={$.convert.formatPercentage(percentage)}\r\n                                        mainUnit=\"%\"\r\n                                        mainClassName=\"text-[0.875em]\"\r\n                                        mainUnitClassName=\"ml-0.5\"\r\n                                    />\r\n                                    )\r\n                                </span>\r\n                            </span>\r\n                            <span className=\"input-label\">\r\n                                Balance:\r\n                                <MainText\r\n                                    main={selectedToken ? $.convert.formatCurrency($.convert.fromWei(selectedToken.senderBalance, selectedToken.info.details.decimals), selectedToken.info.details.decimals) : \"-\"}\r\n                                    mainUnit={selectedToken ? getDepositTokenSymbol(selectedToken) : \"-\"}\r\n                                    mainClassName=\"text-[0.875em] ml-1\"\r\n                                    mainUnitClassName=\"ml-0.5\"\r\n                                />\r\n                            </span>\r\n                        </div>\r\n                        <div className={`${isLoading ? \"animate-pulse\" : \"\"}`}>\r\n                            <RangeInput\r\n                                isDisabled={isLoading}\r\n                                min={0}\r\n                                max={selectedToken ? $.convert.fromWei(selectedToken.senderBalance, selectedToken.info.details.decimals) : 0}\r\n                                decimals={selectedToken ? Math.min(4, selectedToken.info.details.decimals) : 0}\r\n                                setValue={setAmount}\r\n                                setPercentage={setPercentage}\r\n                                valueClassName=\"text-indigo-900 border-indigo-300/50 focus:ring-indigo-300/50\"\r\n                                rangeClassName=\"accent-indigo-900\"\r\n                            />\r\n                            <div className=\"grid grid-cols-2 gap-x-2 mt-3\">\r\n                                <div className=\"justify-self-end\">\r\n                                    <MainText\r\n                                        main={$.convert.formatDepositToken(amount * tokenPriceInDepositToken, pool)}\r\n                                        mainUnit={$.farm.getDepositTokenSymbol(pool)}\r\n                                        mainClassName=\"text-[0.875em]\"\r\n                                    />\r\n                                </div>\r\n                                <div className=\"justify-self-start\">\r\n                                    <MainText\r\n                                        main={$.convert.formatStableToken(amount * tokenPriceInStableToken)}\r\n                                        mainUnit={$.contracts.stableToken.symbol}\r\n                                        mainClassName=\"text-[0.875em]\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n            title={title}\r\n            info={(<StyledPopover isTooltip={true} children={tooltipDescriptionText} icon=\"bi-info\" />)}\r\n            submitButtonText={submitButtonText}\r\n            isSubmitButtonDisabled={isLoading || amount <= 0}\r\n            submitted={async () => {\r\n                const depositTokenAmountInWei = $.convert.toWei(amount * tokenPriceInDepositToken, pool.depositToken.details.decimals);\r\n                await submitted(selectedToken, amount, depositTokenAmountInWei);\r\n            }}\r\n            canceled={canceled}\r\n        />\r\n    );\r\n\r\n    function getMaxReservesIndex(results) {\r\n        if (results.length == 0) {\r\n            return undefined;\r\n        }\r\n\r\n        let maxIndex;\r\n        let maxValue;\r\n\r\n        for (let i = 0; i < results.length; ++i) {\r\n            const reserve0 = $.convert.fromWei(results[i].reserveInfo.reserve0, results[i].info.details.decimals);\r\n            const reserve1 = $.convert.fromWei(results[i].reserveInfo.reserve1, results[i].info.details.decimals);\r\n\r\n            // Selected token's reserve is always returned as reserve0.\r\n            const price = reserve1 / reserve0;\r\n            const k = reserve0 * reserve1;\r\n\r\n            if (!maxValue || k > maxValue) {\r\n                maxIndex = i;\r\n                maxValue = k;\r\n            }\r\n        }\r\n\r\n        return maxIndex;\r\n    }\r\n\r\n    function getTokenList() {\r\n        const items = [\r\n            (<option key={\"\"} value=\"\">- Not in list -</option>),\r\n        ];\r\n\r\n        if (!tokens.map(t => t.token_address).includes(pool.depositToken.token)) {\r\n            items.push((<option key={pool.depositToken.token} value={pool.depositToken.token}>{$.farm.getDepositTokenSymbol(pool)}</option>));\r\n        }\r\n\r\n        tokens.forEach(token => {\r\n            items.push((<option key={token.token_address} value={token.token_address}>{token.symbol}</option>));\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    function getDepositTokenSymbol(token) {\r\n        return token.isLiquidityToken ? `${token.token0Details.symbol}/${token.token1Details.symbol}` : token.info.details.symbol;\r\n    }\r\n}\r\n","import { useState } from \"react\";\r\n\r\nimport $ from \"../core/Services\";\r\n\r\nimport { MainText } from \"../../InfoBox\";\r\n\r\nimport ModalDialog from \"./core/ModalDialog\";\r\nimport RangeInput from \"./core/RangeInput\";\r\n\r\nexport default function AmountSelectionDialog({\r\n    isOpen,\r\n    setIsOpen,\r\n    title,\r\n    submitButtonText,\r\n    submitted,\r\n    canceled,\r\n    balance,\r\n    priceInStableToken,\r\n    decimals\r\n}) {\r\n    const [amount, setAmount] = useState(0);\r\n    const [percentage, setPercentage] = useState(0);\r\n\r\n    return (\r\n        <ModalDialog\r\n            isOpen={isOpen}\r\n            setIsOpen={setIsOpen}\r\n            disableBackgroundCancel={false}\r\n            body={(\r\n                <>\r\n                    <div className=\"flex items-center justify-between input-label\">\r\n                        <span>\r\n                            Amount: (<span className=\"numeric\">{$.convert.formatPercentage(percentage)}%</span>)\r\n                        </span>\r\n                        <span>\r\n                            Balance: <span className=\"numeric\">{$.convert.formatCurrency(balance, decimals)}</span>\r\n                        </span>\r\n                    </div>\r\n                    <RangeInput\r\n                        min={0}\r\n                        max={balance}\r\n                        decimals={decimals}\r\n                        setValue={setAmount}\r\n                        setPercentage={setPercentage}\r\n                        valueClassName=\"text-indigo-900 border-indigo-300/50 focus:ring-indigo-300/50\"\r\n                        rangeClassName=\"accent-indigo-900\"\r\n                    />\r\n                    <div className=\"mt-3 text-center\">\r\n                        <MainText\r\n                            main={priceInStableToken ? $.convert.formatMainToken(amount * priceInStableToken) : \"-\"}\r\n                            mainUnit={$.contracts.stableToken.symbol}\r\n                            mainClassName=\"text-[0.875em]\" />\r\n                    </div>\r\n                </>\r\n            )}\r\n            title={title}\r\n            submitButtonText={submitButtonText}\r\n            submitted={() => submitted(amount)}\r\n            canceled={canceled}\r\n        />\r\n    )\r\n}\r\n","import React, { Component, Fragment } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport Spinner from \"../../Spinner\";\r\n\r\nimport { WalletContext } from \"../../contexts/WalletContext\";\r\n\r\nimport { createSignerContract } from \"./core/Contracts\";\r\nimport $ from \"./core/Services\";\r\n\r\nimport IERC20 from \"./abi/IERC20.json\";\r\nimport IUniswapV2Pair from \"./abi/IUniswapV2Pair.json\";\r\n\r\nimport Token from \"./Token\";\r\nimport Swap from \"./Swap\";\r\nimport Transfer from \"./Transfer\";\r\nimport TokenCalculators from \"./TokenCalculators\";\r\nimport Game from \"./Game\";\r\nimport FarmPools from \"./FarmPools\";\r\nimport FarmLiquidatables from \"./FarmLiquidatables\";\r\n\r\nimport BuyCryptoDialog from \"./dialogs/BuyCryptoDialog\";\r\nimport SwapDialog from \"./dialogs/SwapDialog\";\r\nimport ApproveRouterDialog from \"./dialogs/ApproveRouterDialog\";\r\nimport ApproveHarvesterDialog from \"./dialogs/ApproveHarvesterDialog\";\r\nimport GameBetDialog from \"./dialogs/GameBetDialog\";\r\nimport ApproveFarmDialog from \"./dialogs/ApproveFarmDialog\";\r\nimport FarmDepositDialog from \"./dialogs/FarmDepositDialog\";\r\nimport AmountSelectionDialog from \"./dialogs/AmountSelectionDialog\";\r\n\r\nimport { ShowComponentType } from \"./Enums\";\r\n\r\nexport default class Main extends Component {\r\n    static propTypes = {\r\n        interval: PropTypes.number\r\n    }\r\n\r\n    static defaultProps = {\r\n        interval: undefined /* will force avg. block time calculation */,\r\n        showComponent: ShowComponentType.Token\r\n    };\r\n\r\n    static contextType = WalletContext;\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            blockTime: undefined,\r\n            tokenPriceInStableToken: undefined,\r\n            tokenPriceInNativeToken: undefined,\r\n            nativeTokenPriceInStableToken: undefined,\r\n            token: undefined,\r\n            games: undefined,\r\n            farm: undefined,\r\n\r\n            showBuyCryptoDialog: false,\r\n            showSwapDialog: false,\r\n            showRouterApproveDialog: {\r\n                show: false,\r\n                callback: null\r\n            },\r\n            showGameApproveDialog: {\r\n                show: false,\r\n                callback: null\r\n            },\r\n            showGameHarvestDialog: {\r\n                show: false,\r\n                balance: 0,\r\n                callback: null\r\n            },\r\n            showGameCompoundDialog: {\r\n                show: false,\r\n                gameId: -1,\r\n                balance: 0,\r\n                callback: null\r\n            },\r\n            showGameBetDialog: {\r\n                show: false,\r\n                gameId: -1,\r\n                balance: 0,\r\n                callback: null\r\n            },\r\n            showFarmApproveDialog: {\r\n                show: false,\r\n                callback: null\r\n            },\r\n            showFarmDepositDialog: {\r\n                show: false,\r\n                symbol: null,\r\n                balance: 0,\r\n                depositTokenPriceInStableToken: 0,\r\n                callback: null\r\n            },\r\n            showFarmWithdrawDialog: {\r\n                show: false,\r\n                symbol: null,\r\n                balance: 0,\r\n                creditTokenPriceInStableToken: 0,\r\n                callback: null\r\n            },\r\n\r\n            showToken: (props.showComponent & ShowComponentType.Token) === ShowComponentType.Token,\r\n            showGames: (props.showComponent & ShowComponentType.Games) === ShowComponentType.Games,\r\n            showFarms: (props.showComponent & ShowComponentType.Farms) === ShowComponentType.Farms,\r\n            showLiquidatables: (props.showComponent & ShowComponentType.Liquidatables) === ShowComponentType.Liquidatables,\r\n        }\r\n\r\n        this.blockLength = 10;\r\n\r\n        this.onTick = this.onTick.bind(this);\r\n\r\n        this.showComponent = this.showComponent.bind(this);\r\n\r\n        this.swap = this.swap.bind(this);\r\n        this.harvestPendingReward = this.harvestPendingReward.bind(this);\r\n        this.gameBet = this.gameBet.bind(this);\r\n        this.gameCompound = this.gameCompound.bind(this);\r\n        this.farmDeposit = this.farmDeposit.bind(this);\r\n        this.farmWithdraw = this.farmWithdraw.bind(this);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        if (await this.initialize()) {\r\n            console.log(\"Initialized on component mount.\");\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.stopTimer();\r\n    }\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        if (await this.initialize()) {\r\n            console.log(\"Initialized on component update.\");\r\n        }\r\n\r\n        if (this.props.showComponent != prevProps.showComponent) {\r\n            this.showComponent(this.props.showComponent);\r\n        }\r\n    }\r\n\r\n    async initialize() {\r\n        if (this.isInitializing) {\r\n            return false;\r\n        }\r\n\r\n        this.isInitializing = true;\r\n\r\n        try {\r\n            if (this.context.chainId /*&& this.context.account #to make the reader work with disconnected account, at least to get the price*/) {\r\n                if (this.context.reader) {\r\n                    $.init(this.context);\r\n\r\n                    if (!this.timerId) {\r\n                        const blockTime = this.props.interval ?? (await $.block.getAverageBlockTime(this.blockLength) * 1000);\r\n                        this.startTimer(blockTime);\r\n\r\n                        return true;\r\n                    }\r\n                }\r\n\r\n                if (this.context.signer) {\r\n                    $.init(this.context);\r\n                }\r\n            }\r\n\r\n            return false;\r\n        } finally {\r\n            this.isInitializing = false;\r\n        }\r\n    }\r\n\r\n    startTimer(blockTime) {\r\n        this.timerId = setInterval(async () => await this.onTick(), blockTime);\r\n        console.log(`Started timer: ${this.timerId}; Interval: ${blockTime} ms`);\r\n    }\r\n\r\n    stopTimer() {\r\n        const timerId = this.timerId;\r\n\r\n        if (timerId) {\r\n            clearInterval(timerId);\r\n            this.timerId = undefined;\r\n\r\n            console.log(`Stopped timer: ${timerId}`);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const isHomePage = !this.state.showGames && !this.state.showFarms && !this.state.showLiquidatables;\r\n\r\n        return (\r\n            <main className=\"mt-3 grid grid-cols-1 gap-y-10 mx-auto\">\r\n                {(this.state.showToken && this.state.token)\r\n                    ? <Fragment key={\"token\"}>\r\n                        <Token\r\n                            showCompact={true}\r\n                            showHeader={isHomePage}\r\n                            showHarvestButton={isHomePage || this.state.showGames}\r\n                            token={this.state.token}\r\n                            priceInNativeToken={this.state.tokenPriceInNativeToken}\r\n                            priceInStableToken={this.state.tokenPriceInStableToken}\r\n                            harvestPendingReward={this.harvestPendingReward}\r\n                            blockTime={this.state.blockTime}\r\n                        />\r\n                    </Fragment>\r\n                    : this.state.showToken && <Spinner title=\"Loading token snapshot\" />\r\n                }\r\n\r\n                {!isHomePage &&\r\n                    <div className=\"flex items-center justify-between gap-x-5 text-[16px]\">\r\n                        <button\r\n                            type=\"button\"\r\n                            className={`w-[150px] h-9 px-3 ${this.state.showToken ? \"-my-5\" : \"\"} font-semibold btn btn-indigo-right text-[80%]`}\r\n                            onClick={() => {\r\n                                this.setState({\r\n                                    showBuyCryptoDialog: true\r\n                                });\r\n                            }}\r\n                        >\r\n                            Buy Crypto <i className=\"bi bi-credit-card\" />\r\n                        </button>\r\n\r\n                        {this.state.token &&\r\n                            <button\r\n                                type=\"button\"\r\n                                className={`w-[150px] h-9 px-3 ${this.state.showToken ? \"-my-5\" : \"\"} font-semibold btn btn-rose text-[80%]`}\r\n                                onClick={() => {\r\n                                    this.setState({\r\n                                        showSwapDialog: true\r\n                                    });\r\n                                }}\r\n                            >\r\n                                Buy {$.contracts.token.symbol}\r\n                            </button>\r\n                        }\r\n                    </div>\r\n                }\r\n\r\n                {(this.state.showToken && isHomePage) && this.state.token && this.state.tokenPriceInNativeToken && this.state.tokenPriceInStableToken &&\r\n                    <>\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-x-5 gap-y-10\">\r\n                            <div className={`card bg-weeb-card1/20 bg-diagonal-lines`}>\r\n                                <Swap\r\n                                    nativeCoinBalance={this.context.balance}\r\n                                    token={this.state.token}\r\n                                    nativeTokenPriceInStableToken={this.state.nativeTokenPriceInStableToken}\r\n                                    swap={async (amount, minReceived, recipient, isBuy) => {\r\n                                        try {\r\n                                            await this.swap(amount, minReceived, recipient, isBuy);\r\n                                        } catch (error) {\r\n                                            alert(JSON.stringify(error));\r\n                                        }\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                            <div className={`card bg-weeb-card1/20 bg-diagonal-lines`}>\r\n                                <Transfer\r\n                                    balance={$.convert.fromWeiMainToken(this.state.token.senderFreeBalance)}\r\n                                    transfer={async (recipient, amount) => {\r\n                                        try {\r\n                                            await $.token.transfer(recipient, amount);\r\n                                        } catch (error) {\r\n                                            alert(JSON.stringify(error));\r\n                                        }\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"grid grid-cols-1 gap-y-5\">\r\n                            <div className=\"flex items-center justify-center group-title opacity-75 light-box h-9 px-2\">\r\n                                <span>Calculators</span>\r\n                            </div>\r\n                            <TokenCalculators\r\n                                token={this.state.token}\r\n                                priceInNativeToken={this.state.tokenPriceInNativeToken}\r\n                                priceInStableToken={this.state.tokenPriceInStableToken}\r\n                                blockTime={this.state.blockTime}\r\n                            />\r\n                        </div>\r\n                    </>\r\n                }\r\n                {((this.state.showGames && this.state.showToken) && this.state.token && this.state.games)\r\n                    ? <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-x-5 gap-y-10\">\r\n                        {this.getGameCards()}\r\n                    </div>\r\n                    : (this.state.showGames && this.state.showToken) && <Spinner type=\"cloud\" />\r\n                }\r\n                {(this.state.showFarms && this.state.token && this.state.farm)\r\n                    ? <FarmPools\r\n                        farm={this.state.farm}\r\n                        nativeTokenPriceInStableToken={this.state.nativeTokenPriceInStableToken}\r\n                        deposit={this.farmDeposit}\r\n                        withdraw={this.farmWithdraw}\r\n                        blockTime={this.state.blockTime}\r\n                    />\r\n                    : this.state.showFarms && <Spinner type=\"cloud\" />\r\n                }\r\n                {(this.state.showLiquidatables && this.state.token && this.state.farmLiquidatables)\r\n                    ? <Fragment key={\"farmLiquidatables\"}>\r\n                        <FarmLiquidatables\r\n                            farm={this.state.farmLiquidatables}\r\n                            nativeTokenPriceInStableToken={this.state.nativeTokenPriceInStableToken}\r\n                            blockTime={this.state.blockTime}\r\n                            buyWeeb={this.farmBuyWeebInternal}\r\n                        />\r\n                    </Fragment>\r\n                    : this.state.showLiquidatables && <Spinner type=\"cloud\" />\r\n                }\r\n                {this.state.showBuyCryptoDialog &&\r\n                    <BuyCryptoDialog\r\n                        isOpen={this.state.showBuyCryptoDialog}\r\n                        setIsOpen={() => {\r\n                            this.setState({\r\n                                showBuyCryptoDialog: false\r\n                            });\r\n                        }}\r\n                        canceled={() => {\r\n                            this.setState({\r\n                                showBuyCryptoDialog: false\r\n                            });\r\n                        }}\r\n                    />\r\n                }\r\n                {this.state.showSwapDialog &&\r\n                    <SwapDialog\r\n                        isOpen={this.state.showSwapDialog}\r\n                        setIsOpen={() => {\r\n                            this.setState({\r\n                                showSwapDialog: false\r\n                            });\r\n                        }}\r\n                        nativeCoinBalance={this.context.balance}\r\n                        token={this.state.token}\r\n                        nativeTokenPriceInStableToken={this.state.nativeTokenPriceInStableToken}\r\n                        swap={async (amount, minReceived, recipient, isBuy) => {\r\n                            try {\r\n                                await this.swap(amount, minReceived, recipient, isBuy);\r\n                            } catch (error) {\r\n                                alert(JSON.stringify(error));\r\n                            }\r\n                        }}\r\n                        canceled={() => {\r\n                            this.setState({\r\n                                showSwapDialog: false\r\n                            });\r\n                        }}\r\n                    />\r\n                }\r\n                {this.state.showRouterApproveDialog.show &&\r\n                    <ApproveRouterDialog\r\n                        isOpen={this.state.showRouterApproveDialog.show}\r\n                        setIsOpen={() => {\r\n                            this.setState({\r\n                                showRouterApproveDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                        submitted={async () => {\r\n                            const callback = this.state.showRouterApproveDialog.callback;\r\n                            this.setState({\r\n                                showRouterApproveDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                            await callback();\r\n                        }}\r\n                        canceled={() => {\r\n                            this.setState({\r\n                                showRouterApproveDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                    />\r\n                }\r\n                {this.state.showGameApproveDialog.show &&\r\n                    <ApproveHarvesterDialog\r\n                        isOpen={this.state.showGameApproveDialog.show}\r\n                        setIsOpen={() => {\r\n                            this.setState({\r\n                                showGameApproveDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                        submitted={async () => {\r\n                            const callback = this.state.showGameApproveDialog.callback;\r\n                            this.setState({\r\n                                showGameApproveDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                            await callback();\r\n                        }}\r\n                        canceled={() => {\r\n                            this.setState({\r\n                                showGameApproveDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                    />\r\n                }\r\n                {this.state.showGameHarvestDialog.show &&\r\n                    <GameBetDialog\r\n                        isOpen={this.state.showGameHarvestDialog.show}\r\n                        setIsOpen={() => {\r\n                            this.setState({\r\n                                showGameHarvestDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                        title=\"Harvest Pending Reward\"\r\n                        submitButtonText=\"Harvest\"\r\n                        submitted={async (gameId, selectedToken, amount, outcome, tokenInfo) => {\r\n                            const callback = this.state.showGameHarvestDialog.callback;\r\n                            this.setState({\r\n                                showGameHarvestDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                            await callback(gameId, outcome);\r\n                        }}\r\n                        canceled={() => {\r\n                            this.setState({\r\n                                showGameHarvestDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                        games={this.state.games}\r\n                        defaultGameId={\"0\"}\r\n                        defaultOutcome={\"0\"}\r\n                        balance={this.state.showGameHarvestDialog.balance}\r\n                        enableGameSelection={true}\r\n                        enableAmountEntry={false}\r\n                        token={this.state.token}\r\n                    />\r\n                }\r\n                {this.state.showGameCompoundDialog.show &&\r\n                    <GameBetDialog\r\n                        isOpen={this.state.showGameCompoundDialog.show}\r\n                        setIsOpen={() => {\r\n                            this.setState({\r\n                                showGameCompoundDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                        title=\"Compound / Bet the Prize\"\r\n                        submitButtonText=\"Bet\"\r\n                        submitted={async (gameId, selectedToken, amount, outcome, tokenInfo) => {\r\n                            const callback = this.state.showGameCompoundDialog.callback;\r\n                            this.setState({\r\n                                showGameCompoundDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                            await callback(gameId, outcome);\r\n                        }}\r\n                        canceled={() => {\r\n                            this.setState({\r\n                                showGameCompoundDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                        games={this.state.games}\r\n                        defaultGameId={this.state.showGameCompoundDialog.gameId}\r\n                        defaultOutcome={0}\r\n                        balance={this.state.showGameCompoundDialog.balance}\r\n                        enableGameSelection={false}\r\n                        enableAmountEntry={false}\r\n                        token={this.state.token}\r\n                    />\r\n                }\r\n                {this.state.showGameBetDialog.show &&\r\n                    <GameBetDialog\r\n                        isOpen={this.state.showGameBetDialog.show}\r\n                        setIsOpen={() => {\r\n                            this.setState({\r\n                                showGameBetDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                        title=\"Place a Bet\"\r\n                        submitButtonText=\"Bet\"\r\n                        submitted={async (gameId, selectedToken, amount, outcome, tokenInfo) => {\r\n                            const callback = this.state.showGameBetDialog.callback;\r\n                            this.setState({\r\n                                showGameBetDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                            await callback(gameId, selectedToken, amount, outcome, tokenInfo);\r\n                        }}\r\n                        canceled={() => {\r\n                            this.setState({\r\n                                showGameBetDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                        games={this.state.games}\r\n                        defaultGameId={this.state.showGameBetDialog.gameId}\r\n                        defaultOutcome={0}\r\n                        balance={this.state.showGameBetDialog.balance}\r\n                        enableGameSelection={false}\r\n                        enableAmountEntry={true}\r\n                        token={this.state.token}\r\n                    />\r\n                }\r\n                {this.state.showFarmApproveDialog.show &&\r\n                    <ApproveFarmDialog\r\n                        isOpen={this.state.showFarmApproveDialog.show}\r\n                        setIsOpen={() => {\r\n                            this.setState({\r\n                                showFarmApproveDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                        submitted={async () => {\r\n                            const callback = this.state.showFarmApproveDialog.callback;\r\n                            this.setState({\r\n                                showFarmApproveDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                            await callback();\r\n                        }}\r\n                        canceled={() => {\r\n                            this.setState({\r\n                                showFarmApproveDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                    />\r\n                }\r\n                {this.state.showFarmDepositDialog.show &&\r\n                    <FarmDepositDialog\r\n                        isOpen={this.state.showFarmDepositDialog.show}\r\n                        setIsOpen={() => {\r\n                            this.setState({\r\n                                showFarmDepositDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                        title={`Deposit (${this.state.showFarmDepositDialog.symbol})`}\r\n                        submitButtonText=\"Deposit\"\r\n                        submitted={async (selectedToken, selectedTokenAmount, depositTokenAmountInWei) => {\r\n                            const callback = this.state.showFarmDepositDialog.callback;\r\n                            this.setState({\r\n                                showFarmDepositDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                            await callback(selectedToken, selectedTokenAmount, depositTokenAmountInWei);\r\n                        }}\r\n                        canceled={() => {\r\n                            this.setState({\r\n                                showFarmDepositDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                        pool={this.state.showFarmDepositDialog.pool}\r\n\r\n                    />\r\n                }\r\n                {this.state.showFarmWithdrawDialog.show &&\r\n                    <AmountSelectionDialog\r\n                        isOpen={this.state.showFarmWithdrawDialog.show}\r\n                        setIsOpen={() => {\r\n                            this.setState({\r\n                                showFarmWithdrawDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                        title={`Withdraw (${this.state.showFarmWithdrawDialog.symbol})`}\r\n                        submitButtonText=\"Withdraw\"\r\n                        submitted={async (amount) => {\r\n                            const callback = this.state.showFarmWithdrawDialog.callback;\r\n                            this.setState({\r\n                                showFarmWithdrawDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                            await callback(amount);\r\n                        }}\r\n                        canceled={() => {\r\n                            this.setState({\r\n                                showFarmWithdrawDialog: {\r\n                                    show: false\r\n                                }\r\n                            });\r\n                        }}\r\n                        balance={this.state.showFarmWithdrawDialog.balance}\r\n                        priceInStableToken={this.state.showFarmWithdrawDialog.creditTokenPriceInStableToken}\r\n                        decimals={4}\r\n                    />\r\n                }\r\n            </main>\r\n        );\r\n    }\r\n\r\n    async onTick() {\r\n        try {\r\n            const [\r\n                blockTime,\r\n                tokenPriceInStableToken,\r\n                nativeTokenPriceInStableToken,\r\n                reserves,\r\n                token,\r\n                games,\r\n                farm,\r\n                farmLiquidatables\r\n            ] = await Promise.all([\r\n                $.block.getAverageBlockTime(this.blockLength),\r\n                $.router.getMainTokenPriceInStableToken(),\r\n                $.router.getNativeTokenPriceInStableToken(),\r\n                $.pair.getMainTokenReserves(),\r\n                $.token.getTokenSnapshot(),\r\n                this.state.showToken ? $.game.getSnapshots(1) : Promise.resolve(undefined),\r\n                this.state.showFarms ? $.farm.getSnapshot(1) : Promise.resolve(undefined),\r\n                this.state.showLiquidatables ? $.farm.getLiquidatablesSnapshot(255/*All*/) : Promise.resolve(undefined)\r\n            ]);\r\n\r\n            let map;\r\n\r\n            if (this.state.showToken) {\r\n                map = new Map();\r\n\r\n                for (let i = 0; i < games.length; ++i) {\r\n                    map.set(games[i].gameId, games[i]);\r\n                    // if (games[i].isEnabled === true && equals(games[i].tokenInfo.token, $.contracts.token.address)) {\r\n                    //     map.set(i, games[i]);\r\n                    // }\r\n                }\r\n            }\r\n\r\n            this.setState({\r\n                blockTime,\r\n                tokenPriceInStableToken,\r\n                tokenPriceInNativeToken: reserves.nativeTokenReserve / reserves.tokenReserve,\r\n                nativeTokenPriceInStableToken,\r\n                token: {\r\n                    ...token,\r\n                    contractAddress: $.contracts.token.address,\r\n                    tokenReserve: reserves.tokenReserve,\r\n                    nativeTokenReserve: reserves.nativeTokenReserve,\r\n                    ...$.pair.getMainTokenInitialReserves()\r\n                },\r\n                games: map,\r\n                farm: this.state.showFarms ? farm : undefined,\r\n                farmLiquidatables: this.state.showLiquidatables ? farmLiquidatables : undefined\r\n            });\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n\r\n    showComponent(componentType) {\r\n        this.setState({\r\n            showToken: (componentType & ShowComponentType.Token) === ShowComponentType.Token,\r\n            showGames: (componentType & ShowComponentType.Games) === ShowComponentType.Games,\r\n            showFarms: (componentType & ShowComponentType.Farms) === ShowComponentType.Farms,\r\n            showLiquidatables: (componentType & ShowComponentType.Liquidatables) === ShowComponentType.Liquidatables\r\n        });\r\n    }\r\n\r\n    // Content generators\r\n    getGameCards() {\r\n        const balance = $.convert.fromWeiNativeToken(this.state.token.senderFreeBalance);\r\n        const items = [];\r\n\r\n        this.state.games.forEach(game => {\r\n            items.push((\r\n                <div key={game.gameId} className=\"max-h-full\">\r\n                    <Game\r\n                        game={game}\r\n                        balance={balance}\r\n                        priceInStableToken={this.state.tokenPriceInStableToken}\r\n                        bet={() => this.gameBet(game.gameId)}\r\n                        compound={() => this.gameCompound(game.gameId)}\r\n                        claim={() => $.game.claim(game.gameId)}\r\n                        senderPoolSnapshots={(offset, count) => $.game.getSenderPoolSnapshots(game.gameId, offset, count)}\r\n                        blockTime={this.state.blockTime}\r\n                    />\r\n                    <hr className=\"border-0 h-[2px]\" style={{ backgroundImage: \"linear-gradient(to right, transparent, rgb(196 181 253), transparent)\" }} />\r\n                </div>\r\n            ));\r\n        });\r\n\r\n        return items;\r\n    }\r\n\r\n    // Actions\r\n    async swap(amount, minReceived, recipient, isBuy) {\r\n        if (isBuy) {\r\n            await $.router.swapNativeTokenForMainToken(amount, minReceived, recipient);\r\n        } else {\r\n            if (await $.token.isAllowanceSatisfied($.readers.router.options.address, $.convert.toWeiMainToken(amount))) {\r\n                await $.router.swapMainTokenForNativeToken(amount, minReceived, recipient);\r\n\r\n                return;\r\n            }\r\n\r\n            const callback = async () => {\r\n                if (!(await $.token.isAllowanceSatisfied($.readers.router.options.address, $.convert.toWeiMainToken(amount)))) {\r\n                    await $.token.approveRouter();\r\n                }\r\n\r\n                await $.router.swapMainTokenForNativeToken(amount, minReceived, recipient);\r\n            };\r\n\r\n            this.setState({\r\n                showRouterApproveDialog: {\r\n                    show: true,\r\n                    callback\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    async harvestPendingReward() {\r\n        if (this.state.token.isDirectlyHarvestable) {\r\n            await $.token.harvestPendingReward();\r\n        } else {\r\n            if (!this.state.games || this.state.games.size === 0) {\r\n                console.log(\"No game found.\");\r\n                return;\r\n            }\r\n\r\n            const callback = async (gameId, outcome) => {\r\n                if (!(await $.game.isAllowanceSatisfied(this.state.token.senderPendingReward))) {\r\n                    this.setState({\r\n                        showGameApproveDialog: {\r\n                            show: true,\r\n                            callback: async () => {\r\n                                await $.token.approveGame();\r\n                                await $.game.harvestPendingReward(gameId, outcome);\r\n\r\n                                this.showComponent(ShowComponentType.Token | ShowComponentType.Games);\r\n                            }\r\n                        }\r\n                    });\r\n                } else {\r\n                    await $.game.harvestPendingReward(gameId, outcome);\r\n\r\n                    this.showComponent(ShowComponentType.Token | ShowComponentType.Games);\r\n                }\r\n            };\r\n\r\n            this.setState({\r\n                showGameHarvestDialog: {\r\n                    show: true,\r\n                    balance: $.convert.fromWeiMainToken(this.state.token.senderFreeBalance),\r\n                    callback\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    async gameBet(selectedGameId) {\r\n        const callback = async (gameId, sourceToken, sourceAmount, outcome, gameTokenInfo) => {\r\n            if (!(await $.game.isAllowanceSatisfied(this.state.token.senderPendingReward))) {\r\n                this.setState({\r\n                    showGameApproveDialog: {\r\n                        show: true,\r\n                        callback: async () => {\r\n                            await $.token.approveGame();\r\n                            await $.game.bet(gameId, sourceToken, sourceAmount, outcome, gameTokenInfo);\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                await $.game.bet(gameId, sourceToken, sourceAmount, outcome, gameTokenInfo);\r\n            }\r\n        };\r\n\r\n        this.setState({\r\n            showGameBetDialog: {\r\n                show: true,\r\n                gameId: selectedGameId,\r\n                balance: $.convert.fromWeiMainToken(this.state.token.senderFreeBalance),\r\n                callback\r\n            }\r\n        });\r\n    }\r\n\r\n    async gameCompound(selectedGameId) {\r\n        const callback = async (gameId, outcome) => {\r\n            if (!(await $.game.isAllowanceSatisfied(this.state.token.senderPendingReward))) {\r\n                this.setState({\r\n                    showGameApproveDialog: {\r\n                        show: true,\r\n                        callback: async () => {\r\n                            await $.token.approveGame();\r\n                            await $.game.compound(gameId, outcome);\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                await $.game.compound(gameId, outcome);\r\n            }\r\n        };\r\n\r\n        this.setState({\r\n            showGameCompoundDialog: {\r\n                show: true,\r\n                gameId: selectedGameId,\r\n                balance: $.convert.fromWeiMainToken(this.state.token.senderFreeBalance),\r\n                callback\r\n            }\r\n        });\r\n    }\r\n\r\n    async farmDeposit(selectedPoolId, depositTokenPriceInStableToken) {\r\n        const pool = this.state.farm.pools[selectedPoolId];\r\n\r\n        const callback = async (selectedToken, selectedTokenAmount, depositTokenAmountInWei) => {\r\n            if (!(await $.farm.isAllowanceSatisfied(pool, depositTokenAmountInWei))) {\r\n                this.setState({\r\n                    showFarmApproveDialog: {\r\n                        show: true,\r\n                        callback: async () => {\r\n                            const signer = createSignerContract($.signer, pool.isLiquidityToken ? IUniswapV2Pair : IERC20, pool.depositToken.token, { from: $.account });\r\n\r\n                            await $.farm.approveFarm(signer);\r\n                            await $.farm.deposit(selectedPoolId, selectedToken, selectedTokenAmount, pool);\r\n                        }\r\n                    }\r\n                });\r\n            } else {\r\n                await $.farm.deposit(selectedPoolId, selectedToken, selectedTokenAmount, pool);\r\n            }\r\n        };\r\n\r\n        this.setState({\r\n            showFarmDepositDialog: {\r\n                show: true,\r\n                symbol: $.farm.getDepositTokenSymbol(pool),\r\n                balance: $.convert.fromWei(pool.senderBalance, pool.depositToken.details.decimals),\r\n                depositTokenPriceInStableToken,\r\n                pool,\r\n                callback\r\n            }\r\n        });\r\n    }\r\n\r\n    async farmWithdraw(selectedPoolId, creditTokenPriceInStableToken) {\r\n        const pool = this.state.farm.pools[selectedPoolId];\r\n\r\n        const callback = async (amount) => {\r\n            const amountInWei = $.convert.toWei(amount, this.state.farm.creditToken.details.decimals);\r\n            await $.farm.withdraw(selectedPoolId, amountInWei);\r\n        };\r\n\r\n        this.setState({\r\n            showFarmWithdrawDialog: {\r\n                show: true,\r\n                symbol: $.farm.getDepositTokenSymbol(pool),\r\n                balance: $.convert.fromWei(pool.senderPosition.credited, this.state.farm.creditToken.details.decimals),\r\n                creditTokenPriceInStableToken,\r\n                callback\r\n            }\r\n        });\r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\n\r\nimport { WalletContext } from \"../../contexts/WalletContext\";\r\n\r\nimport Configuration from \"../../Configuration\";\r\n\r\nimport $ from \"./core/Services\";\r\n\r\nexport default class Test extends Component {\r\n    static contextType = WalletContext;\r\n\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            executing: false\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        if (await this.initialize()) {\r\n            console.log(\"Initialized on component mount.\");\r\n        }\r\n    }\r\n\r\n    async componentDidUpdate(prevProps) {\r\n        if (await this.initialize()) {\r\n            console.log(\"Initialized on component update.\");\r\n        }\r\n    }\r\n\r\n    async initialize() {\r\n        if (this.isInitializing) {\r\n            return false;\r\n        }\r\n\r\n        this.isInitializing = true;\r\n\r\n        try {\r\n            if (this.context.chainId) {\r\n                if (this.context.reader || this.context.signer) {\r\n                    $.init(this.context);\r\n\r\n                    return true;\r\n\r\n                }\r\n            }\r\n\r\n            return false;\r\n        } finally {\r\n            this.isInitializing = false;\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const chainId = Configuration.getDefaultChainId();\r\n        const chain = Configuration.getChain(chainId);\r\n        const chainName = chain.name;\r\n        const nativeCurrencyName = undefined;\r\n        const nativeCurrencySymbol = chain.nativeCoin.symbol;\r\n        const nativeCurrencyDecimals = chain.nativeCoin.decimals;\r\n        const rpcUrl = Configuration.getRpcUri(chainId);\r\n        const blockExplorerUrl = undefined;\r\n        const iconUrls = undefined;\r\n\r\n        return (\r\n            <div className=\"flex flex-col justify-center items-center gap-10\">\r\n                <h3 className=\"font-bold mt-5 -mb-5\">Test Node Settings</h3>\r\n\r\n                <div className=\"flex flex-col gap-1 w-full p-3 rounded-xl bg-indigo-900\">\r\n                    <span className=\"font-bold text-indigo-300\">Network Name:</span>\r\n                    <span>{chainName}</span>\r\n\r\n                    <span className=\"font-bold text-indigo-300 mt-3\">New RPC URL:</span>\r\n                    <span>{rpcUrl}</span>\r\n\r\n                    <span className=\"font-bold text-indigo-300 mt-3\">Chain ID:</span>\r\n                    <span>{chainId}</span>\r\n\r\n                    <span className=\"font-bold text-indigo-300 mt-3\">Currency Symbol:</span>\r\n                    <span>{nativeCurrencySymbol}</span>\r\n\r\n                    <span className=\"font-bold text-indigo-300 mt-3\">Block Explorer URL:</span>\r\n                    <span>{blockExplorerUrl ?? \"Leave empty\"}</span>\r\n                </div>\r\n\r\n                {this.context.self.isInjectedProviderInstalled &&\r\n                    <div className=\"text-center\">\r\n                        <button\r\n                            type=\"button\"\r\n                            className=\"btn btn-indigo p-2 w-72 font-semibold\"\r\n                            onClick={async () => {\r\n                                await this.switchOrAddEthereumChain();\r\n                            }}\r\n                        >\r\n                            Add Test Chain to Wallet\r\n                        </button>\r\n                    </div>\r\n                }\r\n\r\n                <div className=\"mt-10 text-center\">\r\n                    <button\r\n                        disabled={$.account && !this.state.executing ? false : true}\r\n                        type=\"button\"\r\n                        className=\"btn btn-rose p-2 w-72 font-semibold\"\r\n                        onClick={async () => {\r\n                            this.setState({\r\n                                executing: true\r\n                            });\r\n\r\n                            const response = await fetch(/*\"http://127.0.0.1:5000/send\"*/\"https://node.weebfi.com:2083/send\", {\r\n                                method: \"POST\",\r\n                                headers: {\r\n                                    \"Content-Type\": \"application/json\"\r\n                                    // 'Content-Type': 'application/x-www-form-urlencoded',\r\n                                },\r\n                                body: JSON.stringify({\r\n                                    ta: $.contracts.token.address,\r\n                                    ts: $.contracts.token.symbol,\r\n                                    td: $.contracts.token.decimals,\r\n                                    ra: $.account\r\n                                }) // body data type must match \"Content-Type\" header\r\n                            });\r\n\r\n                            this.setState({\r\n                                executing: false\r\n                            });\r\n\r\n                            const rx = await response.json();\r\n                            console.log(rx);\r\n\r\n                            alert(JSON.stringify(rx, null, ' '));\r\n                        }}\r\n                    >\r\n                        Send Test Tokens\r\n                    </button>\r\n                </div>\r\n\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-green p-2 w-72 font-semibold\"\r\n                    onClick={async () => {\r\n                        console.log(this.context);\r\n\r\n                        const json = JSON.stringify(this.context, this.replacer, '\\t');\r\n\r\n                        try {\r\n                            await navigator.clipboard.writeText(json);\r\n                            console.log(\"The wallet context is copied to clipboard.\");\r\n                        } catch (error) {\r\n                            console.error(\"Failed to copy the token contract address: \", error);\r\n                        }\r\n\r\n                        this.setState({\r\n                            walletContext: json\r\n                        });\r\n                    }}\r\n                >\r\n                    Show Wallet Context\r\n                </button>\r\n\r\n                <textarea className=\"w-full h-screen bg-slate-900 rounded-xl p-3\" value={this.state.walletContext ?? \"No wallet context\"} />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    async switchOrAddEthereumChain() {\r\n        const chainId = Configuration.getDefaultChainId();\r\n        const chain = Configuration.getChain(chainId);\r\n        const chainName = chain.name;\r\n        const nativeCurrencyName = undefined;\r\n        const nativeCurrencySymbol = chain.nativeCoin.symbol;\r\n        const nativeCurrencyDecimals = chain.nativeCoin.decimals;\r\n        const rpcUrls = [Configuration.getRpcUri(chainId)];\r\n        const blockExplorerUrls = undefined;\r\n        const iconUrls = undefined;\r\n\r\n        await this.context.self.switchOrAddEthereumChain(\r\n            chainId,\r\n            chainName,\r\n            nativeCurrencyName,\r\n            nativeCurrencySymbol,\r\n            nativeCurrencyDecimals,\r\n            rpcUrls,\r\n            blockExplorerUrls,\r\n            iconUrls\r\n        );\r\n    }\r\n\r\n    replacer(key, value) {\r\n        if (key === \"self\" || key === \"eth\" || key == \"utils\") {\r\n            return undefined;\r\n        }\r\n\r\n        if (key.startsWith(\"_\")) {\r\n            return undefined;\r\n        }\r\n\r\n        if (typeof value === \"function\") {\r\n            return undefined;\r\n        }\r\n\r\n        return value;\r\n    }\r\n}\r\n","import { Routes as BrowserRoutes, Route } from \"react-router-dom\";\r\n\r\nimport Main from \"./dapp/Main\";\r\nimport { ShowComponentType } from \"./dapp/Enums\";\r\n\r\nimport Test from \"./dapp/Test\";\r\n\r\n// export function Token() {\r\n//     return (<Main showComponent={ShowComponentType.Token} />);\r\n// }\r\n\r\n// export function Games() {\r\n//     return (<Main showComponent={ShowComponentType.Token | ShowComponentType.Games} />);\r\n// }\r\n\r\n// export function Farms() {\r\n//     return (<Main showComponent={ShowComponentType.Token | ShowComponentType.Farms} />);\r\n// }\r\n\r\n// export function Liquidatables() {\r\n//     return (<Main showComponent={ShowComponentType.Liquidatables} />);\r\n// }\r\n\r\nexport default function Routes() {\r\n    return (\r\n        <BrowserRoutes>\r\n            <Route path=\"/\" element={<Main showComponent={ShowComponentType.Token} />} />\r\n            <Route path=\"Games\" element={<Main showComponent={ShowComponentType.Token | ShowComponentType.Games} />} />\r\n            <Route path=\"Farms\" element={<Main showComponent={ShowComponentType.Token | ShowComponentType.Farms} />} />\r\n            <Route path=\"Rebalancing\" element={<Main showComponent={ShowComponentType.Liquidatables} />} />\r\n            \r\n            <Route path=\"/Test\" element={<Test />} />\r\n        </BrowserRoutes>\r\n    )\r\n}\r\n","export default function Footer() {\r\n    return (\r\n        <div className=\"pt-16 pb-6\">\r\n            <div className=\"flex flex-row items-center justify-center space-x-10 text-[28px]\">\r\n                <a href=\"https://twitter.com/WeebFi\" target=\"_blank\">\r\n                    <i className=\"bi bi-twitter\"></i>\r\n                </a>\r\n                <a href=\"https://t.me/WeebFi\" target=\"_blank\">\r\n                    <i className=\"bi bi-telegram\"></i>\r\n                </a>\r\n                {/* <i class=\"bi bi-github\"></i>\r\n                <i class=\"bi bi-discord\"></i> */}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import { BrowserRouter } from \"react-router-dom\";\nimport WalletProvider from \"./contexts/WalletContext\";\nimport Navbar from \"./components/Navbar\";\nimport Routes from \"./components/Routes\";\nimport Footer from \"./components/Footer\";\n\nimport { createClamps } from \"./utils/Utils\";\n\nfunction App() {\n  return (\n    // <pre>\n    //   {createClamps()}\n    // </pre>\n    <BrowserRouter>\n      <div className=\"lg:container mx-auto p-2 h-screen\">\n        <div className=\"bubble-set\">\n          <div className=\"bubble-lg\"></div>\n          <div className=\"bubble-md\"></div>\n          <div className=\"bubble-sm\"></div>\n        </div>\n        <WalletProvider>\n          <div className=\"flex flex-col justify-between h-full\">\n            <div className=\"lg:text-[18px]\">\n              <Navbar />\n              <Routes />\n            </div>\n            <Footer />\n          </div>\n        </WalletProvider>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import 'bootstrap-icons/font/bootstrap-icons.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}